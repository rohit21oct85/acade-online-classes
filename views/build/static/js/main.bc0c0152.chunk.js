(this.webpackJsonpresources=this.webpackJsonpresources||[]).push([[0],{58:function(e,t,a){},60:function(e,t,a){},89:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(21),o=a.n(s),r=(a(58),a(11)),i=a(12),l=a(4),d=a.n(l),u=a(10),j=a(9),m=(a(60),a(101)),b=a(6),v=a(0),p=localStorage.getItem("fullname"),O=localStorage.getItem("email"),g=localStorage.getItem("role"),h=localStorage.getItem("created_at"),x=localStorage.getItem("isLoggedIn"),f=localStorage.getItem("access_token"),N=localStorage.getItem("refresh_token"),y={isLoggedIn:x||!1,fullname:p||null,email:O||null,role:g||null,created_at:h||null,access_token:f||null,refresh_token:N||null},_=n.a.createContext(y),k=function(e,t){switch(t.type){case"LOGIN":return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:t.payload.isLoggedIn,fullname:t.payload.fullname,email:t.payload.email,role:t.payload.role,created_at:t.payload.created_at,access_token:t.payload.access_token,refresh_token:t.payload.refresh_token});case"LOGOUT":return localStorage.clear(),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("fullname"),localStorage.removeItem("email"),Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!1,fullname:null,email:null,access_token:null,refresh_token:null});default:return e}};var w=function(e){var t=e.children,a=Object(c.useReducer)(k,y),n=Object(j.a)(a,2),s=n[0],o=n[1];return Object(v.jsx)(_.Provider,{value:{state:s,dispatch:o},children:t})},S=a(103),C=a(13),L=a.n(C),I="https://acade-online-classes.herokuapp.com/api/";function A(){var e=Object(c.useContext)(_).state;return Object(S.a)("app-modules",Object(u.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token){t.next=5;break}return t.next=3,L.a.get("".concat(I,"v1/module/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return a=t.sent,t.abrupt("return",a.data.data);case 5:case"end":return t.stop()}}),t)}))))}function D(e){var t=e.isLoading;return Object(v.jsx)("div",{children:t&&Object(v.jsx)("div",{className:"spinner-border",style:{width:"16px",height:"16px"},role:"status",children:Object(v.jsx)("span",{className:"sr-only",children:"Loading..."})})})}function F(){var e=Object(i.g)(),t=(Object(i.h)(),Object(i.i)(),Object(c.useContext)(_)),a=t.state,n=t.dispatch,s=A(),o=s.data,l=s.isLoading,b=Object(c.useState)([]),p=Object(j.a)(b,2),O=(p[0],p[1]);function g(){return(g=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"true"==(null===a||void 0===a?void 0:a.isLoggedIn)&&O(o);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return g.apply(this,arguments)}),[a]),Object(v.jsx)(v.Fragment,{children:a.isLoggedIn&&Object(v.jsxs)("div",{className:"login_menu col-lg-2 col-md-2 col-12",bg:"dark",variant:"dark",expand:"lg",children:[Object(v.jsx)("div",{className:"webLogo",children:Object(v.jsx)("img",{src:"/logo.png",style:{width:"62%"},alt:"User"})}),Object(v.jsxs)("div",{className:"user_area",children:[Object(v.jsx)("div",{className:"col-md-12 user_icon",children:Object(v.jsx)("div",{className:"col-md-12 p-0",children:Object(v.jsx)("img",{src:"/profile.jpg",className:"profileImage"})})}),Object(v.jsxs)("div",{className:"user_options mt-1",children:[Object(v.jsx)("div",{className:"col-md-12 p-0 user_details",children:Object(v.jsx)("span",{className:"user_name",children:null===a||void 0===a?void 0:a.email})}),Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{as:r.b,children:Object(v.jsx)("button",{className:"btn-success p-2 dark pt-0 pb-0 m-0",style:{borderRadius:"5px"},children:"1"===a.role?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"fa fa-lock"})," Super Admin"]}):" Admin"})}),Object(v.jsx)("li",{as:r.b,onClick:function(){n({type:"LOGOUT"}),e.push("/")},alt:"Logout",children:Object(v.jsxs)("button",{className:"btn-danger p-2 dark pt-0 pb-0 m-0",style:{borderRadius:"5px"},children:[Object(v.jsx)("span",{className:"fa fa-power-off mr-2"}),"Logout"]})})]})]})]}),Object(v.jsx)("div",{className:"navbar_menus",children:Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(m.a,{className:"ml-auto",children:Object(v.jsxs)(r.c,{to:"/admin/dashboard",children:[" ",Object(v.jsx)("span",{className:"fa fa-dashboard"})," Dashboard"]})})}),Object(v.jsx)("li",{children:Object(v.jsx)(m.a,{className:"ml-auto",children:Object(v.jsxs)(r.c,{to:"/admin/app-module",children:[" ",Object(v.jsx)("span",{className:"fa fa-gear"})," App Module "]})})}),Object(v.jsx)(D,{isLoading:l}),null===o||void 0===o?void 0:o.map((function(e){return Object(v.jsx)("li",{id:null===e||void 0===e?void 0:e.module_slug,children:Object(v.jsx)(m.a,{className:"ml-auto",children:Object(v.jsxs)(r.c,{to:"/admin/".concat(null===e||void 0===e?void 0:e.module_slug),children:[" ",Object(v.jsx)("span",{className:"fa ".concat(null===e||void 0===e?void 0:e.module_icon)})," ",null===e||void 0===e?void 0:e.module_name," "]})})},null===e||void 0===e?void 0:e._id)}))]})})]})})}a(88);var T=a(29),z=function(e){var t=e.component,a=Object(T.a)(e,["component"]),n=Object(c.useContext)(_).state;return Object(v.jsx)(i.b,Object(b.a)(Object(b.a)({},a),{},{render:function(e){return n.isLoggedIn?Object(v.jsx)(t,Object(b.a)({},e)):Object(v.jsx)(i.a,{to:{pathname:"/login"}})}}))},M=function(e){var t=e.component,a=Object(T.a)(e,["component"]),n=Object(c.useContext)(_).state;return Object(v.jsx)(i.b,Object(b.a)(Object(b.a)({},a),{},{render:function(e){return"1"==n.role?Object(v.jsx)(t,Object(b.a)({},e)):Object(v.jsx)(i.a,{to:{pathname:"/403"}})}}))},U=(a(89),a(19));a(96);var B=a(27),E=a(104),P=(a(51),function(e){var t,a,c;return null===e||void 0===e||null===(t=e.trim())||void 0===t||null===(a=t.toLowerCase())||void 0===a||null===(c=a.replace(/[^\w ]+/g,""))||void 0===c?void 0:c.replace(/ +/g,"-")}),q=function(e,t){return e?e.substr(0,t):""};function G(){var e=Object(i.i)(),t=null===e||void 0===e?void 0:e.category_id,a=Object(c.useContext)(_).state;return Object(S.a)("single-category-".concat(t),Object(u.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return e.next=3,L.a.get("".concat(I,"v1/category/view/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return c=e.sent,e.abrupt("return",c.data.data);case 5:case"end":return e.stop()}}),e)}))))}function Q(){var e=Object(i.g)(),t=Object(i.i)(),a=Object(i.h)().pathname,n=Object(U.useToasts)().addToast,s=Object(c.useContext)(_).state,o=Object(c.useState)(""),r=Object(j.a)(o,2),l=r[0],m=r[1],p=Object(c.useState)(""),O=Object(j.a)(p,2),g=O[0],h=O[1],x=Object(c.useState)(""),f=Object(j.a)(x,2),N=f[0],y=f[1],k=Object(c.useState)(!1),w=Object(j.a)(k,2),S=w[0],C=w[1],A=G().data,D=Object(c.useState)(),F=Object(j.a)(D,2),T=F[0],z=F[1],M=Object(c.useState)({}),q=Object(j.a)(M,2),Q=q[0];q[1];function R(){m(""),h(""),y(""),z({})}Object(c.useEffect)((function(){z(A)}),[A]);var W=Object(B.b)(),J={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+s.access_token}},Y=Object(E.a)((function(e){return L.a.post("".concat(I,"v1/category/create"),e,J)}),{onSuccess:function(){W.invalidateQueries("category"),C(!1),R(),e.push("".concat(a)),n("Category added successfully",{appearance:"success",autoDismiss:!0})}}),V=Object(E.a)((function(e){var a=null===t||void 0===t?void 0:t.category_id;return L.a.patch("".concat(I,"v1/category/update/").concat(a),e,J)}),{onSuccess:function(){W.invalidateQueries("category"),C(!1),R(),e.push("".concat(a)),n("Category Updated successfully",{appearance:"success",autoDismiss:!0}),e.push("/category-management")}}),H=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),C(!0),Q.category_name=(null===t||void 0===t?void 0:t.category_id)?null===T||void 0===T?void 0:T.category_name:l,Q.category_image=(null===t||void 0===t?void 0:t.category_id)?null===T||void 0===T?void 0:T.category_image:N,Q.category_details=(null===t||void 0===t?void 0:t.category_id)?null===T||void 0===T?void 0:T.category_details:g,Q.category_slug=P((null===t||void 0===t?void 0:t.category_id)?null===T||void 0===T?void 0:T.category_name:l),!(null===t||void 0===t?void 0:t.category_id)){e.next=11;break}return e.next=9,V.mutate(Q);case 9:e.next=13;break;case 11:return e.next=13,Y.mutate(Q);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function K(){return(K=Object(u.a)(d.a.mark((function e(a){var c,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),c=a.target.value,n=c.split("/")[5],c.length>0&&(s="https://drive.google.com/uc?export=view&id=".concat(n),(null===t||void 0===t?void 0:t.category_id)?z(Object(b.a)(Object(b.a)({},T),{},{category_image:s})):y(s));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{className:"form-heading",children:[Object(v.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Category"]}),Object(v.jsx)("hr",{className:"mt-1"}),Object(v.jsxs)("form",{onSubmit:H,children:[Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"text",className:"form-control",value:(null===t||void 0===t?void 0:t.category_id)?null===T||void 0===T?void 0:T.category_name:l,onChange:function(e){(null===t||void 0===t?void 0:t.category_id)?z(Object(b.a)(Object(b.a)({},T),{},{category_name:e.target.value})):m(e.target.value)},placeholder:"Category Name"})}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("input",{type:"text",className:"form-control",value:(null===t||void 0===t?void 0:t.category_id)?null===T||void 0===T?void 0:T.category_image:N,onChange:function(e){(null===t||void 0===t?void 0:t.category_id)?z(Object(b.a)(Object(b.a)({},T),{},{category_image:e.target.value})):y(e.target.value)},onBlur:function(e){return K.apply(this,arguments)},placeholder:"Category Image Url"}),Object(v.jsx)("span",{style:{fontSize:"0.7rem"},children:"Note: Please Copy Image Link From Google Drive."})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"text",className:"form-control",value:(null===t||void 0===t?void 0:t.category_id)?null===T||void 0===T?void 0:T.category_details:g,onChange:function(e){(null===t||void 0===t?void 0:t.category_id)?z(Object(b.a)(Object(b.a)({},T),{},{category_details:e.target.value})):h(e.target.value)},placeholder:"Category Details"})}),Object(v.jsxs)("div",{className:"form-group flex",children:[Object(v.jsx)("button",{className:"btn btn-sm dark",children:S?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(v.jsx)(v.Fragment,{children:(null===t||void 0===t?void 0:t.category_id)?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"fa fa-save mr-2"})," Update Category"]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"fa fa-save mr-2"})," Save Category"]})})}),(null===t||void 0===t?void 0:t.category_id)&&Object(v.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(t){t.preventDefault(),R(),z({}),e.push("/category-management")},children:[Object(v.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function R(e){var t=e.category,a=Object(i.g)();return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"row-reverse"},children:[Object(v.jsx)("span",{className:"fa fa-minus-square pointer text-danger"}),Object(v.jsx)("span",{className:"fa fa-pencil-square mr-2 text-success pointer",onClick:function(e){e.preventDefault(),a.push("/admin/category-management/".concat(null===t||void 0===t?void 0:t._id))}}),Object(v.jsx)("span",{className:"fa ".concat(!1===(null===t||void 0===t?void 0:t.segment_uploaded)?"fa-link text-danger":"fa-eye text-success"," mr-2 pointer "),title:"".concat(!1===(null===t||void 0===t?void 0:t.segment_uploaded)?"Link Segments":"View Segments"),onClick:function(e){return a.push("/admin/category-management/".concat(null===t||void 0===t?void 0:t._id,"/link-segments/").concat(null===t||void 0===t?void 0:t.category_slug))}})]})}function W(e){var t=e.category;return Object(v.jsxs)("div",{className:"lg-card",children:[Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-3 pr-0",children:Object(v.jsx)("div",{className:"name-main",children:Object(v.jsx)("img",{src:null===t||void 0===t?void 0:t.category_image,className:"img-responsive category_icon"})})}),Object(v.jsxs)("div",{className:"col-md-9 pl-0",children:[Object(v.jsx)("div",{className:"name-main",children:null===t||void 0===t?void 0:t.category_name}),Object(v.jsx)("hr",{className:"clearfix mt-1 mb-2"}),Object(v.jsx)("div",{className:"name-main",children:q(null===t||void 0===t?void 0:t.category_details,75)})]})]}),Object(v.jsx)("hr",{className:"mt-1 mb-2"}),Object(v.jsx)(R,{category:t})]})}function J(){var e=function(){var e=Object(c.useContext)(_).state;return Object(S.a)("category",Object(u.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token){t.next=5;break}return t.next=3,L.a.get("".concat(I,"v1/category/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return a=t.sent,t.abrupt("return",a.data.data);case 5:case"end":return t.stop()}}),t)}))))}(),t=e.data,a=e.isLoading;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{className:"form-heading",children:[Object(v.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"All Category"]}),Object(v.jsx)("hr",{className:"mt-1"}),Object(v.jsx)(D,{isLoading:a}),Object(v.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:null===t||void 0===t?void 0:t.map((function(e){return Object(v.jsx)(W,{category:e},null===e||void 0===e?void 0:e._id)}))})]})}function Y(){var e=G().data,t=Object(i.g)(),a=Object(i.i)(),n=(Object(i.h)().pathname,Object(U.useToasts)().addToast),s=Object(c.useContext)(_).state;Object(c.useEffect)((function(){return x.apply(this,arguments)}),[e]);var o=Object(c.useState)([]),r=Object(j.a)(o,2),l=r[0],m=r[1],p=Object(c.useState)(!1),O=Object(j.a)(p,2),g=O[0],h=O[1];function x(){return(x=Object(u.a)(d.a.mark((function t(){var c,n,s,o,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c=null===a||void 0===a?void 0:a.category_slug)||!1!==(null===e||void 0===e?void 0:e.segment_uploaded)){t.next=10;break}return h(!0),t.next=5,L.a.get("https://spares-mp.gomechanic.app/categories/?format=json");case 5:s=t.sent,o=null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.data,r=o.filter((function(e){return e.segment_slug===c})),m(r),h(!1);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var f=Object(c.useState)({}),N=Object(j.a)(f,1)[0],y=Object(c.useState)(!1),k=Object(j.a)(y,2),w=k[0],S=k[1],C=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),N.segment_uploaded=!0,N.segments=l,e.next=5,T.mutate(N);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=Object(B.b)(),F={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+s.access_token}},T=Object(E.a)((function(e){var t=null===a||void 0===a?void 0:a.category_id;return L.a.patch("".concat(I,"v1/category/update/").concat(t),e,F)}),{onSuccess:function(){A.invalidateQueries("category"),S(!1),n("Category Segment Updated successfully",{appearance:"success",autoDismiss:!0}),t.push("/category-management/".concat(null===a||void 0===a?void 0:a.category_id))}}),z=Object(c.useState)({}),M=Object(j.a)(z,2),P=M[0],q=M[1],Q=Object(c.useState)(""),R=Object(j.a)(Q,2),W=R[0],J=R[1],Y=Object(c.useState)(""),V=Object(j.a)(Y,2),H=V[0],K=V[1],X=Object(c.useState)(""),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1];function te(){return(te=Object(u.a)(d.a.mark((function t(){var c,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===a||void 0===a?void 0:a.segment_id)){t.next=5;break}return t.next=3,null===e||void 0===e||null===(c=e.segments)||void 0===c?void 0:c.filter((function(e){return(null===e||void 0===e?void 0:e._id)===(null===a||void 0===a?void 0:a.segment_id)}));case 3:n=t.sent,q(n&&n[0]);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ae(){return(ae=Object(u.a)(d.a.mark((function e(t){var c,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c=t.target.value,n=c.split("/")[5],c.length>0&&(s="https://drive.google.com/uc?export=view&id=".concat(n),(null===a||void 0===a?void 0:a.category_id)?q(Object(b.a)(Object(b.a)({},P),{},{icon:s})):setCategoryImage(s));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){return te.apply(this,arguments)}),[e,null===a||void 0===a?void 0:a.segment_id]);var ce=Object(E.a)((function(e){return L.a.patch("".concat(I,"v1/category/update/segment/").concat(null===a||void 0===a?void 0:a.category_id,"/").concat(null===a||void 0===a?void 0:a.segment_id),e,F)}),{onSuccess:function(){A.invalidateQueries("category"),S(!1),n("Category Segment Updated successfully",{appearance:"success",autoDismiss:!0}),t.push("/admin/category-management/".concat(null===a||void 0===a?void 0:a.category_id,"/link-segment/").concat(null===a||void 0===a?void 0:a.category_slug))}});function ne(){return(ne=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(P),e.next=4,ce.mutate(P);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)("div",{children:[!1===(null===e||void 0===e?void 0:e.segment_uploaded)&&Object(v.jsxs)("div",{children:[Object(v.jsxs)("p",{className:"form-heading",style:{fontSize:"1.2em",fontWeight:"bold"},children:["Segments: ",null===a||void 0===a?void 0:a.category_slug,Object(v.jsx)("button",{className:"btn btn-sm dark pull-right",onClick:C,children:w?Object(v.jsx)(D,{isLoading:w}):Object(v.jsx)("span",{className:"fa fa-save"})})]}),Object(v.jsx)("hr",{className:"mt-1 mb-1"}),!w&&Object(v.jsx)(D,{isLoading:g}),null===l||void 0===l?void 0:l.map((function(e){return Object(v.jsx)("p",{className:"card pl-1 mb-1",children:null===e||void 0===e?void 0:e.name})}))]}),!0===(null===e||void 0===e?void 0:e.segment_uploaded)&&Object(v.jsxs)("div",{children:[Object(v.jsxs)("p",{children:["Segments: ",Object(v.jsx)("span",{className:"pull-right",children:null===a||void 0===a?void 0:a.category_slug})]}),Object(v.jsx)("hr",{className:"mt-1 mb-1"}),Object(v.jsxs)("form",{onSubmit:function(e){return ne.apply(this,arguments)},children:[Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"text",className:"form-control",value:(null===a||void 0===a?void 0:a.segment_id)?null===P||void 0===P?void 0:P.name:W,onChange:function(e){(null===a||void 0===a?void 0:a.segment_id)?q(Object(b.a)(Object(b.a)({},P),{},{name:e.target.value})):J(e.target.value)},placeholder:"Segment Name"})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"text",className:"form-control",value:(null===a||void 0===a?void 0:a.segment_id)?null===P||void 0===P?void 0:P.icon:H,onChange:function(e){(null===a||void 0===a?void 0:a.segment_id)?q(Object(b.a)(Object(b.a)({},P),{},{icon:e.target.value})):K(e.target.value)},onBlur:function(e){return ae.apply(this,arguments)},placeholder:"Segment Image Url"})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"text",className:"form-control",value:(null===a||void 0===a?void 0:a.segment_id)?null===P||void 0===P?void 0:P.about:$,onChange:function(e){(null===a||void 0===a?void 0:a.segment_id)?q(Object(b.a)(Object(b.a)({},P),{},{about:e.target.value})):ee(e.target.value)},placeholder:"Segment Details"})}),Object(v.jsxs)("div",{className:"form-group flex",children:[Object(v.jsx)("button",{className:"btn btn-sm dark",children:g?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(v.jsx)(v.Fragment,{children:(null===a||void 0===a?void 0:a.segment_id)?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"fa fa-save mr-2"})," Update Segment"]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"fa fa-save mr-2"})," Save Segment"]})})}),(null===a||void 0===a?void 0:a.segment_id)&&Object(v.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(e){e.preventDefault(),q({}),t.push("/admin/category-management/".concat(null===a||void 0===a?void 0:a.category_id,"/link-segments/").concat(null===a||void 0===a?void 0:a.category_slug))},children:[Object(v.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})]})}function V(e){var t=e.segment,a=Object(i.g)(),c=Object(i.i)();return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"row-reverse"},children:[Object(v.jsx)("span",{className:"fa fa-minus-square pointer text-danger"}),Object(v.jsx)("span",{className:"fa fa-pencil-square mr-2 text-success pointer",onClick:function(e){e.preventDefault(),a.push("/admin/category-management/".concat(null===c||void 0===c?void 0:c.category_id,"/link-segments/").concat(null===c||void 0===c?void 0:c.category_slug,"/").concat(null===t||void 0===t?void 0:t._id))}})]})}function H(){var e,t=G(),a=t.data,c=t.isLoading;return Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"All Segments List"}),Object(v.jsx)("hr",{className:"mt-1 mb-1"}),Object(v.jsx)(D,{isLoading:c}),Object(v.jsx)("div",{className:"row col-md-12 data-container-category",children:null===a||void 0===a||null===(e=a.segments)||void 0===e?void 0:e.map((function(e){return Object(v.jsxs)("div",{className:"lg-card",children:[Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-3 pr-0",children:Object(v.jsx)("div",{className:"name-main",children:Object(v.jsx)("img",{src:null===e||void 0===e?void 0:e.icon,className:"img-responsive category_icon"})})}),Object(v.jsxs)("div",{className:"col-md-9 pl-0",children:[Object(v.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.name}),Object(v.jsx)("hr",{className:"clearfix mt-1 mb-2"}),Object(v.jsx)("div",{className:"name-main",children:q(null===e||void 0===e?void 0:e.about,75)})]})]}),Object(v.jsx)("hr",{className:"mt-1 mb-2"}),Object(v.jsx)(V,{segment:e})]},null===e||void 0===e?void 0:e._id)}))})]})}function K(){var e=Object(i.g)(),t=Object(i.i)(),a=Object(i.h)().pathname,n=Object(U.useToasts)().addToast,s=Object(c.useContext)(_).state,o=Object(c.useState)(""),r=Object(j.a)(o,2),l=r[0],m=r[1],p=Object(c.useState)(""),O=Object(j.a)(p,2),g=O[0],h=O[1],x=Object(c.useState)(!1),f=Object(j.a)(x,2),N=f[0],y=f[1],k=function(){var e=Object(i.i)(),t=null===e||void 0===e?void 0:e.module_id,a=Object(c.useContext)(_).state;return Object(S.a)("single-module-".concat(t),Object(u.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return e.next=3,L.a.get("".concat(I,"v1/module/view/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return c=e.sent,e.abrupt("return",c.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,w=Object(c.useState)(),C=Object(j.a)(w,2),A=C[0],D=C[1],F=Object(c.useState)({}),T=Object(j.a)(F,2),z=T[0];T[1];function M(){m(""),h(""),D({})}Object(c.useEffect)((function(){D(k)}),[k]);var q=Object(B.b)(),G={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+s.access_token}},Q=Object(E.a)((function(e){return L.a.post("".concat(I,"v1/module/create"),e,G)}),{onSuccess:function(){q.invalidateQueries("app-modules"),y(!1),M(),e.push("".concat(a)),n("App Module added successfully",{appearance:"success",autoDismiss:!0})}}),R=Object(E.a)((function(e){var a=null===t||void 0===t?void 0:t.module_id;return L.a.patch("".concat(I,"v1/module/update/").concat(a),e,G)}),{onSuccess:function(){q.invalidateQueries("app-modules"),y(!1),M(),e.push("".concat(a)),n("App Module Updated successfully",{appearance:"success",autoDismiss:!0}),e.push("/app-module")}}),W=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),y(!0),z.module_name=(null===t||void 0===t?void 0:t.module_id)?null===A||void 0===A?void 0:A.module_name:l,z.module_slug=P((null===t||void 0===t?void 0:t.module_id)?null===A||void 0===A?void 0:A.module_name:l),z.module_icon=(null===t||void 0===t?void 0:t.module_id)?null===A||void 0===A?void 0:A.module_icon:g,!(null===t||void 0===t?void 0:t.module_id)){e.next=10;break}return e.next=8,R.mutate(z);case 8:e.next=12;break;case 10:return e.next=12,Q.mutate(z);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{className:"form-heading",children:[Object(v.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Create App Module"]}),Object(v.jsx)("hr",{className:"mt-1"}),Object(v.jsxs)("form",{onSubmit:W,children:[Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"text",className:"form-control",value:(null===t||void 0===t?void 0:t.module_id)?null===A||void 0===A?void 0:A.module_name:l,onChange:function(e){(null===t||void 0===t?void 0:t.module_id)?D(Object(b.a)(Object(b.a)({},A),{},{module_name:e.target.value})):m(e.target.value)},placeholder:"Module Name"})}),Object(v.jsxs)("div",{className:"form-group p-rel",children:[Object(v.jsx)("input",{type:"text",className:"form-control ".concat((null===t||void 0===t?void 0:t.module_id)?"pl6x":""),value:(null===t||void 0===t?void 0:t.module_id)?null===A||void 0===A?void 0:A.module_icon:g,placeholder:"Module Icon",onChange:function(e){(null===t||void 0===t?void 0:t.module_id)?D(Object(b.a)(Object(b.a)({},A),{},{module_icon:e.target.value})):h(e.target.value)}}),Object(v.jsx)("span",{className:"fa p-abs tl10 ".concat(null===A||void 0===A?void 0:A.module_icon)})]}),Object(v.jsxs)("div",{className:"form-group flex",children:[Object(v.jsx)("button",{className:"btn btn-sm dark",children:N?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(v.jsx)(v.Fragment,{children:(null===t||void 0===t?void 0:t.module_id)?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"fa fa-save mr-2"})," Update App Module"]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"fa fa-save mr-2"})," Save App Module"]})})}),(null===t||void 0===t?void 0:t.module_id)&&Object(v.jsxs)("button",{className:"btn btn-sm dark ml-2",onClick:function(t){t.preventDefault(),M(),D({}),e.push("/app-module")},children:[Object(v.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function X(e){var t=e.module,a=Object(i.g)();return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"row-reverse"},children:[Object(v.jsx)("span",{className:"fa fa-minus-square pointer text-danger"}),Object(v.jsx)("span",{className:"fa fa-pencil-square mr-2 text-success pointer",onClick:function(e){e.preventDefault(),a.push("/admin/app-module/".concat(null===t||void 0===t?void 0:t._id))}}),Object(v.jsx)("span",{className:"fa fa-eye mr-2 pointer text-danger",onClick:function(e){return a.push("/admin/".concat(null===t||void 0===t?void 0:t.module_slug))}})]})}function Z(e){var t=e.module;return Object(v.jsx)("div",{className:"lg-card",children:Object(v.jsxs)("div",{className:"admin-name",children:[Object(v.jsxs)("div",{className:"name-main",children:[Object(v.jsx)("span",{className:"fa ".concat(null===t||void 0===t?void 0:t.module_icon," mt-1 mr-2")}),null===t||void 0===t?void 0:t.module_name]}),Object(v.jsx)(X,{module:t})]})})}function $(){var e=A(),t=e.data,a=e.isLoading;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{className:"form-heading",children:[Object(v.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"App Modules"]}),Object(v.jsx)("hr",{className:"mt-1"}),a&&Object(v.jsxs)("div",{class:"spinner-border",role:"status",children:[" ",Object(v.jsx)("span",{class:"sr-only",children:"Loading..."})," "]}),Object(v.jsx)("div",{className:"col-md-12 row no-gutter data-container",children:null===t||void 0===t?void 0:t.map((function(e){return Object(v.jsx)(Z,{module:e},null===e||void 0===e?void 0:e._id)}))})]})}a(97);var ee=[{path:"/",component:function(){var e=Object(i.g)(),t=Object(i.h)(),a=Object(U.useToasts)().addToast,n=Object(c.useRef)(),s=Object(c.useRef)(),o=Object(c.useState)(null),l=Object(j.a)(o,2),m=(l[0],l[1],Object(c.useContext)(_)),b=m.dispatch,p=m.state,O=Object(c.useState)(!1),g=Object(j.a)(O,2),h=g[0],x=g[1],f=function(){var t=Object(u.a)(d.a.mark((function t(c){var o,r,i,l,u,j,m,v,p,O,g;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),o=n.current.value,r=s.current.value,""!==o){t.next=8;break}return a("Please enter email address",{appearance:"error",autoDismiss:!0}),t.abrupt("return",!1);case 8:if(""!==r){t.next=14;break}return a("Please enter password",{appearance:"error",autoDismiss:!0}),s.current.focus(),t.abrupt("return",!1);case 14:return x(!0),i={email:n.current.value,password:s.current.value},t.next=18,L.a.post("".concat(I,"v1/admin/login"),i);case 18:(l=t.sent).response&&l.response.status?(a("Please enter valid email or password",{appearance:"error",autoDismiss:!0}),x(!1)):(u=l.data.accessToken,j=l.data.refreshToken,m=l.data.admin.fullname,v=l.data.admin.email,p=l.data.admin.role,O=l.data.admin.created_at,g=!0,localStorage.setItem("access_token",u),localStorage.setItem("refresh_token",j),localStorage.setItem("fullname",m),localStorage.setItem("email",v),localStorage.setItem("role",p),localStorage.setItem("created_at",O),localStorage.setItem("isLoggedIn",g),b({type:"LOGIN",payload:{isLoggedIn:g,fullname:m,email:v,role:p,created_at:O,access_token:u,refresh_token:j}}),e.push("/admin/dashboard"));case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function N(){return(N=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"true"==(null===p||void 0===p?void 0:p.isLoggedIn)&&("1"==(null===p||void 0===p?void 0:p.role)?e.push("/admin/dashboard"):e.push("/dashboard"));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){"/admin"!==t.pathname&&"/admin/"!==t.pathname||e.push("/admin/login"),n.current.value="madmin@adc.com",s.current.value=""}),[p]),Object(c.useEffect)((function(){return N.apply(this,arguments)}),[p]),Object(v.jsxs)("div",{className:"container-fluid p-0 m-0 text-center LoginBg",style:{background:"url('/bg.jpg')"},children:[Object(v.jsx)("div",{className:"col-md-12",children:Object(v.jsx)(r.c,{to:"/",children:Object(v.jsx)("img",{className:"logo",alt:"company Logo",src:"/logo.png"})})}),Object(v.jsx)("div",{className:"row no-gutter",children:Object(v.jsxs)("div",{className:"col-md-3 loginDiv",children:[Object(v.jsx)("h4",{children:"Administrator Login "}),Object(v.jsx)("hr",{}),Object(v.jsxs)("form",{autoComplete:"Off",onSubmit:f,children:[Object(v.jsxs)("div",{className:"form-group text-left",children:[Object(v.jsxs)("label",{children:[" ",Object(v.jsx)("span",{className:"fa fa-send mr-2"})," Email address"]}),Object(v.jsx)("input",{className:"form-control",type:"email",autoComplete:"off",ref:n,placeholder:"Enter email"}),Object(v.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your email with anyone else."})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"form-group text-left",children:[Object(v.jsxs)("label",{children:[" ",Object(v.jsx)("span",{className:"fa fa-lock mr-2"})," Password"]}),Object(v.jsx)("input",{className:"form-control",type:"password",autoComplete:"Off",ref:s,placeholder:"Password"}),Object(v.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your password with anyone else."})]}),Object(v.jsx)("hr",{}),Object(v.jsx)("button",{className:"btn btn-md btn-block btn-success dark w-100",type:"submit",children:h?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"fa fa-spinner mr-2",children:" "})," Authenticating..."]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"fa fa-lock mr-2",children:" "})," Login Your Account"]})})]})]})})]})}},{path:"/403",component:function(){var e=Object(c.useContext)(_).state;return Object(v.jsx)(v.Fragment,{children:e.isLoggedIn&&Object(v.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(v.jsx)("div",{className:"main-area-all",children:Object(v.jsxs)("div",{className:"dashboard_main-container pt-5 text-center",children:[Object(v.jsx)("img",{src:"/403.jpg",alt:"Not authorized"}),Object(v.jsx)("p",{children:"You are not authorized to access this resource"}),Object(v.jsxs)(r.b,{to:"/dashboard",children:[Object(v.jsx)("span",{className:"fa fa-home"}),Object(v.jsx)("span",{className:"ml-3",children:"Go to Dashboard"})]})]})})})})}}],te=[{path:"/admin/dashboard",component:function(){var e=Object(c.useContext)(_).state;return Object(v.jsx)(v.Fragment,{children:e.isLoggedIn&&Object(v.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(v.jsx)("div",{className:"main-area-all",children:Object(v.jsxs)("div",{className:"dashboard_main-container",children:[Object(v.jsx)("div",{className:"dash-main-head",children:Object(v.jsx)("h2",{children:"Dashboard"})}),Object(v.jsx)("div",{className:"dash_over_view",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-md-12 pl-0",children:1===e.role&&Object(v.jsx)("div",{className:"col-md-3 card ml-3  pt-2 pb-2 main-box gradient-ibiza",children:Object(v.jsxs)("div",{className:"card-body pt-0 pb-0 pl-0",children:[Object(v.jsxs)("div",{className:"box-head",children:[Object(v.jsx)("h4",{children:"Admin"}),Object(v.jsx)("div",{className:"box-icon",children:Object(v.jsx)("span",{className:"fa fa-users"})})]}),Object(v.jsx)("div",{className:"main-box-text",children:Object(v.jsx)("b",{children:"Total: 1 "})})]})})})})})]})})})})}},{path:"/admin/category-management/:action_type?/:category_id?/:category_slug?/:segment_id?",component:function(){var e=Object(i.i)(),t=Object(i.g)();return Object(v.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(v.jsx)("div",{className:"main-area-all",children:Object(v.jsxs)("div",{className:"dashboard_main-container",children:[Object(v.jsx)("div",{className:"dash-main-head",children:"link-segments"==(null===e||void 0===e?void 0:e.action_type)?Object(v.jsxs)("h2",{children:["All Segments - ",null===e||void 0===e?void 0:e.category_slug]}):Object(v.jsx)("h2",{children:"Category List"})}),Object(v.jsx)("div",{className:"dash-con-heading",children:Object(v.jsx)("div",{className:"col-md-12 row",children:"link-segments"==(null===e||void 0===e?void 0:e.action_type)?Object(v.jsx)("button",{className:"btn btn-sm dark",onClick:function(a){t.push("/category-management/".concat(null===e||void 0===e?void 0:e.category_id))},children:Object(v.jsx)("span",{className:"fa fa-arrow-left"})}):Object(v.jsx)("button",{className:"btn btn-sm dark",onClick:function(e){t.push("/dashboard")},children:Object(v.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(v.jsx)("div",{className:"clearfix"}),Object(v.jsx)("div",{className:"dash-cont-start",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-3",children:"link-segments"==(null===e||void 0===e?void 0:e.action_type)?Object(v.jsx)(Y,{}):Object(v.jsx)(Q,{})}),Object(v.jsx)("div",{className:"col-md-9 ",children:"link-segments"==(null===e||void 0===e?void 0:e.action_type)?Object(v.jsx)(H,{}):Object(v.jsx)(J,{})})]})})]})})})}}],ae=[{path:"/admin/app-module/:module_id?",component:function(){Object(i.i)();var e=Object(i.g)();return Object(v.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(v.jsx)("div",{className:"main-area-all",children:Object(v.jsxs)("div",{className:"dashboard_main-container",children:[Object(v.jsx)("div",{className:"dash-main-head",children:Object(v.jsx)("h2",{children:"App Modules List"})}),Object(v.jsx)("div",{className:"dash-con-heading",children:Object(v.jsx)("div",{className:"col-md-12 row",children:Object(v.jsx)("button",{className:"btn btn-sm dark",onClick:function(t){e.push("/dashboard")},children:Object(v.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(v.jsx)("div",{className:"clearfix"}),Object(v.jsx)("div",{className:"dash-cont-start",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-3",children:Object(v.jsx)(K,{})}),Object(v.jsx)("div",{className:"col-md-9",children:Object(v.jsx)($,{})})]})})]})})})}}],ce=new(a(102).a)({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function ne(){return Object(v.jsx)(r.a,{children:Object(v.jsx)("div",{className:"wrapper",children:Object(v.jsx)("div",{className:"row no-gutters",children:Object(v.jsx)(B.a,{client:ce,children:Object(v.jsx)(w,{children:Object(v.jsxs)(U.ToastProvider,{children:[Object(v.jsx)(F,{}),Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsxs)(i.d,{children:[null===ee||void 0===ee?void 0:ee.map((function(e){return Object(v.jsx)(i.b,{exact:!0,path:e.path,component:e.component},e.path)})),null===te||void 0===te?void 0:te.map((function(e){return Object(v.jsx)(z,{exact:!0,path:e.path,component:e.component},e.path)})),null===ae||void 0===ae?void 0:ae.map((function(e){return Object(v.jsx)(M,{exact:!0,path:e.path,component:e.component},e.path)}))]})})]})})})})})})}o.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(ne,{})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.bc0c0152.chunk.js.map