(this.webpackJsonpresources=this.webpackJsonpresources||[]).push([[0],{110:function(e,t,a){},111:function(e,t,a){},139:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},164:function(e,t,a){},208:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(22),i=a.n(s),o=(a(110),a(6)),l=a(17),r=(a(111),a(218)),d=a(9),u=a(5),j=a(0),m=localStorage.getItem("fullname"),b=localStorage.getItem("email"),p=localStorage.getItem("role"),v=localStorage.getItem("user_type"),h=localStorage.getItem("school_id"),O=localStorage.getItem("school_slug"),f=localStorage.getItem("school_logo"),x=localStorage.getItem("created_at"),g=localStorage.getItem("isLoggedIn"),_=localStorage.getItem("access_token"),N=localStorage.getItem("refresh_token"),y={isLoggedIn:g||!1,fullname:m||null,email:b||null,role:p||null,user_type:v||null,school_id:h||null,school_slug:O||null,school_logo:f||null,created_at:x||null,access_token:_||null,refresh_token:N||null},k=c.a.createContext(y),w=function(e,t){switch(t.type){case"LOGIN":return Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:t.payload.isLoggedIn,fullname:t.payload.fullname,email:t.payload.email,role:t.payload.role,user_type:t.payload.user_type,school_id:t.payload.school_id,school_slug:t.payload.school_slug,school_logo:t.payload.school_logo,created_at:t.payload.created_at,access_token:t.payload.access_token,refresh_token:t.payload.refresh_token});case"LOGOUT":return localStorage.clear(),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("fullname"),localStorage.removeItem("email"),localStorage.removeItem("role"),localStorage.removeItem("school_id"),localStorage.removeItem("school_slug"),localStorage.removeItem("school_logo"),Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:!1,fullname:null,email:null,access_token:null,refresh_token:null});default:return e}};var C=function(e){var t=e.children,a=Object(n.useReducer)(w,y),c=Object(d.a)(a,2),s=c[0],i=c[1];return Object(j.jsx)(k.Provider,{value:{state:s,dispatch:i},children:t})},S=a(2),T=a.n(S),A=a(3),D=a(220),L=a(4),F=a.n(L),B="https://acade-online-classes.herokuapp.com/api/";function I(){var e=Object(n.useContext)(k).state;return Object(D.a)("app-modules",Object(A.a)(T.a.mark((function t(){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token||"master_admin"!=(null===e||void 0===e?void 0:e.user_type)){t.next=5;break}return t.next=3,F.a.get("".concat(B,"v1/module/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return a=t.sent,t.abrupt("return",a.data.data);case 5:case"end":return t.stop()}}),t)}))))}function z(e){var t=e.isLoading;return Object(j.jsx)("div",{children:t&&Object(j.jsx)("div",{className:"spinner-border",style:{width:"16px",height:"16px"},role:"status",children:Object(j.jsx)("span",{className:"sr-only",children:"Loading..."})})})}function U(){var e=Object(n.useContext)(k).state,t=null===e||void 0===e?void 0:e.user_type,a=null===e||void 0===e?void 0:e.email;return Object(D.a)("other-modules",Object(A.a)(T.a.mark((function n(){var c;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===t){n.next=5;break}return n.next=3,F.a.get("".concat(B,"v1/permission/module/").concat(t,"/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return c=n.sent,n.abrupt("return",c.data.data);case 5:case"end":return n.stop()}}),n)}))))}function E(){var e,t=Object(l.g)(),a=(Object(l.h)(),Object(l.i)(),Object(n.useContext)(k)),c=a.state,s=a.dispatch,i=I(),d=i.data,u=i.isLoading,m=U(),b=m.data,p=m.isLoading;return Object(j.jsx)(j.Fragment,{children:c.isLoggedIn&&Object(j.jsxs)("div",{className:"login_menu col-lg-2 col-md-2 col-12",bg:"dark",variant:"dark",expand:"lg",children:[Object(j.jsxs)("div",{className:"webLogo row",style:{paddingLeft:"30px"},children:[Object(j.jsx)("img",{src:"/logo.png",className:"mr-2",style:{width:"15%"},alt:"User"}),Object(j.jsx)("h4",{children:"AcadeLearn"})]}),Object(j.jsxs)("div",{className:"user_area",children:[Object(j.jsx)("div",{className:"col-md-12 user_icon",children:Object(j.jsx)("div",{className:"col-md-12 p-0",children:Object(j.jsx)("img",{src:"/profile.jpg",className:"profileImage"})})}),Object(j.jsxs)("div",{className:"user_options mt-1",children:[Object(j.jsx)("div",{className:"col-md-12 p-0 user_details",children:Object(j.jsx)("span",{className:"user_name",children:null===c||void 0===c?void 0:c.email})}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{as:o.b,children:Object(j.jsxs)("button",{className:"bg-success dark br-10 pl-2 pr-2",children:[Object(j.jsx)("span",{className:"fa fa-lock mr-2"})," ",null===c||void 0===c||null===(e=c.user_type)||void 0===e?void 0:e.replace("_"," ")]})}),Object(j.jsx)("li",{as:o.b,onClick:function(){s({type:"LOGOUT"}),t.push("/admin/login")},alt:"Logout",children:Object(j.jsxs)("button",{className:"bg-danger dark br-10  pl-2 pr-2",children:[Object(j.jsx)("span",{className:"fa fa-power-off mr-2"}),"Logout"]})})]})]})]}),Object(j.jsx)("div",{className:"navbar_menus",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(r.a,{className:"ml-auto",children:Object(j.jsxs)(o.c,{to:"/admin/dashboard",children:[" ",Object(j.jsx)("span",{className:"bi bi-speedometer text-warning"})," Dashboard "]})})}),"master_admin"==(null===c||void 0===c?void 0:c.user_type)&&u&&Object(j.jsx)(z,{isLoading:u}),"master_admin"==(null===c||void 0===c?void 0:c.user_type)&&(null===d||void 0===d?void 0:d.map((function(e){if("master_admin"===(null===e||void 0===e?void 0:e.module_type))return Object(j.jsx)("li",{id:null===e||void 0===e?void 0:e.module_slug,children:Object(j.jsx)(r.a,{className:"ml-auto",children:Object(j.jsxs)(o.c,{to:"/admin/".concat(null===e||void 0===e?void 0:e.module_slug),children:[" ",Object(j.jsx)("span",{className:"bi ".concat(null===e||void 0===e?void 0:e.module_icon)})," ",null===e||void 0===e?void 0:e.module_name," "]})})},null===e||void 0===e?void 0:e._id)}))),"master_admin"==(null===c||void 0===c?void 0:c.user_type)&&(null===d||void 0===d?void 0:d.map((function(e){if("sub_admin"===(null===e||void 0===e?void 0:e.module_type))return Object(j.jsx)("li",{id:null===e||void 0===e?void 0:e.module_slug,children:Object(j.jsx)(r.a,{className:"ml-auto",children:Object(j.jsxs)(o.c,{to:"/admin/".concat(null===e||void 0===e?void 0:e.module_slug),children:[" ",Object(j.jsx)("span",{className:"bi ".concat(null===e||void 0===e?void 0:e.module_icon)})," ",null===e||void 0===e?void 0:e.module_name," "]})})},null===e||void 0===e?void 0:e._id)}))),(null===c||void 0===c?void 0:c.user_type)==c.user_type&&"master_admin"!==(null===c||void 0===c?void 0:c.user_type)&&p&&Object(j.jsx)(z,{isLoading:u}),(null===c||void 0===c?void 0:c.user_type)===c.user_type&&"master_admin"!==(null===c||void 0===c?void 0:c.user_type)&&(null===b||void 0===b?void 0:b.map((function(e){if((null===e||void 0===e?void 0:e.role_slug)==c.user_type)return Object(j.jsx)("li",{id:null===e||void 0===e?void 0:e.module_slug,children:Object(j.jsx)(r.a,{className:"ml-auto",children:Object(j.jsxs)(o.c,{to:"/admin/".concat(null===e||void 0===e?void 0:e.module_slug),children:[" ",Object(j.jsx)("span",{className:"bi ".concat(null===e||void 0===e?void 0:e.module_icon)})," ",null===e||void 0===e?void 0:e.module_slug," "]})})},null===e||void 0===e?void 0:e._id)})))]})})]})})}a(138);var Q=a(52),q=function(e){var t=e.component,a=Object(Q.a)(e,["component"]),c=Object(n.useContext)(k).state;return Object(j.jsx)(l.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return"true"==c.isLoggedIn?Object(j.jsx)(t,Object(u.a)({},e)):Object(j.jsx)(l.a,{to:{pathname:"/admin/login"}})}}))},M=function(e){var t=e.component,a=Object(Q.a)(e,["component"]),c=Object(n.useContext)(k).state;return Object(j.jsx)(l.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return"1"==c.role?Object(j.jsx)(t,Object(u.a)({},e)):Object(j.jsx)(l.a,{to:{pathname:"/403"}})}}))},P=(a(139),a(8));function H(){var e=Object(l.g)(),t=(Object(l.h)(),Object(P.useToasts)().addToast),a=Object(n.useRef)(),c=Object(n.useRef)(),s=Object(n.useState)(null),i=Object(d.a)(s,2),r=(i[0],i[1],Object(n.useContext)(k)),u=r.dispatch,m=r.state,b=Object(n.useState)(!1),p=Object(d.a)(b,2),v=p[0],h=p[1],O=function(){var e=Object(A.a)(T.a.mark((function e(n){var s,i,o,l,r,d,j,m,b,p,v,O,f,x,g,_,N,y,k,w,C,S,A,D,L,I;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),s=a.current.value,i=c.current.value,""!==s){e.next=8;break}return t("Please enter email address",{appearance:"error",autoDismiss:!0}),e.abrupt("return",!1);case 8:if(""!==i){e.next=14;break}return t("Please enter password",{appearance:"error",autoDismiss:!0}),c.current.focus(),e.abrupt("return",!1);case 14:return h(!0),l={email:a.current.value,password:c.current.value},e.next=18,F.a.post("".concat(B,"v1/admin/login"),l);case 18:203===(null===(r=e.sent)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.status)?(t("".concat(null===r||void 0===r||null===(d=r.data)||void 0===d?void 0:d.message),{appearance:"error",autoDismiss:!0}),h(!1)):(k=null===r||void 0===r||null===(j=r.data)||void 0===j?void 0:j.accessToken,w=null===r||void 0===r||null===(m=r.data)||void 0===m?void 0:m.refreshToken,C=null===r||void 0===r||null===(b=r.data)||void 0===b||null===(p=b.admin)||void 0===p?void 0:p.fullname,S=null===r||void 0===r||null===(v=r.data)||void 0===v||null===(O=v.admin)||void 0===O?void 0:O.email,A=null===r||void 0===r||null===(f=r.data)||void 0===f||null===(x=f.admin)||void 0===x?void 0:x.role,D=null===r||void 0===r||null===(g=r.data)||void 0===g||null===(_=g.admin)||void 0===_?void 0:_.role_name,"1"==A?D="master_admin":"2"==A?D="sub_admin":"3"==A&&(D="mapping_admin"),L=null===r||void 0===r||null===(N=r.data)||void 0===N||null===(y=N.admin)||void 0===y?void 0:y.created_at,I=!0,localStorage.setItem("access_token",k),localStorage.setItem("refresh_token",w),localStorage.setItem("fullname",C),localStorage.setItem("email",S),localStorage.setItem("role",A),localStorage.setItem("user_type",D),localStorage.setItem("created_at",L),localStorage.setItem("isLoggedIn",I),u({type:"LOGIN",payload:{isLoggedIn:I,fullname:C,email:S,role:A,user_type:D,created_at:L,access_token:k,refresh_token:w}}));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function f(){return(f=Object(A.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===m||void 0===m?void 0:m.isLoggedIn)?window.location.href="/admin/dashboard":e.push("/admin/login");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return f.apply(this,arguments)}),[m]),Object(j.jsxs)("div",{className:"container-fluid p-0 m-0 text-center LoginBg",style:{background:"url('/bg.jpg')"},children:[Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsx)(o.c,{to:"/",children:Object(j.jsx)("img",{className:"logo img-responsive",style:{width:"75px"},alt:"company Logo",src:"/logo.png"})})}),Object(j.jsx)("div",{className:"row no-gutter",children:Object(j.jsxs)("div",{className:"col-md-3 adminLoginDiv",children:[Object(j.jsx)("h4",{children:"Administrator Login "}),Object(j.jsx)("hr",{}),Object(j.jsxs)("form",{autoComplete:"Off",onSubmit:O,children:[Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsxs)("label",{children:[" ",Object(j.jsx)("span",{className:"fa fa-send mr-2"})," Email address"]}),Object(j.jsx)("input",{className:"form-control",type:"email",autoComplete:"off",ref:a,placeholder:"Enter email"}),Object(j.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your email with anyone else."})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsxs)("label",{children:[" ",Object(j.jsx)("span",{className:"fa fa-lock mr-2"})," Password"]}),Object(j.jsx)("input",{className:"form-control",type:"password",autoComplete:"Off",ref:c,placeholder:"Password"}),Object(j.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your password with anyone else."})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("button",{className:"btn btn-md btn-block btn-success dark w-100",type:"submit",disabled:v,children:v?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2",children:" "})," Authenticating..."]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-lock mr-2",children:" "})," Login Your Account"]})})]})]})})]})}a(146);function R(){var e=Object(l.g)(),t=Object(l.h)(),a=null===t||void 0===t?void 0:t.pathname,c=Object(n.useContext)(k),s=c.state;c.dispatch;function i(){return(i=Object(A.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"/admin/"===a&&e.push("/admin/dashboard");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return i.apply(this,arguments)}),[s]),Object(j.jsx)(j.Fragment,{children:s.isLoggedIn&&Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"Dashboard"})}),Object(j.jsx)("div",{className:"dash_over_view",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-12 pl-0",children:1===s.role&&Object(j.jsx)("div",{className:"col-md-3 card ml-3  pt-2 pb-2 main-box gradient-ibiza",children:Object(j.jsxs)("div",{className:"card-body pt-0 pb-0 pl-0",children:[Object(j.jsxs)("div",{className:"box-head",children:[Object(j.jsx)("h4",{children:"Admin"}),Object(j.jsx)("div",{className:"box-icon",children:Object(j.jsx)("span",{className:"fa fa-users"})})]}),Object(j.jsx)("div",{className:"main-box-text",children:Object(j.jsx)("b",{children:"Total: 1 "})})]})})})})})]})})})})}var W=a(15),Y=(a(99),function(e){var t,a,n;return null===e||void 0===e||null===(t=e.trim())||void 0===t||null===(a=t.toLowerCase())||void 0===a||null===(n=a.replace(/[^\w ]+/g,""))||void 0===n?void 0:n.replace(/ +/g,"-")}),X=function(e){var t,a,n;return null===e||void 0===e||null===(t=e.trim())||void 0===t||null===(a=t.toLowerCase())||void 0===a||null===(n=a.replace(/[^\w ]+/g,""))||void 0===n?void 0:n.replace(/ +/g,"_")};var J=a(45),G=a(221);function K(){var e=Object(n.useContext)(k).state;return Object(D.a)("roles",Object(A.a)(T.a.mark((function t(){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token){t.next=5;break}return t.next=3,F.a.get("".concat(B,"v1/role/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return a=t.sent,t.abrupt("return",a.data.data);case 5:case"end":return t.stop()}}),t)}))))}function V(e,t,a,n){if("undefined"!==typeof e){var c,s=null===Array||void 0===Array||null===(c=Array.from(e))||void 0===c?void 0:c.filter((function(e){return e[t]==a}));if(s)return s&&s[0][n]}}function $(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if("undefined"!==typeof t)return null===(e=Array.from(t))||void 0===e?void 0:e.some((function(e){return e[a]===n}))}function Z(e){var t,a={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},n="";for(t in a)for(;e>=a[t];)n+=t,e-=a[t];return n}function ee(e){return e.split("T")[0]}function te(){var e,t=Object(l.g)(),a=Object(l.i)(),c=(Object(l.h)().pathname,Object(n.useState)(!1)),s=Object(d.a)(c,2),i=(s[0],s[1]),o=function(){var e=Object(l.i)(),t=null===e||void 0===e?void 0:e.admin_id,a=Object(n.useContext)(k).state;return Object(D.a)("single-admin-".concat(t),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/admin/view/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,r=K().data,m=Object(n.useState)(),b=Object(d.a)(m,2),p=b[0],v=b[1],h=Object(n.useState)({}),O=Object(d.a)(h,2),f=O[0],x=O[1];Object(n.useEffect)((function(){v(o)}),[o]);var g=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=(Object(l.i)(),Object(l.h)().pathname),s=Object(l.g)(),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},o=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/admin/register"),e,i)}),{onSuccess:function(){t.invalidateQueries("sub-admins"),o("App Module added successfully",{appearance:"success",autoDismiss:!0}),s.push("".concat(c))},onError:function(){o("Error White Creating Modules",{appearance:"error",autoDismiss:!0})},retry:3})}(),_=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=(Object(l.i)(),Object(l.h)().pathname,Object(l.g)()),s={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},i=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/admin/update"),e,s)}),{onSuccess:function(){t.invalidateQueries("sub-admins"),i("Module updated successfully",{appearance:"success",autoDismiss:!0}),c.push("/admin/manage-sub-admin")},onError:function(){i("Error White Updating Modules",{appearance:"error",autoDismiss:!0})},retry:3})}(),N=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=(Object(l.h)().pathname,Object(l.g)()),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},o=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/sub-admin/delete/").concat(null===c||void 0===c?void 0:c.admin_id),e,i)}),{onSuccess:function(){t.invalidateQueries("sub-admins"),o("Module deleted successfully",{appearance:"success",autoDismiss:!0}),s.push("/admin/manage-sub-admins")},onError:function(){o("Error White Updating Modules",{appearance:"error",autoDismiss:!0})},retry:3})}(),y=function(){var e=Object(A.a)(T.a.mark((function e(t){var n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i(!0),!(null===a||void 0===a?void 0:a.admin_id)){e.next=11;break}return f.role_name=V(r,"role_id",null===a||void 0===a?void 0:a.role,"role_slug"),f.first_name=null!==(n=null===f||void 0===f?void 0:f.first_name)&&void 0!==n?n:null===p||void 0===p?void 0:p.first_name,f.last_name=null!==(c=null===f||void 0===f?void 0:f.last_name)&&void 0!==c?c:null===p||void 0===p?void 0:p.last_name,f.admin_id=null===a||void 0===a?void 0:a.admin_id,e.next=9,_.mutate(f);case 9:e.next=13;break;case 11:return e.next=13,g.mutate(f);case 13:x({}),i(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function w(){return(w=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f.module_id=null===a||void 0===a?void 0:a.admin_id,e.next=4,N.mutate(f);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"New SubAdmin"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:y,children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control",name:"role",value:null===p||void 0===p?void 0:p.role,onChange:function(e){(null===a||void 0===a?void 0:a.admin_id)?(v(Object(u.a)(Object(u.a)({},p),{},{role:e.target.value})),t.push("/admin/manage-sub-admin/".concat(null===p||void 0===p?void 0:p._id,"/").concat(null===a||void 0===a?void 0:a.admin_id))):x(Object(u.a)(Object(u.a)({},f),{},Object(W.a)({},e.target.name,e.target.value)))},children:[Object(j.jsx)("option",{value:"_",children:"Select Roles"}),null===r||void 0===r?void 0:r.map((function(e){if((null===e||void 0===e?void 0:e.role_id)>1)return Object(j.jsx)("option",{value:null===e||void 0===e?void 0:e.role_id,children:null===e||void 0===e?void 0:e.role_name},null===e||void 0===e?void 0:e._id)}))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"first_name",value:(null===a||void 0===a?void 0:a.admin_id)?null===p||void 0===p?void 0:p.first_name:null===f||void 0===f?void 0:f.first_name,onChange:function(e){(null===a||void 0===a?void 0:a.admin_id)?v(Object(u.a)(Object(u.a)({},p),{},{first_name:e.target.value})):x(Object(u.a)(Object(u.a)({},f),{},Object(W.a)({},e.target.name,e.target.value)))},placeholder:"First Name"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"last_name",value:(null===a||void 0===a?void 0:a.admin_id)?null===p||void 0===p?void 0:p.last_name:null===f||void 0===f?void 0:f.last_name,onChange:function(e){(null===a||void 0===a?void 0:a.admin_id)?v(Object(u.a)(Object(u.a)({},p),{},{last_name:e.target.value})):x(Object(u.a)(Object(u.a)({},f),{},Object(W.a)({},e.target.name,e.target.value)))},placeholder:"Last Name"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"email",value:(null===a||void 0===a?void 0:a.admin_id)?null===p||void 0===p?void 0:p.email:null===f||void 0===f?void 0:f.email,onChange:function(e){(null===a||void 0===a?void 0:a.admin_id)?v(Object(u.a)(Object(u.a)({},p),{},{email:e.target.value})):x(Object(u.a)(Object(u.a)({},f),{},Object(W.a)({},e.target.name,e.target.value)))},placeholder:"Email address"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"password",onChange:function(e){(null===a||void 0===a?void 0:a.admin_id)?v(Object(u.a)(Object(u.a)({},p),{},{password:e.target.value})):x(Object(u.a)(Object(u.a)({},f),{},Object(W.a)({},e.target.name,e.target.value)))},placeholder:"password"})}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark br-5",children:(null===g||void 0===g?void 0:g.isLoading)||(null===_||void 0===_?void 0:_.isLoading)?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("span",{className:"fa fa-spinner mr-2"})}):Object(j.jsx)(j.Fragment,{children:(null===a||void 0===a?void 0:a.admin_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Save"]})})}),(null===a||void 0===a?void 0:a.admin_id)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("button",{className:"btn btn-sm dark bg-warning ml-2 br-5",onClick:function(e){e.preventDefault(),t.push("/admin/manage-sub-admin")},children:[Object(j.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]}),Object(j.jsx)("button",{className:"btn btn-sm dark bg-danger ml-2 br-5",onClick:function(e){return w.apply(this,arguments)},disbaled:null===N||void 0===N||null===(e=N.isLoading)||void 0===e?void 0:e.toString(),children:(null===N||void 0===N?void 0:N.isLoading)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"})," ... "]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-trash mr-2"})," Delete"]})})]})]})]})]})}function ae(e){var t=e.sub_admin,a=Object(l.g)();return Object(j.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:Object(j.jsx)("button",{className:"btn btn-sm dark",onClick:function(e){e.preventDefault(),a.push("/admin/manage-sub-admin/update/".concat(null===t||void 0===t?void 0:t.role,"/").concat(null===t||void 0===t?void 0:t._id))},children:Object(j.jsx)("span",{className:"fa fa-pencil-square text-white"})})})}function ne(e){var t=e.sub_admin;return Object(j.jsx)("div",{className:"lg-card",children:Object(j.jsxs)("div",{className:"admin-name",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"label-name",children:[Object(j.jsx)("span",{className:"bi bi-person-circle mt-1 mr-3"}),null===t||void 0===t?void 0:t.first_name," ",null===t||void 0===t?void 0:t.last_name]}),Object(j.jsxs)("div",{className:"label-name",children:[Object(j.jsx)("span",{className:"fa fa-send mt-1 mr-3"}),null===t||void 0===t?void 0:t.email]}),Object(j.jsxs)("div",{className:"label-name",children:[Object(j.jsx)("span",{className:"fa fa-lock mt-1 mr-3"}),null===t||void 0===t?void 0:t.role_name]})]}),Object(j.jsx)(ae,{sub_admin:t})]})})}function ce(){var e=function(){var e=Object(n.useContext)(k).state;return Object(D.a)("sub-admins",Object(A.a)(T.a.mark((function t(){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token||"master_admin"!=(null===e||void 0===e?void 0:e.user_type)){t.next=5;break}return t.next=3,F.a.get("".concat(B,"v1/admin/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return a=t.sent,t.abrupt("return",a.data.data);case 5:case"end":return t.stop()}}),t)}))))}(),t=e.data,a=e.isLoading;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"App admins"]}),Object(j.jsx)("hr",{className:"mt-1"}),a&&Object(j.jsx)(z,{isLoading:a}),Object(j.jsx)("div",{className:"col-md-12 row no-gutter data-container pr-0",children:null===t||void 0===t?void 0:t.map((function(e){return Object(j.jsx)(ne,{sub_admin:e},null===e||void 0===e?void 0:e._id)}))})]})}a(147);function se(){var e=Object(l.g)(),t=Object(l.i)(),a=Object(P.useToasts)().addToast,c=function(e){Object(l.i)();var t=Object(n.useContext)(k).state;return Object(D.a)("single-module-".concat(e),Object(A.a)(T.a.mark((function a(){var n;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0===e){a.next=5;break}return a.next=3,F.a.get("".concat(B,"v1/school/view/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=a.sent,a.abrupt("return",n.data.data);case 5:case"end":return a.stop()}}),a)}))))}(null===t||void 0===t?void 0:t.school_id).data,s=Object(n.useState)({}),i=Object(d.a)(s,2),o=i[0],r=i[1],m={name:"",address:"",school_logo:"",pincode:"",contact_email:"",conatct_mobile:""},b=Object(n.useState)({}),p=Object(d.a)(b,2),v=p[0],h=p[1];Object(n.useEffect)((function(){h(m),r(m)}),[null===t||void 0===t?void 0:t.page_type]),Object(n.useEffect)((function(){void 0!==c&&r(c)}),[c]);var O=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=(Object(l.i)(),Object(l.h)().pathname,Object(l.g)()),s={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},i=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/school/create"),e,s)}),{onSuccess:function(){t.invalidateQueries("schools"),i("School added successfully",{appearance:"success",autoDismiss:!0}),c.push("/admin/school-management")}})}(),f=function(e){var t=Object(l.i)(),a=(Object(l.h)().pathname,Object(l.g)()),c=Object(J.b)(),s={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},i=Object(P.useToasts)().addToast;return Object(G.a)((function(e){var a=null===t||void 0===t?void 0:t.school_id;return F.a.patch("".concat(B,"v1/school/update/").concat(a),e,s)}),{onSuccess:function(){c.invalidateQueries("schools"),i("Category Updated successfully",{appearance:"success",autoDismiss:!0}),a.push("/admin/school-management")}})}(),x=function(e){Object(l.h)().pathname;var t=Object(l.g)(),a=Object(J.b)(),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},s=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/school/delete"),e,c)}),{onSuccess:function(){a.invalidateQueries("schools"),t.push("/admin/school-management"),s("Schools deleted successfully",{appearance:"success",autoDismiss:!0})}})}(),g=(function(e){Object(J.b)();var t=Object(n.useContext)(k).state,a=(Object(l.i)(),Object(l.h)().pathname,Object(l.g)(),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}}),c=Object(P.useToasts)().addToast;Object(G.a)((function(e){return F.a.post("".concat(B,"v1/school/subdomain"),e,a)}),{onSuccess:function(e){var t,a,n;1===(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.count)?c(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message,{appearance:"error",autoDismiss:!0}):c(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message,{appearance:"success",autoDismiss:!0})}})}(),function(){var e=Object(A.a)(T.a.mark((function e(n){var c,s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),v.school_name=(null===t||void 0===t?void 0:t.school_id)?null===o||void 0===o?void 0:o.school_name:null===v||void 0===v?void 0:v.school_name,v.slug=Y((null===t||void 0===t?void 0:t.school_id)?null===o||void 0===o?void 0:o.school_name:null===v||void 0===v?void 0:v.school_name),console.log(v),!(null===t||void 0===t?void 0:t.school_id)){e.next=9;break}return e.next=7,f.mutate(o);case 7:e.next=35;break;case 9:if(""!=(null===v||void 0===v?void 0:v.school_name)){e.next=13;break}a("Please Enter school name",{appearance:"error",autoDismiss:!0}),e.next=35;break;case 13:if(""!=(null===v||void 0===v?void 0:v.contact_email)){e.next=17;break}a("Please provide contact email",{appearance:"error",autoDismiss:!0}),e.next=35;break;case 17:if(!1!==w(null===v||void 0===v?void 0:v.pincode)){e.next=21;break}a("Please enter numbers only",{appearance:"error",autoDismiss:!0}),e.next=35;break;case 21:if(!((null===v||void 0===v||null===(c=v.pincode)||void 0===c?void 0:c.length)<6)){e.next=25;break}a("Please provide valid zip code",{appearance:"error",autoDismiss:!0}),e.next=35;break;case 25:if(!((null===v||void 0===v||null===(s=v.contact_mobile)||void 0===s?void 0:s.length)<10)){e.next=29;break}a("Please enter validcontact_ mobile number",{appearance:"error",autoDismiss:!0}),e.next=35;break;case 29:if(!1!==w(null===v||void 0===v?void 0:v.contact_mobile)){e.next=33;break}a("Please enter valid mobile number",{appearance:"error",autoDismiss:!0}),e.next=35;break;case 33:return e.next=35,O.mutate(v);case 35:h({}),r({});case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function _(){return(_=Object(A.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(null===t||void 0===t?void 0:t.school_id)){e.next=5;break}return v.school_id=null===t||void 0===t?void 0:t.school_id,e.next=5,x.mutate(v);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return y.apply(this,arguments)}function y(){return(y=Object(A.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t?void 0:t.school_id)?r(Object(u.a)(Object(u.a)({},o),{},Object(W.a)({},a.target.name,a.target.value))):h(Object(u.a)(Object(u.a)({},v),{},Object(W.a)({},a.target.name,a.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=(e=e||window.event).which?e.which:e.keyCode;return!(t>31&&(t<48||t>57))}function C(e){return S.apply(this,arguments)}function S(){return(S=Object(A.a)(T.a.mark((function e(t){var n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===w(t.target.value)?(a("Please provide valid ".concat(t.target.name),{appearance:"error",autoDismiss:!0}),document.getElementsByName("".concat(t.target.name))[0].innerText="",document.getElementsByName("".concat(t.target.name))[0].focus()):("mobile"===t.target.name&&(null===(n=t.target.value)||void 0===n?void 0:n.length)<10||"pincode"===t.target.name&&(null===(c=t.target.value)||void 0===c?void 0:c.length)<6)&&(a("Please provide valid ".concat(t.target.name),{appearance:"error",autoDismiss:!0}),document.getElementsByName("".concat(t.target.name))[0].innerHTML=null,document.getElementsByName("".concat(t.target.name))[0].focus());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t.target.value).toLowerCase())&&(a("Please provide valid ".concat(t.target.name),{appearance:"error",autoDismiss:!0}),document.getElementsByName("".concat(t.target.name))[0].innerHTML=null,document.getElementsByName("".concat(t.target.name))[0].focus());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(A.a)(T.a.mark((function e(a){var n,c,s,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),n=a.target.value,c=n.split("/d/"),s=c[1].split("/"),i=s[0],n.length>0&&((null===t||void 0===t?void 0:t.school_id)?r(Object(u.a)(Object(u.a)({},o),{},{school_logo:i})):h(Object(u.a)(Object(u.a)({},v),{},{school_logo:i})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New School"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:g,children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"school_name",value:(null===t||void 0===t?void 0:t.school_id)?null===o||void 0===o?void 0:o.school_name:null===v||void 0===v?void 0:v.school_name,onChange:N,autoComplete:"Off",placeholder:"School Name"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"sub_domain",value:(null===t||void 0===t?void 0:t.school_id)?null===o||void 0===o?void 0:o.sub_domain:null===v||void 0===v?void 0:v.sub_domain,onChange:N,autoComplete:"no-password",placeholder:"Sub domain"})}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("input",{type:"text",className:"form-control",name:"school_logo",value:(null===t||void 0===t?void 0:t.school_id)?null===o||void 0===o?void 0:o.school_logo:null===v||void 0===v?void 0:v.school_logo,onChange:N,onBlur:function(e){return I.apply(this,arguments)},autoComplete:"no-password",placeholder:"School logo image urls"}),Object(j.jsx)("span",{style:{fontSize:"0.7rem"},children:"Note: Please copy public image url."})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"address",value:(null===t||void 0===t?void 0:t.school_id)?null===o||void 0===o?void 0:o.address:null===v||void 0===v?void 0:v.address,onChange:N,autoComplete:"no-password",placeholder:"address"})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"city",value:(null===t||void 0===t?void 0:t.school_id)?null===o||void 0===o?void 0:o.city:null===v||void 0===v?void 0:v.city,onChange:N,autoComplete:"no-password",placeholder:"city"})})}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"state",value:(null===t||void 0===t?void 0:t.school_id)?null===o||void 0===o?void 0:o.state:null===v||void 0===v?void 0:v.state,onChange:N,autoComplete:"no-password",placeholder:"state"})})})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"pincode",maxLength:6,value:(null===t||void 0===t?void 0:t.school_id)?null===o||void 0===o?void 0:o.pincode:null===v||void 0===v?void 0:v.pincode,onChange:N,autoComplete:"no-password",onBlur:C,placeholder:"pincode"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"contact_name",value:(null===t||void 0===t?void 0:t.school_id)?null===o||void 0===o?void 0:o.contact_name:null===v||void 0===v?void 0:v.contact_name,onChange:N,autoComplete:"no-password",placeholder:"contact_name"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"email",className:"form-control",name:"contact_email",value:(null===t||void 0===t?void 0:t.school_id)?null===o||void 0===o?void 0:o.contact_email:null===v||void 0===v?void 0:v.contact_email,onChange:N,onBlur:function(e){return L.apply(this,arguments)},autoComplete:"no-password",placeholder:"contact_email"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"contact_mobile",value:(null===t||void 0===t?void 0:t.school_id)?null===o||void 0===o?void 0:o.contact_mobile:null===v||void 0===v?void 0:v.contact_mobile,onChange:N,maxLength:10,onBlur:C,autoComplete:"no-password",placeholder:"contact_mobile"})}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark br-5",children:O.isLoading||f.isLoading?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("span",{className:"fa fa-spinner mr-2"})}):Object(j.jsx)(j.Fragment,{children:(null===t||void 0===t?void 0:t.school_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"}),"Update"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"}),"Save"]})})}),(null===t||void 0===t?void 0:t.school_id)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{type:"button",className:"btn btn-sm bg-danger br-5 text-white ml-2",onClick:function(t){t.preventDefault(),h({}),r({}),e.push("/admin/school-management")},children:Object(j.jsx)("span",{className:"fa fa-times"})}),Object(j.jsx)("button",{type:"button",className:"btn btn-sm bg-warning br-5 text-white ml-2",onClick:function(e){return _.apply(this,arguments)},children:x.isLoading?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("span",{className:"fa fa-spinner mr-2"})}):Object(j.jsx)("span",{className:"fa fa-trash"})})]})]})]})]})}function ie(){var e=Object(n.useContext)(k).state;return Object(D.a)("schools",Object(A.a)(T.a.mark((function t(){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token){t.next=5;break}return t.next=3,F.a.get("".concat(B,"v1/school/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return a=t.sent,t.abrupt("return",a.data.data);case 5:case"end":return t.stop()}}),t)}))))}function oe(e){var t=e.update,a=ie(),n=a.data,c=a.isLoading,s=Object(l.g)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New School"]}),Object(j.jsx)("hr",{className:"mt-1"}),c&&Object(j.jsx)(z,{isLoading:c}),Object(j.jsx)("div",{className:"col-md-12 row",style:{height:"auto !important",maxHeight:"380px",overflowY:"scroll"},children:!c&&(null===n||void 0===n?void 0:n.map((function(e){return Object(j.jsx)("div",{className:"card mb-2 pl-3 pr-2 col-md-6 no-gutter",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-2 pl-2 pt-3",children:Object(j.jsx)("img",{src:"https://drive.google.com/uc?export=view&id=".concat(null===e||void 0===e?void 0:e.school_logo),style:{height:"100px"},className:"img-responsive"})}),Object(j.jsxs)("div",{className:"col-md-9 pr-3 ml-4 pt-3",children:[Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("div",{className:"name-label",children:"School Name:"}),Object(j.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.school_name})]}),Object(j.jsxs)("div",{className:"admin-name",children:[Object(j.jsx)("div",{className:"name-label",children:"Pincode:"}),Object(j.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.pincode})]}),Object(j.jsxs)("div",{className:"admin-name",children:[Object(j.jsx)("div",{className:"name-label",children:"Contact Email:"}),Object(j.jsx)("div",{className:"name-main text-lower",children:null===e||void 0===e?void 0:e.contact_email})]}),Object(j.jsxs)("div",{className:"admin-name",children:[Object(j.jsx)("div",{className:"name-label",children:"Contact Mobile:"}),Object(j.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.contact_mobile})]})]}),Object(j.jsxs)("div",{className:"col-md-12 pl-0 pr-0 pb-2",children:[Object(j.jsx)("hr",{className:"mb-1"}),!0===t&&Object(j.jsx)("div",{className:"pl-2 pr-2",children:Object(j.jsx)("span",{className:"fa fa-pencil text-warning mr-2 pointer",onClick:function(t){s.push("/admin/school-management/update/".concat(null===e||void 0===e?void 0:e._id))}})})]})]})},null===e||void 0===e?void 0:e._id)})))})]})}function le(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),i=Object(d.a)(s,2),o=i[0],r=i[1],u=(Object(l.i)(),Object(n.useContext)(k).state),m=Object(P.useToasts)().addToast,b=Object(n.useState)(null),p=Object(d.a)(b,2),v=p[0],h=p[1],O=Object(n.useState)(null),f=Object(d.a)(O,2),x=(f[0],f[1],Object(n.useState)(null)),g=Object(d.a)(x,2),_=(g[0],g[1],Object(l.g)()),N=Object(J.b)(),y={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+u.access_token}},w=new FormData;function C(){return(C=Object(A.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,console.log("file onchange ",a),n=a.split(".")[1],console.log(n),"csv"===n?(r(!1),h(t.target.files[0]),w.append("file",t.target.files[0]),w.append("test","testdata")):(r(!0),m("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=Object(G.a)((function(e){return console.log(e.file),F.a.post("".concat(B,"v1/school/upload"),e,y)}),{onSuccess:function(){N.invalidateQueries("schools"),c(!1),m("School added successfully",{appearance:"success",autoDismiss:!0})}}),D=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w.append("file",v),e.next=4,S.mutate(w);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Upload Schools"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsx)("a",{href:"/sampledata/schools.csv",download:!0,children:"Download Sample File"}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:D,method:"POST",encType:"multipart/form-data",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return C.apply(this,arguments)},placeholder:"Upload .csv"}),Object(j.jsx)("small",{id:"passwordHelpInline",class:"text-muted",children:"Upload Classes File in .csv format only."})]}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",disabled:o,children:a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Upload"]})})}),Object(j.jsx)("button",{className:"btn btn-sm dark btn-danger ml-2",onClick:function(e){e.preventDefault(),_.push("/admin/school-management")},children:Object(j.jsx)("span",{className:"fa fa-times"})})]})]})]})}function re(){var e=U().data,t=Object(l.h)(),a=(null===t||void 0===t?void 0:t.pathname).split("/")[2];return e&&(null===e||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.module_slug)==a})))}function de(){Object(l.i)();var e=Object(l.h)(),t=Object(n.useContext)(k).state,a=e.pathname.split("/")[2],c=null===t||void 0===t?void 0:t.user_type,s=null===t||void 0===t?void 0:t.email;return Object(D.a)("single-permission-".concat(a),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/permission/view/").concat(a,"/").concat(c,"/").concat(s),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}function ue(e){var t,a=Object(l.h)(),n=(null===a||void 0===a||null===(t=a.pathname)||void 0===t?void 0:t.split("/"))[2],c=de().data;return c&&c.some((function(t){return t.method_name=="".concat(e,"-").concat(n)}))}function je(){var e,t=Object(l.g)(),a=Object(l.i)(),c=(Object(l.h)().pathname,Object(P.useToasts)().addToast,Object(n.useContext)(k).state,[{key:"master_admin",value:"Master Admin"},{key:"sub_admin",value:"Sub Admin"},{key:"app_module",value:"App Module"}]),s=Object(n.useState)(""),i=Object(d.a)(s,2),o=i[0],r=i[1],m=Object(n.useState)(""),b=Object(d.a)(m,2),p=b[0],v=b[1],h=Object(n.useState)(""),O=Object(d.a)(h,2),f=O[0],x=O[1],g=Object(n.useState)(""),_=Object(d.a)(g,2),N=_[0],y=_[1],w=Object(n.useState)(!1),C=Object(d.a)(w,2),S=C[0],L=C[1],z=function(){var e=Object(l.i)(),t=null===e||void 0===e?void 0:e.module_id,a=Object(n.useContext)(k).state;return Object(D.a)("single-module-".concat(t),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/module/view/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,U=I().data,E=Object(n.useState)(),Q=Object(d.a)(E,2),q=Q[0],M=Q[1],H=Object(n.useState)({}),R=Object(d.a)(H,2),W=R[0];R[1];function X(){r(""),v(""),M({}),L(!1)}Object(n.useEffect)((function(){M(z)}),[z]);var K=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=(Object(l.i)(),Object(l.h)().pathname),s=Object(l.g)(),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},o=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/module/create"),e,i)}),{onSuccess:function(){t.invalidateQueries("app-modules"),o("App Module added successfully",{appearance:"success",autoDismiss:!0}),s.push("".concat(c))},onError:function(){o("Error White Creating Modules",{appearance:"error",autoDismiss:!0})},retry:3})}(),V=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=(Object(l.h)().pathname,Object(l.g)()),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},o=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.patch("".concat(B,"v1/module/update/").concat(null===c||void 0===c?void 0:c.module_id),e,i)}),{onSuccess:function(){t.invalidateQueries("app-modules"),o("Module updated successfully",{appearance:"success",autoDismiss:!0}),s.push("/admin/app-module")},onError:function(){o("Error White Updating Modules",{appearance:"error",autoDismiss:!0})},retry:3})}(),$=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=(Object(l.h)().pathname,Object(l.g)()),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},o=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/module/delete/").concat(null===c||void 0===c?void 0:c.module_id),e,i)}),{onSuccess:function(){t.invalidateQueries("app-modules"),o("Module deleted successfully",{appearance:"success",autoDismiss:!0}),s.push("/admin/app-module")},onError:function(){o("Error White Updating Modules",{appearance:"error",autoDismiss:!0})},retry:3})}(),Z=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),L(!0),W.module_name=(null===a||void 0===a?void 0:a.module_id)?null===q||void 0===q?void 0:q.module_name:o,W.module_slug=Y((null===a||void 0===a?void 0:a.module_id)?null===q||void 0===q?void 0:q.module_name:o),W.module_icon=(null===a||void 0===a?void 0:a.module_id)?null===q||void 0===q?void 0:q.module_icon:p,W.module_sequence=(null===a||void 0===a?void 0:a.module_id)?null===q||void 0===q?void 0:q.module_sequence:f,(null===a||void 0===a?void 0:a.module_id)?W.module_type=null===q||void 0===q?void 0:q.module_type:W.module_type=N,!(null===a||void 0===a?void 0:a.module_id)){e.next=12;break}return e.next=10,V.mutate(W);case 10:e.next=14;break;case 12:return e.next=14,K.mutate(W);case 14:X();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ee(){return(ee=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),W.module_id=null===a||void 0===a?void 0:a.module_id,e.next=4,$.mutate(W);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Create App Module"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:Z,children:[Object(j.jsx)("div",{className:"form-group p-rel",children:Object(j.jsxs)("select",{name:"module_type",className:"form-control",value:null===q||void 0===q?void 0:q.module_type,onChange:function(e){(null===a||void 0===a?void 0:a.module_id)?M(Object(u.a)(Object(u.a)({},q),{},{module_type:e.target.value})):y(e.target.value)},children:[Object(j.jsx)("option",{children:"Select Module Type"}),null===c||void 0===c?void 0:c.map((function(e){return Object(j.jsx)("option",{value:null===e||void 0===e?void 0:e.key,children:null===e||void 0===e?void 0:e.value})}))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",value:(null===a||void 0===a?void 0:a.module_id)?null===q||void 0===q?void 0:q.module_name:o,onChange:function(e){(null===a||void 0===a?void 0:a.module_id)?M(Object(u.a)(Object(u.a)({},q),{},{module_name:e.target.value})):r(e.target.value)},placeholder:"Module Name"})}),Object(j.jsxs)("div",{className:"form-group p-rel",children:[Object(j.jsx)("input",{type:"text",className:"form-control ".concat((null===a||void 0===a?void 0:a.module_id)?"pl6x":""),value:(null===a||void 0===a?void 0:a.module_id)?null===q||void 0===q?void 0:q.module_icon:p,placeholder:"Module Icon",onChange:function(e){(null===a||void 0===a?void 0:a.module_id)?M(Object(u.a)(Object(u.a)({},q),{},{module_icon:e.target.value})):v(e.target.value)}}),Object(j.jsx)("span",{className:"fa p-abs tl10 ".concat(null===q||void 0===q?void 0:q.module_icon)})]}),Object(j.jsx)("div",{className:"form-group p-rel",children:Object(j.jsxs)("select",{name:"module_sequence",className:"form-control",value:null===q||void 0===q?void 0:q.module_sequence,onChange:function(e){(null===a||void 0===a?void 0:a.module_id)?M(Object(u.a)(Object(u.a)({},q),{},{module_sequence:e.target.value})):x(e.target.value)},children:[Object(j.jsx)("option",{children:"Select Sequence"}),null===U||void 0===U?void 0:U.map((function(e,t){return Object(j.jsx)("option",{value:t,children:t},t)}))]})}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark br-5",children:S?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("span",{className:"fa fa-spinner mr-2"})}):Object(j.jsx)(j.Fragment,{children:(null===a||void 0===a?void 0:a.module_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Save"]})})}),(null===a||void 0===a?void 0:a.module_id)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("button",{className:"btn btn-sm dark bg-warning ml-2 br-5",onClick:function(e){e.preventDefault(),X(),M({}),t.push("/admin/app-module")},children:[Object(j.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]}),Object(j.jsx)("button",{className:"btn btn-sm dark bg-danger ml-2 br-5",onClick:function(e){return ee.apply(this,arguments)},disbaled:null===$||void 0===$||null===(e=$.isLoading)||void 0===e?void 0:e.toString(),children:(null===$||void 0===$?void 0:$.isLoading)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"})," ... "]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-trash mr-2"})," Delete"]})})]})]})]})]})}function me(e){var t=e.module,a=Object(l.g)();return Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"row-reverse"},children:[Object(j.jsx)("span",{className:"fa fa-pencil-square mr-2 text-success pointer",onClick:function(e){e.preventDefault(),a.push("/admin/app-module/".concat(null===t||void 0===t?void 0:t._id))}}),Object(j.jsx)("span",{className:"fa fa-eye mr-2 pointer text-danger",onClick:function(e){return a.push("/admin/".concat(null===t||void 0===t?void 0:t.module_slug))}})]})}function be(e){var t=e.module;return Object(j.jsx)("div",{className:"lg-card",children:Object(j.jsxs)("div",{className:"admin-name",children:[Object(j.jsx)("div",{className:"label-name",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-2 flex mr-3",children:[Object(j.jsx)("button",{className:"".concat("master_admin"===(null===t||void 0===t?void 0:t.module_type)?"dark bg-success":"dark"," mr-2"),children:null===t||void 0===t?void 0:t.module_sequence}),Object(j.jsx)("span",{className:"fa ".concat(null===t||void 0===t?void 0:t.module_icon," mt-1 mr-1")})]}),Object(j.jsxs)("div",{className:"col-md-9",children:[Object(j.jsx)("div",{children:null===t||void 0===t?void 0:t.module_name}),Object(j.jsx)("div",{children:null===t||void 0===t?void 0:t.module_type})]})]})}),Object(j.jsx)(me,{module:t})]})})}function pe(){var e=I(),t=e.data,a=e.isLoading;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"App Modules"]}),Object(j.jsx)("hr",{className:"mt-1"}),a&&Object(j.jsx)(z,{isLoading:a}),Object(j.jsx)("div",{className:"col-md-12 row no-gutter data-container pr-0",children:null===t||void 0===t?void 0:t.map((function(e){return Object(j.jsx)(be,{module:e},null===e||void 0===e?void 0:e._id)}))})]})}a(148);function ve(){var e,t=Object(l.g)(),a=Object(l.i)(),c=(Object(l.h)(),Object(n.useContext)(k).state,Object(n.useState)("")),s=Object(d.a)(c,2),i=s[0],o=s[1],r=Object(n.useState)(!1),m=Object(d.a)(r,2),b=(m[0],m[1]),p=function(){var e=Object(l.i)(),t=null===e||void 0===e?void 0:e.role_id,a=Object(n.useContext)(k).state;return Object(D.a)("single-role-".concat(t),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/role/view/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data;console.log(p);var v=K().data,h=Object(n.useState)(),O=Object(d.a)(h,2),f=O[0],x=O[1];Object(n.useEffect)((function(){y(v&&(null===v||void 0===v?void 0:v.length))}),[v]);var g=Object(n.useState)(),_=Object(d.a)(g,2),N=_[0],y=_[1];function w(){return(w=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(null===a||void 0===a?void 0:a.role_id)?x(Object(u.a)(Object(u.a)({},f),{},{role_id:(null===f||void 0===f?void 0:f.role_id)+1})):y(void 0===N?1:+N+1);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(null===a||void 0===a?void 0:a.role_id)?N===(null===f||void 0===f?void 0:f.role_id)?x(Object(u.a)(Object(u.a)({},f),{},{role_id:N})):x(Object(u.a)(Object(u.a)({},f),{},{role_id:N-1})):N>1&&y(N-1);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=Object(n.useState)({}),L=Object(d.a)(S,2),I=L[0],z=L[1];function U(){o(""),y(v&&(null===v||void 0===v?void 0:v.length)),x({})}Object(n.useEffect)((function(){y(null===p||void 0===p?void 0:p.role_id),x(p)}),[p]);var E=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=(Object(l.i)(),Object(l.h)().pathname,Object(l.g)()),s={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},i=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/role/create"),e,s)}),{onSuccess:function(){t.invalidateQueries("roles"),i("Roles added successfully",{appearance:"success",autoDismiss:!0}),c.push("/admin/app-roles")}})}(),Q=function(e){var t=Object(l.i)(),a=(Object(l.h)().pathname,Object(l.g)()),c=Object(J.b)(),s={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},i=Object(P.useToasts)().addToast;return Object(G.a)((function(e){var a=null===t||void 0===t?void 0:t.role_id;return F.a.patch("".concat(B,"v1/role/update/").concat(a),e,s)}),{onSuccess:function(){c.invalidateQueries("roles"),i("Category Updated successfully",{appearance:"success",autoDismiss:!0}),a.push("/admin/app-roles")}})}(),q=function(){Object(l.h)().pathname;var e=Object(l.g)(),t=Object(J.b)(),a={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},c=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/role/delete"),e,a)}),{onSuccess:function(){t.invalidateQueries("roles"),e.push("/admin/app-roles"),c("Role deleted successfully",{appearance:"success",autoDismiss:!0})}})}(),M=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),b(!0),(null===f||void 0===f?void 0:f.role_name)!==i&&(null===a||void 0===a?void 0:a.role_id)?(I.role_name=null===f||void 0===f?void 0:f.role_name,I.role_slug=X(null===f||void 0===f?void 0:f.role_name)):(I.role_name=i,I.role_slug=X(i)),(null===f||void 0===f?void 0:f.role_id)!==N&&(null===a||void 0===a?void 0:a.role_id)?I.role_id=N:(null===f||void 0===f?void 0:f.role_id)===N&&(null===a||void 0===a?void 0:a.role_id)?I.role_id=null===f||void 0===f?void 0:f.role_id:I.role_id=N,!(null===a||void 0===a?void 0:a.role_id)){e.next=9;break}return e.next=7,Q.mutate(I);case 7:e.next=11;break;case 9:return e.next=11,E.mutate(I);case 11:U();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function H(){return(H=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),z(Object(u.a)(Object(u.a)({},I),{},{role_id:null===a||void 0===a?void 0:a.role_id})),e.next=4,q.mutate(I);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Create App Role"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:M,children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",value:(null===a||void 0===a?void 0:a.role_id)?null===f||void 0===f?void 0:f.role_name:i,onChange:function(e){(null===a||void 0===a?void 0:a.role_id)?x(Object(u.a)(Object(u.a)({},f),{},{role_name:e.target.value})):o(e.target.value)},placeholder:"Role Name"})}),Object(j.jsxs)("div",{className:"form-group p-rel flex",children:[Object(j.jsx)("input",{className:"form-control",type:"text",value:(null===a||void 0===a?void 0:a.role_id)?null===f||void 0===f?void 0:f.role_id:N,readOnly:!0}),Object(j.jsx)("button",{onClick:function(e){return w.apply(this,arguments)},type:"button",className:"bi bi-arrow-up dark btn btn-sm",style:{fontSize:"0.9rem"},activestyle:"outline: none"}),Object(j.jsx)("button",{onClick:function(e){return C.apply(this,arguments)},type:"button",className:"bi bi-arrow-down red btn btn-sm",style:{fontSize:"0.9rem"},activestyle:"outline: none"})]}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark br-5",disabled:(null===E||void 0===E?void 0:E.isLoading)||(null===Q||void 0===Q?void 0:Q.isLoading),children:(null===E||void 0===E?void 0:E.isLoading)||(null===Q||void 0===Q?void 0:Q.isLoading)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:(null===a||void 0===a?void 0:a.role_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Save"]})})}),(null===a||void 0===a?void 0:a.role_id)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("button",{type:"button",className:"btn btn-sm bg-warning ml-2 br-5",onClick:function(e){e.preventDefault(),U(),x({}),t.push("/admin/app-roles")},children:[Object(j.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]}),Object(j.jsx)("button",{type:"button",className:"btn btn-sm dark bg-danger ml-2 br-5",onClick:function(e){return H.apply(this,arguments)},disbaled:null===q||void 0===q||null===(e=q.isLoading)||void 0===e?void 0:e.toString(),children:(null===q||void 0===q?void 0:q.isLoading)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"})," ... "]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-trash mr-2"})," Delete"]})})]})]})]})]})}function he(e){var t=e.role,a=Object(l.g)();return Object(j.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"row-reverse"},children:Object(j.jsxs)("button",{className:"btn btn-sm dark",onClick:function(e){e.preventDefault(),a.push("/admin/app-roles/".concat(null===t||void 0===t?void 0:t._id))},children:[Object(j.jsx)("span",{className:"fa fa-pencil-square mr-2"}),"Edit"]})})}function Oe(e){var t=e.role;return Object(j.jsx)("div",{className:"lg-card",children:Object(j.jsxs)("div",{className:"admin-name",children:[Object(j.jsxs)("div",{className:"name-main",children:["RoleName: ",null===t||void 0===t?void 0:t.role_name]}),Object(j.jsxs)("div",{className:"name-main",children:["RoleID: ",null===t||void 0===t?void 0:t.role_id]}),Object(j.jsx)(he,{role:t})]})})}function fe(){var e=K(),t=e.data,a=e.isLoading;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"App Roles"]}),Object(j.jsx)("hr",{className:"mt-1"}),a&&Object(j.jsx)(z,{isLoading:a}),Object(j.jsx)("div",{className:"col-md-12 row no-gutter data-container",children:null===t||void 0===t?void 0:t.map((function(e){return Object(j.jsx)(Oe,{role:e},null===e||void 0===e?void 0:e._id)}))})]})}a(149);function xe(){var e=Object(n.useContext)(k).state,t=Object(l.i)(),a=null===t||void 0===t?void 0:t.role_slug,c=null===t||void 0===t?void 0:t.admin_email;return Object(D.a)(["role-permissions-".concat(a,"-").concat(c)],Object(A.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e?void 0:e.access_token)||void 0===a){t.next=5;break}return t.next=3,F.a.get("".concat(B,"v1/permission/view-all/").concat(a,"/").concat(c),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return n=t.sent,t.abrupt("return",n.data.data);case 5:case"end":return t.stop()}}),t)}))))}function ge(){var e,t,a,c=this,s=Object(l.g)(),i=Object(l.i)(),o=[{key:"create",value:"Create",icon:'<span class="bi bi-plus-circle-fill"></span>'},{key:"update",value:"Update",icon:'<span class="bi bi-pencil-fill"></span>'},{key:"delete",value:"Delete",icon:'<span class="bi bi-trash-fill"></span>'},{key:"upload",value:"Upload",icon:'<span class="bi bi-cloud-upload-fill"></span>'}],r=Object(n.useState)(!1),u=Object(d.a)(r,2),m=(u[0],u[1]),b=(de().data,xe().data),p=K().data,v=I().data,h=function(){var e=Object(n.useContext)(k).state,t=Object(l.i)(),a=null===t||void 0===t?void 0:t.role;return Object(D.a)("sub-admins-".concat(a),Object(A.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token||"master_admin"!=(null===e||void 0===e?void 0:e.user_type)){t.next=5;break}return t.next=3,F.a.get("".concat(B,"v1/admin/role-view-all/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return n=t.sent,t.abrupt("return",n.data.data);case 5:case"end":return t.stop()}}),t)}))))}(),O=h.data,f=h.isLoading,x=Object(n.useState)({}),g=Object(d.a)(x,2),_=g[0];g[1];function N(){Array.from(document.querySelectorAll(".checkbox")).map((function(e){e.checked=!1}))}var y=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=Object(l.h)().pathname,i=Object(l.g)(),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},r=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/permission/create"),e,o)}),{onSuccess:function(){t.invalidateQueries("role-permissions-".concat(null===c||void 0===c?void 0:c.role_slug,"-").concat(null===c||void 0===c?void 0:c.admin_email)),t.invalidateQueries("role-modules-".concat(null===c||void 0===c?void 0:c.role_slug,"-").concat(null===c||void 0===c?void 0:c.admin_email)),r("Permission added successfully",{appearance:"success",autoDismiss:!0}),i.push("".concat(s))}})}(),w=function(e){var t=Object(l.i)(),a=Object(l.h)().pathname,c=Object(l.g)(),s=Object(J.b)(),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},o=Object(P.useToasts)().addToast;return Object(G.a)((function(e){var a=null===t||void 0===t?void 0:t.permission_id;return F.a.patch("".concat(B,"v1/permission/update/").concat(a),e,i)}),{onSuccess:function(){s.invalidateQueries("role-permissions-".concat(null===t||void 0===t?void 0:t.role_slug,"-").concat(null===t||void 0===t?void 0:t.admin_email)),s.invalidateQueries("role-modules-".concat(null===t||void 0===t?void 0:t.role_slug,"-").concat(null===t||void 0===t?void 0:t.admin_email)),o("Permissions Updated successfully",{appearance:"success",autoDismiss:!0}),c.push("".concat(a))}})}(),C=function(){var e=Object(A.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),m(!0),!(null===i||void 0===i?void 0:i.permission_id)){e.next=7;break}return e.next=5,w.mutate(_);case 5:e.next=13;break;case 7:return a=[],Array.from(document.querySelectorAll(".module-methods")).map((function(e){if(!0===e.checked){var t=e.value.split("_");a.push({role_id:null===i||void 0===i?void 0:i.role_id,role_slug:null===i||void 0===i?void 0:i.role_slug,role:null===i||void 0===i?void 0:i.role,email:null===i||void 0===i?void 0:i.admin_email,module_id:t[0],module_name:t[1],module_slug:t[2],module_icon:t[3],method_name:t[4]})}})),n=[],Array.from(document.querySelectorAll(".module")).map((function(e){if(!0===e.checked){var t=e.value.split("_");n.push({role_id:null===i||void 0===i?void 0:i.role_id,role_slug:null===i||void 0===i?void 0:i.role_slug,role:null===i||void 0===i?void 0:i.role,email:null===i||void 0===i?void 0:i.admin_email,module_id:t[0],module_name:t[1],module_slug:t[2],module_icon:t[3]})}})),e.next=13,y.mutate({module:n,method:a});case 13:N();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function S(e){var t="module-"+e,a="method-"+e,n=document.getElementById(t).checked;Array.from(document.getElementsByName(a)).map((function(e){e.checked=!!n}))}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Permission"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:C,children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control",value:"".concat(null===i||void 0===i?void 0:i.role_id,"-").concat(null===i||void 0===i?void 0:i.role_slug,"-").concat(null===i||void 0===i?void 0:i.role),onChange:function(e){if("_"!==e.target.value){var t=e.target.value,a=t.split("-")[0],n=t.split("-")[1],c=t.split("-")[2];s.push("/admin/app-permissions/".concat(a,"/").concat(n,"/").concat(c))}else s.push("/admin/app-permissions")},children:[Object(j.jsx)("option",{value:"_",children:"Select Roles"}),null===p||void 0===p?void 0:p.map((function(e){return Object(j.jsx)("option",{value:"".concat(null===e||void 0===e?void 0:e._id,"-").concat(null===e||void 0===e?void 0:e.role_slug,"-").concat(null===e||void 0===e?void 0:e.role_id),children:null===e||void 0===e?void 0:e.role_name},null===e||void 0===e?void 0:e._id)}))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control",onChange:function(e){if("_"!==e.target.value){var t=e.target.value;s.push("/admin/app-permissions/".concat(null===i||void 0===i?void 0:i.role_id,"/").concat(null===i||void 0===i?void 0:i.role_slug,"/").concat(null===i||void 0===i?void 0:i.role,"/").concat(t))}else s.push("/admin/app-permissions")},value:null===i||void 0===i?void 0:i.admin_email,children:[Object(j.jsx)("option",{value:"_",children:f?"loading...":"Select User"}),null===O||void 0===O?void 0:O.map((function(e){return Object(j.jsxs)("option",{value:e.email,children:[e.first_name," ",e.last_name,"\xa0 - \xa0",e.email]},null===e||void 0===e?void 0:e._id)}))]})}),(null===i||void 0===i?void 0:i.admin_email)&&Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("div",{className:"col-md-12 pl-0 pr-2",style:{minHeight:"280px",maxHeight:"280px",overflow:"scroll"},children:null===v||void 0===v?void 0:v.map((function(e,t){var a=$(b,"module_slug","".concat(null===e||void 0===e?void 0:e.module_slug));return Object(j.jsxs)("div",{className:"card pt-0 pb-0 mb-2",children:[Object(j.jsxs)("label",{className:"mb-0 ac-heading",children:[Object(j.jsx)("span",{className:"bi ".concat(null===e||void 0===e?void 0:e.module_icon," mr-2 ml-2 ")}),Object(j.jsx)("input",{type:"checkbox",name:"module-".concat(null===e||void 0===e?void 0:e.module_slug),id:"module-".concat(null===e||void 0===e?void 0:e.module_slug),className:"module mr-2",disabled:a,value:"".concat(null===e||void 0===e?void 0:e._id,"_").concat(null===e||void 0===e?void 0:e.module_name,"_").concat(null===e||void 0===e?void 0:e.module_slug,"_").concat(null===e||void 0===e?void 0:e.module_icon),onChange:S.bind(c,null===e||void 0===e?void 0:e.module_slug)}),null===e||void 0===e?void 0:e.module_name]}),Object(j.jsx)("div",{className:"flex ml-2 mr-2",children:null===o||void 0===o?void 0:o.map((function(t){var a=$(b,"method_name","".concat(null===t||void 0===t?void 0:t.key,"-").concat(null===e||void 0===e?void 0:e.module_slug));if("dashboard"!==(null===e||void 0===e?void 0:e.module_slug))return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"col-md-3 pl-0 pr-0 pt-1 pb-1",children:Object(j.jsxs)("label",{className:"mb-0",style:{fontSize:"0.85rem"},children:[Object(j.jsx)("input",{type:"checkbox",name:"method-".concat(null===e||void 0===e?void 0:e.module_slug),className:"module-methods mr-1 mr-1",value:"".concat(null===e||void 0===e?void 0:e._id,"_").concat(null===e||void 0===e?void 0:e.module_name,"_").concat(null===e||void 0===e?void 0:e.module_slug,"_").concat(null===e||void 0===e?void 0:e.module_icon,"_").concat(null===t||void 0===t?void 0:t.key,"-").concat(null===e||void 0===e?void 0:e.module_slug),disabled:a}),Object(j.jsx)("span",{className:"ml-0 mr-1",style:{fontSize:"0.80rem"},dangerouslySetInnerHTML:{__html:null===t||void 0===t?void 0:t.icon}}),null===t||void 0===t?void 0:t.value]})},null===t||void 0===t?void 0:t._id)})}))})]},null===e||void 0===e?void 0:e._id)}))})}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark br-5",disabled:(null===y||void 0===y?void 0:y.isLoading)||(null===w||void 0===w?void 0:w.isLoading),children:(null===y||void 0===y?void 0:y.isLoading)||(null===w||void 0===w?void 0:w.isLoading)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:(null===i||void 0===i?void 0:i.permission_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Save"]})})}),(null===i||void 0===i?void 0:i.school_id)&&(null===i||void 0===i?void 0:i.role_id)&&Object(j.jsxs)("button",{type:"button",className:"btn btn-sm bg-warning ml-2 br-5",onClick:function(e){e.preventDefault(),N(),s.push("/admin/app-permissions")},children:[Object(j.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]}),(null===i||void 0===i?void 0:i.permission_id)&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{type:"button",className:"btn btn-sm dark bg-danger ml-2 br-5",onClick:handleDelete,disbaled:null===(e=deleteMutation)||void 0===e||null===(t=e.isLoading)||void 0===t?void 0:t.toString(),children:(null===(a=deleteMutation)||void 0===a?void 0:a.isLoading)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"})," ... "]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-trash mr-2"})," Delete"]})})})]})]})]})}function _e(e){var t=e.permission,a=(Object(l.g)(),Object(n.useState)()),c=Object(d.a)(a,2),s=(c[0],c[1],function(){var e=Object(l.h)().pathname,t=Object(l.h)(),a=Object(l.g)(),c=Object(J.b)(),s={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},i=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/permission/delete"),e,s)}),{onSuccess:function(){c.invalidateQueries("role-permissions-".concat(null===t||void 0===t?void 0:t.role_slug,"-").concat(null===t||void 0===t?void 0:t.admin_email)),c.invalidateQueries("role-modules-".concat(null===t||void 0===t?void 0:t.role_slug,"-").concat(null===t||void 0===t?void 0:t.admin_email)),i("Permission deleted successfully",{appearance:"success",autoDismiss:!0}),a.push("".concat(e))}})}());function i(){return(i=Object(A.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.next=3,s.mutate({permission_id:a});case 3:setTimeout((function(){document.getElementById("".concat(a)).style.display="none"}),1500);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"row"},children:Object(j.jsx)("span",{style:{cursor:"pointer"},className:"text-danger",onClick:function(e){return i.apply(this,arguments)}.bind(this,null===t||void 0===t?void 0:t._id),children:(null===s||void 0===s?void 0:s.isLoading)?Object(j.jsx)("span",{className:"fa fa-spinner"}):Object(j.jsx)("span",{className:"fa fa-trash"})})})}function Ne(e){var t=e.permission,a=(null===t||void 0===t?void 0:t.method_name).split("-")[0];return Object(j.jsxs)("div",{className:"mb-1 col-md-3 pl-2 flex b1",id:null===t||void 0===t?void 0:t._id,children:[Object(j.jsxs)("div",{children:["create"===a&&Object(j.jsx)("span",{className:"bi bi-plus-circle-fill mt-1 mr-1"}),"update"===a&&Object(j.jsx)("span",{className:"bi bi-pencil-square mt-1 mr-1"}),"upload"===a&&Object(j.jsx)("span",{className:"bi bi-cloud-upload mt-1 mr-1"}),"delete"===a&&Object(j.jsx)("span",{className:"bi bi-trash2-fill mt-1 mr-1"}),a]}),Object(j.jsx)(_e,{permission:t})]})}function ye(){var e,t=this,a=xe(),c=a.data,s=a.isLoading,i=function(){var e=Object(n.useContext)(k).state,t=Object(l.i)(),a=null===t||void 0===t?void 0:t.role_slug,c=null===t||void 0===t?void 0:t.admin_email;return Object(D.a)(["role-modules-".concat(a,"-").concat(c)],Object(A.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e?void 0:e.access_token)||void 0===a){t.next=5;break}return t.next=3,F.a.get("".concat(B,"v1/permission/module/").concat(a,"/").concat(c),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return n=t.sent,t.abrupt("return",n.data.data);case 5:case"end":return t.stop()}}),t)}))))}().data,o=Object(l.i)(),r=function(){var e=Object(l.h)().pathname,t=Object(l.h)(),a=Object(l.g)(),c=Object(J.b)(),s={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},i=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/permission/delete-all"),e,s)}),{onSuccess:function(){c.invalidateQueries("role-permissions-".concat(null===t||void 0===t?void 0:t.role_slug,"-").concat(null===t||void 0===t?void 0:t.admin_email)),c.invalidateQueries("role-modules-".concat(null===t||void 0===t?void 0:t.role_slug,"-").concat(null===t||void 0===t?void 0:t.admin_email)),i("Permission deleted successfully",{appearance:"success",autoDismiss:!0}),a.push("".concat(e))}})}();function d(e,t){return u.apply(this,arguments)}function u(){return(u=Object(A.a)(T.a.mark((function e(t,a){var n,c,s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,c=a,s=null===o||void 0===o?void 0:o.admin_email,e.next=5,r.mutate({module_id:n,module_slug:c,email:s});case 5:setTimeout((function(){document.getElementById("".concat(n)).style.display="none"}),1500);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"App Permissions for",Object(j.jsx)("span",{className:"badge-danger br-5 ml-2 p-1",style:{fontSize:"0.90rem"},children:null===o||void 0===o||null===(e=o.role_slug)||void 0===e?void 0:e.replaceAll("-"," ")}),Object(j.jsx)("span",{className:"badge-success br-5 ml-2 p-1",style:{fontSize:"0.90rem"},children:null===o||void 0===o?void 0:o.admin_email})]}),Object(j.jsx)("hr",{className:"mt-1"}),s&&Object(j.jsx)(z,{isLoading:s}),Object(j.jsx)("div",{className:"col-md-12 pl-0 no-gutter data-container",children:null===i||void 0===i?void 0:i.map((function(e){var a=null===c||void 0===c?void 0:c.filter((function(t){return(null===t||void 0===t?void 0:t.module_slug)===(null===e||void 0===e?void 0:e.module_slug)}));return Object(j.jsxs)("div",{className:"col-md-12 card pl-0 pr-0 ml-0 mb-2",id:"".concat(null===e||void 0===e?void 0:e._id),children:[Object(j.jsxs)("p",{className:"pr-2 mb-1 pb-0 ml-0 pl-2",children:[Object(j.jsx)("span",{className:"bi ".concat(null===e||void 0===e?void 0:e.module_icon," mr-2 mb-1")}),null===e||void 0===e?void 0:e.module_name,Object(j.jsx)("span",{style:{cursor:"pointer"},className:"text-warning pull-right",onClick:d.bind(t,null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.module_slug),children:(null===r||void 0===r?void 0:r.isLoading)?Object(j.jsx)("span",{className:"fa fa-spinner"}):Object(j.jsx)("span",{className:"fa fa-trash"})})]}),Object(j.jsx)("hr",{className:"mt-0 mb-1"}),Object(j.jsx)("div",{className:"flex",children:null===a||void 0===a?void 0:a.map((function(e){return Object(j.jsx)(Ne,{permission:e},null===e||void 0===e?void 0:e._id)}))})]},null===e||void 0===e?void 0:e._id)}))})]})}a(150);function ke(){var e=Object(l.g)(),t=Object(l.i)(),a=Object(l.h)().pathname,c=Object(P.useToasts)().addToast,s=Object(n.useContext)(k).state,i=Object(n.useState)(!1),o=Object(d.a)(i,2),r=o[0],m=o[1],b=Object(n.useState)("admin"),p=Object(d.a)(b,2),v=(p[0],p[1],function(){var e=Object(l.i)(),t=null===e||void 0===e?void 0:e.class_id,a=Object(n.useContext)(k).state;return Object(D.a)("single-module-".concat(t),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/class/view/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data),h=Object(n.useState)({}),O=Object(d.a)(h,2),f=O[0],x=O[1],g=Object(n.useState)(),_=Object(d.a)(g,2),N=(_[0],_[1],{class_name:"",section:"",capacity:"",class_teacher:"",school_id:"",teacher_id:""}),y=Object(n.useState)(N),w=Object(d.a)(y,2),C=w[0],S=w[1];Object(n.useEffect)((function(){x(v)}),[v]);var L=Object(J.b)(),I={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+s.access_token}},z=Object(G.a)((function(e){return F.a.post("".concat(B,"v1/class/create"),e,I)}),{onSuccess:function(){null===t||void 0===t||t.school_id;L.invalidateQueries("classes"),m(!1),S(N),e.push("".concat(a)),c("Class added successfully",{appearance:"success",autoDismiss:!0})}}),U=Object(G.a)((function(e){var a=null===t||void 0===t?void 0:t.class_id;return F.a.patch("".concat(B,"v1/class/update/").concat(a),e,I)}),{onSuccess:function(){null===t||void 0===t||t.school_id;L.invalidateQueries("classes"),m(!1),S(N),e.push("".concat(a)),c("Class Updated successfully",{appearance:"success",autoDismiss:!0})}}),E=function(){var e=Object(A.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),m(!0),!(null===t||void 0===t?void 0:t.class_id)){e.next=7;break}return e.next=5,U.mutate(f);case 5:e.next=9;break;case 7:return e.next=9,z.mutate(C);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Q(e){return q.apply(this,arguments)}function q(){return(q=Object(A.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t?void 0:t.class_id)?x(Object(u.a)(Object(u.a)({},f),{},Object(W.a)({},a.target.name,a.target.value))):S(Object(u.a)(Object(u.a)({},C),{},Object(W.a)({},a.target.name,a.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Class"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:E,children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"class_name",value:(null===t||void 0===t?void 0:t.class_id)?null===f||void 0===f?void 0:f.class_name:null===C||void 0===C?void 0:C.class_name,onChange:Q,placeholder:"Class Name"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"section",value:(null===t||void 0===t?void 0:t.class_id)?null===f||void 0===f?void 0:f.section:null===C||void 0===C?void 0:C.section,onChange:Q,placeholder:"Section"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"number",className:"form-control",name:"capacity",value:(null===t||void 0===t?void 0:t.class_id)?null===f||void 0===f?void 0:f.capacity:null===C||void 0===C?void 0:C.capacity,onChange:Q,placeholder:"Class Capacity"})}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",children:r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:(null===t||void 0===t?void 0:t.class_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update Class"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Save Class"]})})}),Object(j.jsx)("button",{className:"btn btn-sm dark bg-danger ml-2",onClick:function(t){t.preventDefault(),e.push("/admin/class-management")},children:Object(j.jsx)("span",{className:"fa fa-times"})})]})]})]})}function we(){var e=new FormData,t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!0),o=Object(d.a)(i,2),r=o[0],u=o[1],m=Object(n.useContext)(k).state,b=Object(P.useToasts)().addToast,p=Object(n.useState)(null),v=Object(d.a)(p,2),h=v[0],O=v[1],f=Object(n.useState)(),x=Object(d.a)(f,2),g=(x[0],x[1],Object(n.useState)(!1)),_=Object(d.a)(g,2),N=(_[0],_[1],Object(n.useState)("admin")),y=Object(d.a)(N,2),w=(y[0],y[1],Object(l.g)()),C=Object(J.b)(),S={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+m.access_token}};function D(){return(D=Object(A.a)(T.a.mark((function t(a){var n,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.target.files[0].name,console.log("file onchange ",n),c=n.split(".")[1],console.log(c),"csv"===c?(u(!1),O(a.target.files[0]),e.append("test","testdata")):(u(!0),b("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var L=Object(G.a)((function(e){return F.a.post("".concat(B,"v1/class/upload"),e,S)}),{onSuccess:function(){C.invalidateQueries("classes"),s(!1),b("Classes added successfully",{appearance:"success",autoDismiss:!0})}}),I=function(){var t=Object(A.a)(T.a.mark((function t(a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.append("file",h),t.next=4,L.mutate(e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Upload Classes"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsx)("a",{href:"/sampledata/classes.csv",download:!0,children:"Download Sample File"}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:I,method:"POST",encType:"multipart/form-data",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return D.apply(this,arguments)},placeholder:"Upload .csv"}),Object(j.jsx)("small",{id:"passwordHelpInline",class:"text-muted",children:"Upload Classes File in .csv format only."})]}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",disabled:r,children:c?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Upload"]})})}),Object(j.jsx)("button",{className:"btn btn-sm dark bg-danger ml-2",onClick:function(e){e.preventDefault(),w.push("/admin/class-management")},children:Object(j.jsx)("span",{className:"fa fa-times"})})]})]})]})}function Ce(){var e=Object(n.useContext)(k).state,t=Object(l.i)(),a=t.school_id?"classes-".concat(t.school_id):"classes";return Object(D.a)(a,Object(A.a)(T.a.mark((function t(){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token){t.next=5;break}return t.next=3,F.a.get("".concat(B,"v1/class/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return a=t.sent,t.abrupt("return",a.data.data);case 5:case"end":return t.stop()}}),t)}))))}function Se(e){var t,a=e.update,c=e.Delete,s=Object(l.i)(),i=Object(l.g)(),o=Object(P.useToasts)().addToast,r=Object(n.useContext)(k).state,d=Object(J.b)(),u=Ce(),m=u.data,b=(u.isLoading,ie()),p=b.data,v=(b.schoolIsLoading,null===p||void 0===p?void 0:p.filter((function(e){return(null===e||void 0===e?void 0:e._id)==(null===s||void 0===s?void 0:s.school_id)}))),h={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+r.access_token}},O=Object(G.a)((function(e){return F.a.delete("".concat(B,"v1/class/delete/").concat(e),h)}),{onSuccess:function(){var e=(null===s||void 0===s?void 0:s.school_id)?"classes-".concat(s.school_id):"classes";d.invalidateQueries(e),o("Class Deleted successfully",{appearance:"success",autoDismiss:!0})}}),f=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.mutate(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),v&&(null===(t=v[0])||void 0===t?void 0:t.name)?"School: "+v[0].name:"All Classes"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:Object(j.jsxs)("table",{className:"table table-hover",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"#"}),Object(j.jsx)("th",{scope:"col",children:"Class Name"}),Object(j.jsx)("th",{scope:"col",children:"Section"}),Object(j.jsx)("th",{scope:"col",children:"Capacity"}),Object(j.jsx)("th",{scope:"col",children:"Action"})]})}),Object(j.jsx)("tbody",{children:null===m||void 0===m?void 0:m.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"row",children:t}),Object(j.jsx)("td",{children:e.class_name}),Object(j.jsx)("td",{children:e.section}),Object(j.jsx)("td",{children:e.capacity}),Object(j.jsxs)("td",{children:[!0===a&&Object(j.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(t){i.push("/admin/class-management/update/".concat(null===e||void 0===e?void 0:e._id))},children:Object(j.jsx)("span",{className:"fa fa-edit"})}),!0===c&&Object(j.jsx)("button",{className:"btn bg-danger text-white btn-sm",onClick:function(){return f(null===e||void 0===e?void 0:e._id)},children:Object(j.jsx)("span",{className:"fa fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)}))})]})})]})}function Te(){var e=Object(l.g)(),t=Object(l.i)(),a=Object(l.h)().pathname,c=Object(P.useToasts)().addToast,s=Object(n.useContext)(k).state,i=Object(n.useState)(!1),o=Object(d.a)(i,2),r=o[0],m=o[1],b=function(){var e=Object(l.i)(),t=null===e||void 0===e?void 0:e.subject_id,a=Object(n.useContext)(k).state;return Object(D.a)("single-module-".concat(t),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/subject/view/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,p=Object(n.useState)({}),v=Object(d.a)(p,2),h=v[0],O=v[1],f=ie(),x=(f.data,f.isLoading,{subject_name:"",subject_slug:""}),g=Object(n.useState)(x),_=Object(d.a)(g,2),N=_[0],y=_[1];Object(n.useEffect)((function(){O(b)}),[b]);var w=Object(J.b)(),C={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+s.access_token}},S=Object(G.a)((function(e){return F.a.post("".concat(B,"v1/subject/create"),e,C)}),{onSuccess:function(){w.invalidateQueries("subjects"),m(!1),y(x),e.push("".concat(a)),c("Subject added successfully",{appearance:"success",autoDismiss:!0})}}),L=Object(G.a)((function(e){var a=null===t||void 0===t?void 0:t.subject_id;return F.a.patch("".concat(B,"v1/subject/update/").concat(a),e,C)}),{onSuccess:function(){w.invalidateQueries("subjects"),m(!1),y(x),e.push("".concat(a)),c("Subject Updated successfully",{appearance:"success",autoDismiss:!0})}}),I=function(){var e=Object(A.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),m(!0),!(null===t||void 0===t?void 0:t.subject_id)){e.next=8;break}return h.subject_slug=Y(h.subject_name),e.next=6,L.mutate(h);case 6:e.next=15;break;case 8:if(""!=N.subject_name){e.next=13;break}m(!1),c("Please Enter a Subject Name",{appearance:"error",autoDismiss:!0}),e.next=15;break;case 13:return e.next=15,S.mutate(N);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function z(){return(z=Object(A.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t?void 0:t.subject_id)?O(Object(u.a)(Object(u.a)({},h),{},Object(W.a)({},a.target.name,a.target.value))):y(Object(u.a)(Object(u.a)({},N),{},Object(W.a)({},a.target.name,a.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Subejct"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:I,children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"subject_name",value:(null===t||void 0===t?void 0:t.subject_id)?null===h||void 0===h?void 0:h.subject_name:null===N||void 0===N?void 0:N.subject_name,onChange:function(e){return z.apply(this,arguments)},placeholder:"Subject Name"})}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",children:r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:(null===t||void 0===t?void 0:t.subject_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update Subject"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Save Subject"]})})}),Object(j.jsx)("button",{className:"btn btn-sm dark bg-danger  ml-2",onClick:function(t){t.preventDefault(),e.push("/admin/subject-management")},children:Object(j.jsx)("span",{className:"fa fa-times"})})]})]})]})}function Ae(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),i=Object(d.a)(s,2),o=i[0],r=i[1],u=Object(n.useContext)(k).state,m=Object(P.useToasts)().addToast,b=Object(n.useState)(null),p=Object(d.a)(b,2),v=p[0],h=p[1],O=Object(n.useState)(),f=Object(d.a)(O,2),x=(f[0],f[1],Object(n.useState)(!1)),g=Object(d.a)(x,2),_=(g[0],g[1],Object(l.g)()),N=Object(J.b)(),y={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+u.access_token}},w=new FormData;function C(){return(C=Object(A.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,console.log("file onchange ",a),n=a.split(".")[1],console.log(n),"csv"===n?(r(!1),h(t.target.files[0]),w.append("file",t.target.files[0]),w.append("test","testdata")):(r(!0),m("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=Object(G.a)((function(e){return console.log(e.file),F.a.post("".concat(B,"v1/subject/upload"),e,y)}),{onSuccess:function(){N.invalidateQueries("subjects"),c(!1),m("Subjects added successfully",{appearance:"success",autoDismiss:!0})}}),D=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w.append("file",v),e.next=4,S.mutate(w);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Upload Subjects"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsx)("a",{href:"/sampledata/subjects.csv",download:!0,children:"Download Sample File"}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:D,method:"POST",encType:"multipart/form-data",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return C.apply(this,arguments)},placeholder:"Upload .csv"}),Object(j.jsx)("small",{id:"passwordHelpInline",className:"text-muted",children:"Upload Classes File in .csv format only."})]}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",disabled:o,children:a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Upload"]})})}),Object(j.jsx)("button",{className:"btn btn-sm dark bg-danger  ml-2",onClick:function(e){e.preventDefault(),_.push("/admin/subject-management")},children:Object(j.jsx)("span",{className:"fa fa-times"})})]})]})]})}function De(){var e=Object(n.useContext)(k).state,t=Object(l.i)(),a=t.school_id?"subjects-".concat(t.school_id):"subjects";return Object(D.a)(a,Object(A.a)(T.a.mark((function t(){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token){t.next=5;break}return t.next=3,F.a.get("".concat(B,"v1/subject/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return a=t.sent,t.abrupt("return",a.data.data);case 5:case"end":return t.stop()}}),t)}))))}function Le(e){var t,a=e.update,c=e.Delete,s=Object(l.g)(),i=Object(P.useToasts)().addToast,o=Object(n.useContext)(k).state,r=Object(J.b)(),d=Object(l.i)(),u=De(),m=u.data,b=u.isLoading,p=ie(),v=p.data,h=(p.schoolIsLoading,null===v||void 0===v?void 0:v.filter((function(e){return(null===e||void 0===e?void 0:e._id)==(null===d||void 0===d?void 0:d.school_id)}))),O={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+o.access_token}},f=Object(G.a)((function(e){return F.a.delete("".concat(B,"v1/subject/delete/").concat(e),O)}),{onSuccess:function(){r.invalidateQueries("subjects"),i("Subject Deleted successfully",{appearance:"success",autoDismiss:!0})}}),x=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.mutate(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),h&&(null===(t=h[0])||void 0===t?void 0:t.name)?"School: "+h[0].name:"All Subjects"]}),Object(j.jsx)("hr",{className:"mt-0"}),Object(j.jsx)(z,{isLoading:b}),Object(j.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:Object(j.jsxs)("table",{className:"table table-hover",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"#"}),Object(j.jsx)("th",{scope:"col",children:"Subject Name"}),Object(j.jsx)("th",{scope:"col",children:"Subject URL"}),Object(j.jsx)("th",{scope:"col",children:"Action"})]})}),Object(j.jsx)("tbody",{children:null===m||void 0===m?void 0:m.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"row",children:t}),Object(j.jsx)("td",{children:e.subject_name}),Object(j.jsx)("td",{children:e.subject_slug}),Object(j.jsxs)("td",{children:[!0===a&&Object(j.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(t){s.push("/admin/subject-management/update/".concat(null===e||void 0===e?void 0:e._id))},children:Object(j.jsx)("span",{className:"fa fa-edit"})}),!0===c&&Object(j.jsx)("button",{className:"btn bg-danger text-white btn-sm",onClick:function(){return x(null===e||void 0===e?void 0:e._id)},children:Object(j.jsx)("span",{className:"fa fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)}))})]})})]})}function Fe(){var e=Object(l.g)(),t=Object(l.i)(),a=(Object(l.h)().pathname,Object(P.useToasts)().addToast),c=Object(n.useContext)(k).state,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],r=i[1],m=function(){var e=Object(l.i)(),t=null===e||void 0===e?void 0:e.student_id,a=Object(n.useContext)(k).state;return Object(D.a)("single-module-".concat(t),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/student/view/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,b=/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/,p=Object(n.useState)({}),v=Object(d.a)(p,2),h=v[0],O=v[1],f=ie(),x=f.data,g=f.schoolIsLoading,_=Ce(),N=(_.data,_.classesIsLoading,Object(n.useState)({name:"",class_id:"",class:"",section:"",roll_no:"",mobile:"",email:""})),y=Object(d.a)(N,2),w=y[0],C=y[1];Object(n.useEffect)((function(){O(m)}),[m]);Object(J.b)(),c.access_token;var S=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=(Object(l.h)().pathname,Object(l.g)()),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},o=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/student/create"),e,i)}),{onSuccess:function(){var e=null===c||void 0===c?void 0:c.school_id,a=null===c||void 0===c?void 0:c.class_id;t.invalidateQueries("students-".concat(e,"-").concat(a)),s.push("/admin/students-management"),o("Student added successfully",{appearance:"success",autoDismiss:!0})}})}(),L=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=(Object(l.h)().pathname,Object(l.g)()),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},o=Object(P.useToasts)().addToast;return Object(G.a)((function(e){var t=null===c||void 0===c?void 0:c.student_id;return F.a.patch("".concat(B,"v1/student/update/").concat(t),e,i)}),{onSuccess:function(){var e=null===c||void 0===c?void 0:c.school_id;t.invalidateQueries("students-".concat(e)),s.push("/admin/students-management"),o("Student Updated successfully",{appearance:"success",autoDismiss:!0})}})}(),I=function(){var e=Object(A.a)(T.a.mark((function e(n){var c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r(!0),!(null===t||void 0===t?void 0:t.student_id)){e.next=7;break}return e.next=5,L.mutate(h);case 5:e.next=23;break;case 7:if(w.school_id=t.school_id?t.school_id:"",""!=w.school_id){e.next=13;break}r(!1),a("Please Select a School",{appearance:"error",autoDismiss:!0}),e.next=23;break;case 13:if(w.password="password",b.test(w.mobile)){e.next=19;break}r(!1),a("Please Enter a valid 10 digit phone no",{appearance:"error",autoDismiss:!0}),e.next=23;break;case 19:return c=x.filter((function(e){return e._id==t.school_id})),w.username=w.name+w.mobile.substr(-4)+"@".concat(c[0].domain),e.next=23,S.mutate(w);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function z(e){return U.apply(this,arguments)}function U(){return(U=Object(A.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t?void 0:t.student_id)?O(Object(u.a)(Object(u.a)({},h),{},Object(W.a)({},a.target.name,a.target.value))):C(Object(u.a)(Object(u.a)({},w),{},Object(W.a)({},a.target.name,a.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(A.a)(T.a.mark((function a(n){return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:999!=n.target.value&&((null===t||void 0===t?void 0:t.student_id)?(O(Object(u.a)(Object(u.a)({},h),{},Object(W.a)({},n.target.name,n.target.value))),e.push("/admin/student-management/update/".concat(n.target.value,"/").concat(null===t||void 0===t?void 0:t.class_id,"/").concat(null===t||void 0===t?void 0:t.student_id))):(C(Object(u.a)(Object(u.a)({},w),{},Object(W.a)({},"school_id",n.target.value))),t.class_id?e.push("/admin/students-management/create/".concat(n.target.value,"/").concat(null===t||void 0===t?void 0:t.class_id)):e.push("/admin/students-management/create/".concat(n.target.value))));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Student"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:I,children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){return E.apply(this,arguments)},value:t.school_id?t.school_id:999,children:[Object(j.jsx)("option",{value:"999",children:"Select School"}),!g&&(null===x||void 0===x?void 0:x.map((function(e){return Object(j.jsx)("option",{value:e._id,children:e.school_name},e._id)})))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"name",value:(null===t||void 0===t?void 0:t.student_id)?null===h||void 0===h?void 0:h.name:null===w||void 0===w?void 0:w.name,onChange:z,placeholder:"Name"})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"class",value:(null===t||void 0===t?void 0:t.student_id)?null===h||void 0===h?void 0:h.class:null===w||void 0===w?void 0:w.class,onChange:z,placeholder:"Class"})})}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"section",value:(null===t||void 0===t?void 0:t.student_id)?null===h||void 0===h?void 0:h.section:null===w||void 0===w?void 0:w.section,onChange:z,placeholder:"Section"})})})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"mobile",value:(null===t||void 0===t?void 0:t.student_id)?null===h||void 0===h?void 0:h.mobile:null===w||void 0===w?void 0:w.mobile,onChange:z,placeholder:"Phone"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"email",value:(null===t||void 0===t?void 0:t.student_id)?null===h||void 0===h?void 0:h.email:null===w||void 0===w?void 0:w.email,onChange:z,placeholder:"Email"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"password",onChange:z,placeholder:"Password"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"roll_no",value:(null===t||void 0===t?void 0:t.student_id)?null===h||void 0===h?void 0:h.roll_no:null===w||void 0===w?void 0:w.roll_no,onChange:z,placeholder:"Roll No"})}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",children:o?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:(null===t||void 0===t?void 0:t.student_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update Student"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Save Student"]})})}),Object(j.jsx)("button",{className:"btn btn-sm dark bg-danger ml-2",onClick:function(t){t.preventDefault(),e.push("/admin/students-management")},children:Object(j.jsx)("span",{className:"fa fa-times"})})]})]})]})}function Be(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=(Object(l.h)().pathname,Object(l.g)(),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}}),i=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/student/upload"),e,s)}),{onSuccess:function(){null===c||void 0===c||c.school_id,null===c||void 0===c||c.class_id;t.invalidateQueries("students"),setLoading(!1),i("Student added successfully",{appearance:"success",autoDismiss:!0})}})}function Ie(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=(t[1],Object(n.useState)(!0)),s=Object(d.a)(c,2),i=s[0],o=s[1],r=Object(l.i)(),m=Object(n.useContext)(k).state,b=Object(P.useToasts)().addToast,p=Object(n.useState)(null),v=Object(d.a)(p,2),h=v[0],O=v[1],f=Object(n.useState)(null),x=Object(d.a)(f,2),g=x[0],_=x[1],N=Object(n.useState)(null),y=Object(d.a)(N,2),w=y[0],C=(y[1],Object(l.g)()),S=(Object(J.b)(),m.access_token,new FormData),D=ie(),L=D.data,F=D.schoolIsLoading,B=Ce();B.data,B.classesIsLoading;function I(){return(I=Object(A.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,console.log("file onchange ",a),n=a.split(".")[1],console.log(n),"csv"===n?(o(!1),O(t.target.files[0]),S.append("file",t.target.files[0]),S.append("test","testdata")):(o(!0),b("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=Be(),U=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),S.append("file",h),S.append("school_id",g),S.append("class_id",w),g){e.next=8;break}b("Please Select a School",{appearance:"error",autoDismiss:!0}),e.next=17;break;case 8:if(w){e.next=12;break}b("Please Select a Class",{appearance:"error",autoDismiss:!0}),e.next=17;break;case 12:return console.log(S.get("file")),console.log(S.get("school_id")),console.log(S.get("class_id")),e.next=17,z.mutate(S);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function E(){return(E=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===r||void 0===r?void 0:r.student_id)?setSingleStudent(Object(u.a)(Object(u.a)({},SingleStudent),{},Object(W.a)({},t.target.name,t.target.value))):(S.append(["school_id"],t.target.value),C.push("/admin/students-management/upload/".concat(t.target.value)),_(t.target.value));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Upload Students"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsx)("a",{href:"/sampledata/students.csv",download:!0,children:"Download Sample File"}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:U,method:"POST",encType:"multipart/form-data",children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){return E.apply(this,arguments)},value:r.school_id,children:[Object(j.jsx)("option",{children:"Select School"}),!F&&(null===L||void 0===L?void 0:L.map((function(e){return Object(j.jsx)("option",{value:e._id,children:e.school_name},e._id)})))]})}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return I.apply(this,arguments)},placeholder:"Upload .csv"}),Object(j.jsx)("small",{id:"passwordHelpInline",class:"text-muted",children:"Upload Classes File in .csv format only."})]}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",disabled:i,children:a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Upload"]})})}),Object(j.jsx)("button",{className:"btn btn-sm dark bg-danger ml-2",onClick:function(e){e.preventDefault(),C.push("/admin/students-management")},children:Object(j.jsx)("span",{className:"fa fa-times"})})]})]})]})}function ze(e){var t,a=e.update,c=e.Delete,s=Object(l.g)(),i=Object(l.i)(),o=function(){var e=Object(n.useContext)(k).state,t=Object(l.i)(),a=t.school_id?"students-".concat(t.school_id):"students";return Object(D.a)(a,Object(A.a)(T.a.mark((function a(){var n,c;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.access_token){a.next=12;break}if(t.school_id){a.next=8;break}return a.next=4,F.a.get("".concat(B,"v1/student/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 4:return n=a.sent,a.abrupt("return",n.data.data);case 8:return a.next=10,F.a.get("".concat(B,"v1/student/student-by-school-id/").concat(t.school_id),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 10:return c=a.sent,a.abrupt("return",c.data.data);case 12:case"end":return a.stop()}}),a)}))))}(),r=o.data,d=o.isLoading,u=ie().data,m=null===u||void 0===u?void 0:u.filter((function(e){return(null===e||void 0===e?void 0:e._id)==(null===i||void 0===i?void 0:i.school_id)})),b=function(e){var t=Object(l.i)(),a=(Object(l.h)().pathname,Object(l.g)(),Object(J.b)()),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},s=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.delete("".concat(B,"v1/student/delete/").concat(e),c)}),{onSuccess:function(){var e=t.school_id?"students-".concat(t.school_id):"students";a.invalidateQueries(e),s("Student Deleted successfully",{appearance:"success",autoDismiss:!0})}})}(),p=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.mutate(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"})," All Students",Object(j.jsx)("span",{className:"dark bg-success br-15 pl-3 pr-3 ml-2",children:m&&(null===(t=m[0])||void 0===t?void 0:t.school_name)})]}),Object(j.jsx)("hr",{className:"mt-0"}),Object(j.jsx)(z,{isLoading:d}),Object(j.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:Object(j.jsxs)("table",{className:"table table-hover",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"#"}),Object(j.jsx)("th",{scope:"col",children:"Name"}),Object(j.jsx)("th",{scope:"col",children:"Class"}),Object(j.jsx)("th",{scope:"col",children:"Section"}),Object(j.jsx)("th",{scope:"col",children:"Roll No"}),Object(j.jsx)("th",{scope:"col",children:"Mobile"}),Object(j.jsx)("th",{scope:"col",children:"Email"}),Object(j.jsx)("th",{scope:"col",children:"Action"})]})}),Object(j.jsx)("tbody",{children:null===r||void 0===r?void 0:r.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"row",children:t}),Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.class}),Object(j.jsx)("td",{children:e.section}),Object(j.jsx)("td",{children:e.roll_no}),Object(j.jsx)("td",{children:e.mobile}),Object(j.jsx)("td",{children:e.email}),Object(j.jsxs)("td",{children:[!0===a&&Object(j.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(t){s.push("/admin/students-management/update/".concat(e.school_id,"/").concat(null===e||void 0===e?void 0:e._id))},children:Object(j.jsx)("span",{className:"fa fa-edit"})}),!0===c&&Object(j.jsx)("button",{className:"btn bg-danger text-white btn-sm",onClick:function(){return p(null===e||void 0===e?void 0:e._id)},children:(null===b||void 0===b?void 0:b.isLoading)?Object(j.jsx)("span",{className:"fa fa-spinner"}):Object(j.jsx)("span",{className:"fa fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)}))})]})})]})}function Ue(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=Object(l.h)().pathname,i=Object(l.g)(),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},r=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/teacher/create"),e,o)}),{onSuccess:function(){var e=null===c||void 0===c?void 0:c.school_id;t.invalidateQueries("teachers-".concat(e)),setLoading(!1),setFormData(initialData),i.push("".concat(s)),r("Teacher added successfully",{appearance:"success",autoDismiss:!0})}})}function Ee(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=Object(l.h)().pathname,i=Object(l.g)(),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},r=Object(P.useToasts)().addToast;return Object(G.a)((function(e){var t=null===c||void 0===c?void 0:c.teacher_id;return F.a.patch("".concat(B,"v1/teacher/update/").concat(t),e,o)}),{onSuccess:function(){var e=null===c||void 0===c?void 0:c.school_id;t.invalidateQueries("teachers-".concat(e)),setLoading(!1),setFormData(initialData),i.push("".concat(s)),r("Teacher Updated successfully",{appearance:"success",autoDismiss:!0})}})}function Qe(){var e=Object(l.g)(),t=Object(l.i)(),a=(Object(l.h)().pathname,Object(P.useToasts)().addToast),c=Object(n.useContext)(k).state,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],r=i[1],m=function(){var e=Object(l.i)(),t=null===e||void 0===e?void 0:e.teacher_id,a=Object(n.useContext)(k).state;return Object(D.a)("single-module-".concat(t),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/teacher/view/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,b=Object(n.useState)({}),p=Object(d.a)(b,2),v=p[0],h=p[1],O=ie(),f=O.data,x=O.isLoading,g=/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/,_=Object(n.useState)({name:"",mobile:"",email:"",password:"",address:"",city:"",state:"",pincode:""}),N=Object(d.a)(_,2),y=N[0],w=N[1];Object(n.useEffect)((function(){h(m)}),[m]);Object(J.b)(),c.access_token;var C=Ue(),S=Ee(),L=function(){var e=Object(A.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r(!0),!(null===t||void 0===t?void 0:t.teacher_id)){e.next=7;break}return e.next=5,S.mutate(v);case 5:e.next=20;break;case 7:if(y.school_id=t.school_id?t.school_id:"",""!=y.school_id){e.next=13;break}r(!1),a("Please Select a School",{appearance:"error",autoDismiss:!0}),e.next=20;break;case 13:if(g.test(y.mobile)){e.next=18;break}r(!1),a("Please Enter a valid 10 digit phone no",{appearance:"error",autoDismiss:!0}),e.next=20;break;case 18:return e.next=20,C.mutate(y);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function I(e){return z.apply(this,arguments)}function z(){return(z=Object(A.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t?void 0:t.teacher_id)?h(Object(u.a)(Object(u.a)({},v),{},Object(W.a)({},a.target.name,a.target.value))):w(Object(u.a)(Object(u.a)({},y),{},Object(W.a)({},a.target.name,a.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(A.a)(T.a.mark((function a(n){return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:999!=n.target.value&&((null===t||void 0===t?void 0:t.teacher_id)?(h(Object(u.a)(Object(u.a)({},v),{},Object(W.a)({},n.target.name,n.target.value))),e.push("/admin/teachers-management/update/".concat(n.target.value,"/").concat(t.teacher_id))):(w(Object(u.a)(Object(u.a)({},y),{},Object(W.a)({},"school_id",n.target.value))),e.push("/admin/teachers-management/create/".concat(n.target.value))));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Teacher"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:L,children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){return U.apply(this,arguments)},value:t.school_id?t.school_id:999,children:[Object(j.jsx)("option",{value:"999",children:"Select School"}),!x&&(null===f||void 0===f?void 0:f.map((function(e){return Object(j.jsx)("option",{value:e._id,children:e.school_name},e._id)})))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"name",value:(null===t||void 0===t?void 0:t.teacher_id)?null===v||void 0===v?void 0:v.name:null===y||void 0===y?void 0:y.name,onChange:I,placeholder:"Name"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"mobile",value:(null===t||void 0===t?void 0:t.teacher_id)?null===v||void 0===v?void 0:v.mobile:null===y||void 0===y?void 0:y.mobile,onChange:I,placeholder:"Mobile"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"email",className:"form-control",name:"email",value:(null===t||void 0===t?void 0:t.teacher_id)?null===v||void 0===v?void 0:v.email:null===y||void 0===y?void 0:y.email,onChange:I,placeholder:"Email"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"password",className:"form-control",name:"password",value:(null===t||void 0===t?void 0:t.teacher_id)?null===v||void 0===v?void 0:v.password:null===y||void 0===y?void 0:y.password,onChange:I,placeholder:"Password"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"address",value:(null===t||void 0===t?void 0:t.teacher_id)?null===v||void 0===v?void 0:v.address:null===y||void 0===y?void 0:y.address,onChange:I,autoComplete:"no-password",placeholder:"Address"})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"city",value:(null===t||void 0===t?void 0:t.teacher_id)?null===v||void 0===v?void 0:v.city:null===y||void 0===y?void 0:y.city,onChange:I,autoComplete:"no-password",placeholder:"City"})})}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"state",value:(null===t||void 0===t?void 0:t.teacher_id)?null===v||void 0===v?void 0:v.state:null===y||void 0===y?void 0:y.state,onChange:I,autoComplete:"no-password",placeholder:"State"})})})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"pincode",maxLength:6,value:(null===t||void 0===t?void 0:t.teacher_id)?null===v||void 0===v?void 0:v.pincode:null===y||void 0===y?void 0:y.pincode,onChange:I,autoComplete:"no-password",placeholder:"Pincode"})}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",children:o?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:(null===t||void 0===t?void 0:t.teacher_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update Teacher"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Save Teacher"]})})}),Object(j.jsx)("button",{className:"btn btn-sm dark bg-danger ml-2",onClick:function(t){t.preventDefault(),e.push("/admin/teachers-management")},children:Object(j.jsx)("span",{className:"fa fa-times"})})]})]})]})}function qe(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=(Object(l.i)(),Object(l.h)().pathname,Object(l.g)(),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}}),s=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/teacher/upload"),e,c)}),{onSuccess:function(){t.invalidateQueries("teachers"),setLoading(!1),s("Teacher added successfully",{appearance:"success",autoDismiss:!0})}})}function Me(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=(t[1],Object(n.useState)(!0)),s=Object(d.a)(c,2),i=s[0],o=s[1],r=Object(n.useContext)(k).state,u=Object(P.useToasts)().addToast,m=Object(n.useState)(null),b=Object(d.a)(m,2),p=b[0],v=b[1],h=Object(n.useState)(),O=Object(d.a)(h,2),f=O[0],x=O[1],g=Object(n.useState)(!1),_=Object(d.a)(g,2),N=_[0],y=_[1],w=Object(l.g)(),C=ie(),S=C.data,D=C.isLoading,L=(Object(J.b)(),r.access_token,new FormData);function F(){return(F=Object(A.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,console.log("file onchange ",a),n=a.split(".")[1],console.log(n),"csv"===n?(o(!1),v(t.target.files[0]),L.append("file",t.target.files[0]),L.append("test","testdata")):(o(!0),u("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=qe(),I=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),N){e.next=4;break}return u("Please Select a School",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 4:return L.append("file",p),L.append("school_id",f),e.next=8,B.mutate(L);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Upload Teachers"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsx)("a",{href:"/sampledata/teachers.csv",download:!0,children:"Download Sample File"}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:I,method:"POST",encType:"multipart/form-data",children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){x(e.target.value),y(!0)},children:[Object(j.jsx)("option",{children:"Select School"}),!D&&(null===S||void 0===S?void 0:S.map((function(e){return Object(j.jsx)("option",{value:e._id,children:e.name},e._id)})))]})}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return F.apply(this,arguments)},placeholder:"Upload .csv"}),Object(j.jsx)("small",{id:"passwordHelpInline",class:"text-muted",children:"Upload Classes File in .csv format only."})]}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",disabled:i,children:a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Upload"]})})}),Object(j.jsx)("button",{className:"btn btn-sm dark bg-danger ml-2",onClick:function(e){e.preventDefault(),w.push("/admin/teachers-management")},children:Object(j.jsx)("span",{className:"fa fa-times"})})]})]})]})}function Pe(){var e=Object(n.useContext)(k).state,t=Object(l.i)(),a=t.school_id?"teachers-".concat(t.school_id):"teachers";return Object(D.a)(a,Object(A.a)(T.a.mark((function a(){var n,c;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.access_token){a.next=12;break}if(t.school_id){a.next=8;break}return a.next=4,F.a.get("".concat(B,"v1/teacher/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 4:return n=a.sent,a.abrupt("return",n.data.data);case 8:return a.next=10,F.a.get("".concat(B,"v1/teacher/teacher-by-school-id/").concat(t.school_id),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 10:return c=a.sent,a.abrupt("return",c.data.data);case 12:case"end":return a.stop()}}),a)}))))}function He(e){var t,a=e.update,c=(e.Delete,Object(l.g)()),s=(Object(P.useToasts)().addToast,Object(n.useContext)(k).state),i=Object(l.i)(),o=(Object(J.b)(),Pe()),r=o.data,d=o.isLoading,u=ie(),m=u.data,b=(u.schoolIsLoading,null===m||void 0===m?void 0:m.filter((function(e){return(null===e||void 0===e?void 0:e._id)==(null===i||void 0===i?void 0:i.school_id)}))),p=(s.access_token,function(e){var t=Object(l.i)(),a=(Object(l.h)().pathname,Object(l.g)(),Object(J.b)()),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},s=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.delete("".concat(B,"v1/teacher/delete/").concat(e),c)}),{onSuccess:function(){var e=(null===t||void 0===t?void 0:t.school_id)?"teachers-".concat(t.school_id):"teachers";a.invalidateQueries(e),s("Teacher Deleted successfully",{appearance:"success",autoDismiss:!0})}})}()),v=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.mutate(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),b&&(null===(t=b[0])||void 0===t?void 0:t.name)?"School: "+b[0].name:"All Teachers"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsx)(z,{isLoading:d}),Object(j.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:Object(j.jsxs)("table",{className:"table table-hover",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"#"}),Object(j.jsx)("th",{scope:"col",children:"Name"}),Object(j.jsx)("th",{scope:"col",children:"Mobile"}),Object(j.jsx)("th",{scope:"col",children:"Email"}),Object(j.jsx)("th",{scope:"col",children:"Action"})]})}),Object(j.jsx)("tbody",{children:null===r||void 0===r?void 0:r.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"row",children:t}),Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.mobile}),Object(j.jsx)("td",{children:e.email}),Object(j.jsxs)("td",{children:[a&&Object(j.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(t){i.school_id?c.push("/admin/teachers-management/update/".concat(null===i||void 0===i?void 0:i.school_id,"/").concat(null===e||void 0===e?void 0:e._id)):c.push("/admin/teachers-management/update/".concat(e.school_id,"/").concat(null===e||void 0===e?void 0:e._id))},children:Object(j.jsx)("span",{className:"fa fa-edit"})}),Object(j.jsx)("button",{className:"btn bg-danger text-white btn-sm",onClick:function(){return v(null===e||void 0===e?void 0:e._id)},children:Object(j.jsx)("span",{className:"fa fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)}))})]})})]})}function Re(){var e=Object(l.g)(),t=Object(l.i)(),a=ue("delete"),c=Object(P.useToasts)().addToast,s=function(e){Object(l.i)();var t=Object(n.useContext)(k).state;return Object(D.a)("single-module-".concat(e),Object(A.a)(T.a.mark((function a(){var n;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0===e){a.next=5;break}return a.next=3,F.a.get("".concat(B,"v1/principal/view/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=a.sent,a.abrupt("return",n.data.data);case 5:case"end":return a.stop()}}),a)}))))}(null===t||void 0===t?void 0:t.principal_id).data,i=Object(n.useState)({}),o=Object(d.a)(i,2),r=o[0],m=o[1],b=[{key:"mr",value:"Mr"},{key:"mrs",value:"Mrs"},{key:"miss",value:"Miss"}],p={title:"",name:"",address:"",state:"",city:"",password:"",pincode:"",email:"",mobile:""},v=Object(n.useState)({}),h=Object(d.a)(v,2),O=h[0],f=h[1];Object(n.useEffect)((function(){f(p),m(p)}),[null===t||void 0===t?void 0:t.page_type]),Object(n.useEffect)((function(){void 0!==s&&m(s)}),[s]);var x=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=(Object(l.i)(),Object(l.h)().pathname,Object(l.g)()),s={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},i=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/principal/create"),e,s)}),{onSuccess:function(){t.invalidateQueries("principals"),i("Principal added successfully",{appearance:"success",autoDismiss:!0}),c.push("/admin/principal-management")}})}(),g=function(e){var t=Object(l.i)(),a=(Object(l.h)().pathname,Object(l.g)()),c=Object(J.b)(),s={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},i=Object(P.useToasts)().addToast;return Object(G.a)((function(e){var a=null===t||void 0===t?void 0:t.principal_id;return F.a.patch("".concat(B,"v1/principal/update/").concat(a),e,s)}),{onSuccess:function(){c.invalidateQueries("principals"),i("Principal Updated successfully",{appearance:"success",autoDismiss:!0}),a.push("/admin/principal-management")}})}(),_=function(e){Object(l.h)().pathname;var t=Object(l.g)(),a=Object(J.b)(),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},s=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/principal/delete"),e,c)}),{onSuccess:function(){a.invalidateQueries("principals"),t.push("/admin/principal-management"),s("Principal deleted successfully",{appearance:"success",autoDismiss:!0})}})}(),N=ie(),y=N.data,w=N.schoolIsLoading,C=function(){var e=Object(A.a)(T.a.mark((function e(a){var n,s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),O.name=(null===t||void 0===t?void 0:t.principal_id)?null===r||void 0===r?void 0:r.name:null===O||void 0===O?void 0:O.name,console.log(O),!(null===t||void 0===t?void 0:t.principal_id)){e.next=8;break}return e.next=6,g.mutate(r);case 6:e.next=39;break;case 8:if(O.school_id=t.school_id?t.school_id:"",""!=O.school_id){e.next=13;break}c("Please Select a School",{appearance:"error",autoDismiss:!0}),e.next=39;break;case 13:if(""!=(null===O||void 0===O?void 0:O.name)){e.next=17;break}c("Please Enter Principal name",{appearance:"error",autoDismiss:!0}),e.next=39;break;case 17:if(""!=(null===O||void 0===O?void 0:O.email)){e.next=21;break}c("Please provide admin email",{appearance:"error",autoDismiss:!0}),e.next=39;break;case 21:if(!1!==z(null===O||void 0===O?void 0:O.pincode)){e.next=25;break}c("Please enter numbers only",{appearance:"error",autoDismiss:!0}),e.next=39;break;case 25:if(!((null===O||void 0===O||null===(n=O.pincode)||void 0===n?void 0:n.length)<6)){e.next=29;break}c("Please provide valid zip code",{appearance:"error",autoDismiss:!0}),e.next=39;break;case 29:if(!((null===O||void 0===O||null===(s=O.mobile)||void 0===s?void 0:s.length)<10)){e.next=33;break}c("Please enter valid mobile number",{appearance:"error",autoDismiss:!0}),e.next=39;break;case 33:if(!1!==z(null===O||void 0===O?void 0:O.mobile)){e.next=37;break}c("Please enter valid mobile number",{appearance:"error",autoDismiss:!0}),e.next=39;break;case 37:return e.next=39,x.mutate(O);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function S(){return(S=Object(A.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===t||void 0===t?void 0:t.principal_id)){e.next=4;break}return O.principal_id=null===t||void 0===t?void 0:t.principal_id,e.next=4,_.mutate(O);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return I.apply(this,arguments)}function I(){return(I=Object(A.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t?void 0:t.principal_id)?m(Object(u.a)(Object(u.a)({},r),{},Object(W.a)({},a.target.name,a.target.value))):f(Object(u.a)(Object(u.a)({},O),{},Object(W.a)({},a.target.name,a.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){var t=(e=e||window.event).which?e.which:e.keyCode;return!(t>31&&(t<48||t>57))}function U(e){return E.apply(this,arguments)}function E(){return(E=Object(A.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===z(t.target.value)?(c("Please provide valid ".concat(t.target.name),{appearance:"error",autoDismiss:!0}),document.getElementsByName("".concat(t.target.name))[0].innerText="",document.getElementsByName("".concat(t.target.name))[0].focus()):"mobile"===t.target.name&&(null===(a=t.target.value)||void 0===a?void 0:a.length)<10?(c("Please provide valid ".concat(t.target.name),{appearance:"error",autoDismiss:!0}),document.getElementsByName("".concat(t.target.name))[0].innerHTML=null,document.getElementsByName("".concat(t.target.name))[0].focus()):"pincode"===t.target.name&&(null===(n=t.target.value)||void 0===n?void 0:n.length)<6&&(console.log("asA"),c("Please provide valid ".concat(t.target.name),{appearance:"error",autoDismiss:!0}),document.getElementsByName("".concat(t.target.name))[0].innerHTML=null,document.getElementsByName("".concat(t.target.name))[0].focus());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(A.a)(T.a.mark((function a(n){return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:999!=n.target.value&&((null===t||void 0===t?void 0:t.principal_id)?(m(Object(u.a)(Object(u.a)({},r),{},Object(W.a)({},n.target.name,n.target.value))),e.push("/admin/principal-management/update/".concat(n.target.value,"/").concat(null===t||void 0===t?void 0:t.principal_id))):(f(Object(u.a)(Object(u.a)({},O),{},Object(W.a)({},"school_id",n.target.value))),e.push("/admin/principal-management/create/".concat(n.target.value))));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Principal"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:C,children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){return Q.apply(this,arguments)},value:t.school_id?t.school_id:999,children:[Object(j.jsx)("option",{value:"999",children:"Select School"}),!w&&(null===y||void 0===y?void 0:y.map((function(e){return Object(j.jsx)("option",{value:e._id,children:e.school_name},e._id)})))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control",name:"title",onChange:L,value:(null===t||void 0===t?void 0:t.principal_id)?null===r||void 0===r?void 0:r.title:null===O||void 0===O?void 0:O.title,children:[Object(j.jsx)("option",{children:"Select Salutation"}),null===b||void 0===b?void 0:b.map((function(e){return Object(j.jsx)("option",{value:null===e||void 0===e?void 0:e.key,children:null===e||void 0===e?void 0:e.value})}))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"name",value:(null===t||void 0===t?void 0:t.principal_id)?null===r||void 0===r?void 0:r.name:null===O||void 0===O?void 0:O.name,onChange:L,autoComplete:"no-password",placeholder:"Principal Name"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"email",value:(null===t||void 0===t?void 0:t.principal_id)?null===r||void 0===r?void 0:r.email:null===O||void 0===O?void 0:O.email,onChange:L,autoComplete:"no-password",placeholder:"Email"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"password",className:"form-control",name:"password",value:(null===t||void 0===t?void 0:t.principal_id)?null===r||void 0===r?void 0:r.password:null===O||void 0===O?void 0:O.password,onChange:L,autoComplete:"no-password",placeholder:"Password"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"mobile",value:(null===t||void 0===t?void 0:t.principal_id)?null===r||void 0===r?void 0:r.Mobile:null===O||void 0===O?void 0:O.Mobile,onChange:L,onBlur:U,autoComplete:"no-Mobile",placeholder:"Mobile"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"address",value:(null===t||void 0===t?void 0:t.principal_id)?null===r||void 0===r?void 0:r.address:null===O||void 0===O?void 0:O.address,onChange:L,autoComplete:"no-password",placeholder:"address"})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"city",value:(null===t||void 0===t?void 0:t.principal_id)?null===r||void 0===r?void 0:r.city:null===O||void 0===O?void 0:O.city,onChange:L,autoComplete:"no-password",placeholder:"city"})})}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"state",value:(null===t||void 0===t?void 0:t.principal_id)?null===r||void 0===r?void 0:r.state:null===O||void 0===O?void 0:O.state,onChange:L,autoComplete:"no-password",placeholder:"state"})})})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"pincode",maxLength:6,value:(null===t||void 0===t?void 0:t.principal_id)?null===r||void 0===r?void 0:r.pincode:null===O||void 0===O?void 0:O.pincode,onChange:L,autoComplete:"no-password",onBlur:U,placeholder:"pincode"})}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark br-5",children:x.isLoading||g.isLoading?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("span",{className:"fa fa-spinner mr-2"})}):Object(j.jsx)(j.Fragment,{children:(null===t||void 0===t?void 0:t.principal_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"}),"Update"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"}),"Save"]})})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"btn btn-sm bg-danger br-5 text-white ml-2",onClick:function(t){t.preventDefault(),f({}),m({}),e.push("/admin/principal-management")},children:Object(j.jsx)("span",{className:"fa fa-times"})}),(null===t||void 0===t?void 0:t.principal_id)&&1==a&&Object(j.jsx)("button",{className:"btn btn-sm bg-danger br-5 text-white ml-2",onClick:function(e){return S.apply(this,arguments)},children:_.isLoading?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("span",{className:"fa fa-spinner"})}):Object(j.jsx)("span",{className:"fa fa-trash"})})]})]})]})]})}function We(){var e=function(){var e=Object(n.useContext)(k).state;return Object(D.a)("principals",Object(A.a)(T.a.mark((function t(){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token){t.next=5;break}return t.next=3,F.a.get("".concat(B,"v1/principal/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return a=t.sent,t.abrupt("return",a.data.data);case 5:case"end":return t.stop()}}),t)}))))}(),t=e.data,a=e.isLoading,c=ie().data;console.log(c);var s=Object(l.g)(),i=ue("update");return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Principal"]}),Object(j.jsx)("hr",{className:"mt-1"}),a&&Object(j.jsx)(z,{isLoading:a}),Object(j.jsx)("div",{className:"col-md-12 row",style:{height:"auto !important",maxHeight:"400px",overflow:"scroll"},children:Object(j.jsxs)("table",{className:"table table-hover",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"School Name"}),Object(j.jsx)("th",{scope:"col",children:"Name"}),Object(j.jsx)("th",{scope:"col",children:"Email"}),Object(j.jsx)("th",{scope:"col",children:"Address"}),Object(j.jsx)("th",{scope:"col",children:"City"}),Object(j.jsx)("th",{scope:"col",children:"State"}),Object(j.jsx)("th",{scope:"col",children:"Pincode"}),!0===i&&Object(j.jsx)("th",{scope:"col",children:"Action"})]})}),Object(j.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((function(e,t){var a=function(e,t){var a,n,s=null===c||void 0===c?void 0:c.filter((function(t){return(null===t||void 0===t?void 0:t._id)==e}));return"name"==t?s&&(null===(a=s[0])||void 0===a?void 0:a.school_name):"logo"==t?s&&(null===(n=s[0])||void 0===n?void 0:n.school_logo):void 0}(null===e||void 0===e?void 0:e.school_id,"name");return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:a}),Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.email}),Object(j.jsx)("td",{children:e.address}),Object(j.jsx)("td",{children:e.city}),Object(j.jsx)("td",{children:e.state}),Object(j.jsx)("td",{children:e.pincode}),!0===i&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("td",{children:Object(j.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(t){s.push("/admin/principal-management/update/".concat(e.school_id,"/").concat(null===e||void 0===e?void 0:e._id))},children:Object(j.jsx)("span",{className:"fa fa-edit"})})})})]},null===e||void 0===e?void 0:e._id)}))})]})})]})}function Ye(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),i=Object(d.a)(s,2),o=i[0],r=i[1],m=Object(l.i)(),b=Object(n.useContext)(k).state,p=Object(P.useToasts)().addToast,v=Object(n.useState)(null),h=Object(d.a)(v,2),O=h[0],f=h[1],x=Object(n.useState)(null),g=Object(d.a)(x,2),_=(g[0],g[1],Object(n.useState)(null)),N=Object(d.a)(_,2),y=(N[0],N[1],ie()),w=y.data,C=y.schoolIsLoading,S=Object(l.g)(),D=Object(n.useState)({}),L=Object(d.a)(D,2),I=L[0],z=L[1],U=Object(J.b)(),E={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+b.access_token}},Q=new FormData;function q(){return(q=Object(A.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,console.log("file onchange ",a),n=a.split(".")[1],console.log(n),"csv"===n?(r(!1),f(t.target.files[0]),Q.append("file",t.target.files[0])):(r(!0),p("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=Object(G.a)((function(e){return console.log(e.file),F.a.post("".concat(B,"v1/principal/upload"),e,E)}),{onSuccess:function(){U.invalidateQueries("principals"),c(!1),p("Principal added successfully",{appearance:"success",autoDismiss:!0})}}),H=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Q.append("file",O),Q.append("school_id",I.school_id),e.next=5,M.mutate(Q);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function R(){return(R=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:999!=t.target.value&&((null===m||void 0===m?void 0:m.principal_id)?(setSinglePrincipal(Object(u.a)(Object(u.a)({},SinglePrincipal),{},Object(W.a)({},t.target.name,t.target.value))),S.push("/admin/principal-management/update/".concat(t.target.value,"/").concat(null===m||void 0===m?void 0:m.principal_id))):(z(Object(u.a)(Object(u.a)({},I),{},Object(W.a)({},"school_id",t.target.value))),S.push("/admin/principal-management/create/".concat(t.target.value))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Upload Principals",Object(j.jsx)("a",{href:"/sampledata/principals.csv",title:"download sample file",className:"btn-sm pull-right dark bg-success br-15",download:!0,children:Object(j.jsx)("span",{className:"fa fa-download"})})]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:H,method:"POST",encType:"multipart/form-data",children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){return R.apply(this,arguments)},value:m.school_id?m.school_id:999,children:[Object(j.jsx)("option",{value:"999",children:"Select School"}),!C&&(null===w||void 0===w?void 0:w.map((function(e){return Object(j.jsx)("option",{value:e._id,children:e.school_name},e._id)})))]})}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return q.apply(this,arguments)},placeholder:"Upload .csv"}),Object(j.jsx)("small",{id:"passwordHelpInline",class:"text-muted",children:"Upload Classes File in .csv format only."})]}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",disabled:o,children:a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Upload"]})})}),Object(j.jsx)("button",{className:"btn btn-sm dark bg-danger ml-2",onClick:function(e){e.preventDefault(),S.push("/admin/principal-management")},children:Object(j.jsx)("span",{className:"fa fa-times"})})]})]})]})}function Xe(){var e=Object(l.g)(),t=Object(l.i)(),a=(Object(l.h)().pathname,Object(P.useToasts)().addToast),c=Object(n.useContext)(k).state,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],r=i[1],m=ie(),b=m.data,p=m.isLoading,v=Pe(),h=v.data,O=v.teacherIsLoading,f=De(),x=f.data,g=(f.subjectIsLoading,{first_name:"",last_name:"",phone_no:""}),_=Object(n.useState)(g),N=Object(d.a)(_,2),y=N[0],w=N[1],C=Object(n.useState)(new Array(x&&x.length).fill(!1)),S=Object(d.a)(C,2),D=S[0],L=S[1],I=Object(J.b)(),z={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},U=Object(G.a)((function(e){return F.a.post("".concat(B,"v1/teacher-subject-mapping/create"),e,z)}),{onSuccess:function(){var n=null===t||void 0===t?void 0:t.school_id,c=null===t||void 0===t?void 0:t.teacher_id;I.invalidateQueries("teacher-subject-mapping-".concat(n,"-").concat(c)),r(!1),w(g),a("Mapping added successfully",{appearance:"success",autoDismiss:!0}),e.push("/admin/mapping-teacher-subjects")}}),E=function(){var e=Object(A.a)(T.a.mark((function e(n){var c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r(!0),!(null===t||void 0===t?void 0:t.teacher_sub_id)){e.next=7;break}return e.next=5,updateMutation.mutate(SingleTeacher);case 5:e.next=24;break;case 7:if(y.school_id=t.school_id?t.school_id:"",y.teacher_id=t.teacher_id?t.teacher_id:"",""!=y.school_id){e.next=14;break}r(!1),a("Please Select a School",{appearance:"error",autoDismiss:!0}),e.next=24;break;case 14:if(""!=y.teacher_id){e.next=19;break}r(!1),a("Please Select a Teacher",{appearance:"error",autoDismiss:!0}),e.next=24;break;case 19:return c=[],Array.from(document.querySelectorAll(".subjects")).map((function(e){if(!0===e.checked){var a=e.value.split("_");c.push({school_id:null===t||void 0===t?void 0:t.school_id,teacher_id:null===t||void 0===t?void 0:t.teacher_id,subject_id:a[0],subject_name:a[1],school_name:y.school_name,teacher_name:y.teacher_name})}})),e.next=23,U.mutate(c);case 23:Array.from(document.querySelectorAll(".subjects")).map((function(e){e.checked=!1}));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Q(){return(Q=Object(A.a)(T.a.mark((function a(n){var c,s;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:999!=n.target.value&&((null===t||void 0===t?void 0:t.teacher_sub_id)?e.push("/admin/mapping-teacher-subjects/select-school/".concat(n.target.value,"/").concat(t.teacher_id)):(s=n.target.options[n.target.selectedIndex].dataset.teacher_name,w(Object(u.a)(Object(u.a)({},y),{},(c={},Object(W.a)(c,"teacher_id",n.target.value),Object(W.a)(c,"teacher_name",s),c))),e.push("/admin/mapping-teacher-subjects/select-school/".concat(t.school_id,"/").concat(t.school_slug,"/").concat(n.target.value,"/").concat(Y(s)))));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function q(){return(q=Object(A.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.value,n=D.map((function(e,t){return t===a?!e:e})),L(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(A.a)(T.a.mark((function t(a){var n,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:999!=a.target.value&&(c=a.target.options[a.target.selectedIndex].dataset.school_name,w(Object(u.a)(Object(u.a)({},y),{},(n={},Object(W.a)(n,"school_id",a.target.value),Object(W.a)(n,"school_name",c),n))),e.push("/admin/mapping-teacher-subjects/select-school/".concat(a.target.value,"/").concat(Y(c))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Teacher-Subject Mapping"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:E,children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){return M.apply(this,arguments)},value:t.school_id?t.school_id:999,children:[Object(j.jsx)("option",{value:"999",children:"Select School"}),!p&&(null===b||void 0===b?void 0:b.map((function(e){return Object(j.jsx)("option",{value:e._id,"data-school_name":e.school_name,children:e.school_name},e._id)})))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"teacher_id",onChange:function(e){return Q.apply(this,arguments)},value:(null===t||void 0===t?void 0:t.teacher_id)?null===t||void 0===t?void 0:t.teacher_id:999,children:[Object(j.jsx)("option",{value:"999",children:"Select Teacher"}),!O&&(null===h||void 0===h?void 0:h.map((function(e){return Object(j.jsx)("option",{value:e._id,"data-teacher_name":e.name,children:e.name},e._id)})))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("div",{className:"col-md-12 pl-0 pr-2",style:{minHeight:"280px",maxHeight:"280px",overflow:"scroll"},children:null===x||void 0===x?void 0:x.map((function(e,t){return Object(j.jsx)("div",{className:"card pl-2 pt-0 pb-0 mb-2",children:Object(j.jsxs)("label",{className:"pb-0 mb-0",htmlfor:"subject-".concat(t),children:[Object(j.jsx)("input",{className:"mr-2 subjects",type:"radio",id:"subject-".concat(t),name:"subject",value:"".concat(null===e||void 0===e?void 0:e._id,"_").concat(null===e||void 0===e?void 0:e.subject_name),checked:D[t],onChange:function(e){!function(e,t){q.apply(this,arguments)}(e,t)}}),null===e||void 0===e?void 0:e.subject_name]})},null===e||void 0===e?void 0:e._id)}))})}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",children:o?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:(null===t||void 0===t?void 0:t.teacher_sub_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update Teacher"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Save Teacher"]})})}),t.school_id&&Object(j.jsxs)("button",{className:"btn btn-sm dark bg-danger ml-2",onClick:function(t){t.preventDefault(),e.push("/admin/mapping-teacher-subjects")},children:[Object(j.jsx)("span",{className:"fa fa-times"}),"Cancel"]})]})]})]})}function Je(e){var t=e.mapping,a=(Object(l.g)(),function(){var e=Object(l.i)(),t=(Object(l.h)().pathname,Object(l.g)(),Object(J.b)()),a={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},c=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/teacher-subject-mapping/delete"),{teacher_sub_id:e},a)}),{onSuccess:function(){console.log("Dsadasd");var a=null===e||void 0===e?void 0:e.school_id,n=null===e||void 0===e?void 0:e.teacher_id;t.invalidateQueries("teacher-subject-mapping-".concat(a,"-").concat(n)),c("Mapping deleted successfully",{appearance:"success",autoDismiss:!0})}})}());function c(){return(c=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t,e.next=3,a.mutate(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:Object(j.jsx)("button",{className:"btn btn-sm dark",onClick:function(){return function(e){return c.apply(this,arguments)}(t._id)},children:(null===a||void 0===a?void 0:a.isLoading)?Object(j.jsx)("span",{className:"fa fa-spinner"}):Object(j.jsx)("span",{className:"fa fa-trash"})})})}function Ge(e){var t=e.mapping;e.key;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"row",children:null===t||void 0===t?void 0:t.school_name}),Object(j.jsx)("th",{scope:"row",children:null===t||void 0===t?void 0:t.teacher_name}),Object(j.jsx)("th",{scope:"row",children:null===t||void 0===t?void 0:t.subject_name}),Object(j.jsx)("th",{scope:"row",width:"20%",children:Object(j.jsx)(Je,{mapping:t})})]},null===t||void 0===t?void 0:t._id)}function Ke(){var e,t=function(){var e=Object(n.useContext)(k).state,t=Object(l.i)(),a=null===t||void 0===t?void 0:t.school_id;return Object(D.a)("teacher-subject-mapping-".concat(a),Object(A.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e?void 0:e.access_token)){t.next=5;break}return t.next=3,F.a.get("".concat(B,"v1/teacher-subject-mapping/view-all/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return n=t.sent,t.abrupt("return",n.data.data);case 5:case"end":return t.stop()}}),t)}))))}(),a=t.data,c=t.isLoading,s=Object(l.i)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Mappings",Object(j.jsx)("span",{className:"dark bg-success br-15 pl-3 pr-3 ml-2",style:{fontSize:"0.90rem"},children:null===s||void 0===s||null===(e=s.school_slug)||void 0===e?void 0:e.replaceAll("-"," ")})]}),Object(j.jsx)("hr",{className:"mt-1"}),c&&Object(j.jsx)(z,{isLoading:c}),Object(j.jsx)("div",{className:"col-md-12 row no-gutter data-container",children:Object(j.jsxs)("table",{className:"table table-hover",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"School"}),Object(j.jsx)("th",{scope:"col",children:"Teacher"}),Object(j.jsx)("th",{scope:"col",children:"Subject"}),Object(j.jsx)("th",{scope:"col",children:"Action"})]})}),Object(j.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map((function(e){return Object(j.jsx)(Ge,{mapping:e},null===e||void 0===e?void 0:e._id)}))})]})})]})}function Ve(){var e=Object(l.g)(),t=Object(l.i)(),a=(Object(l.h)().pathname,Object(P.useToasts)().addToast),c=Object(n.useContext)(k).state,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],r=i[1],m=ie(),b=m.data,p=m.isLoading,v=Pe(),h=v.data,O=v.teacherIsLoading,f=Ce(),x=f.data,g=(f.classesIsLoading,{first_name:"",last_name:"",phone_no:""}),_=Object(n.useState)(g),N=Object(d.a)(_,2),y=N[0],w=N[1],C=Object(n.useState)(new Array(x&&x.length).fill(!1)),S=Object(d.a)(C,2),D=S[0],L=S[1],I=Object(J.b)(),z={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},U=Object(G.a)((function(e){return F.a.post("".concat(B,"v1/teacher-class-mapping/create"),e,z)}),{onSuccess:function(){var n=null===t||void 0===t?void 0:t.school_id,c=null===t||void 0===t?void 0:t.teacher_id;I.invalidateQueries("teacher-class-mapping-".concat(n,"-").concat(c)),r(!1),w(g),a("Mapping added successfully",{appearance:"success",autoDismiss:!0}),e.push("/admin/mapping-teacher-class")}}),E=function(){var e=Object(A.a)(T.a.mark((function e(n){var c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r(!0),!(null===t||void 0===t?void 0:t.teacher_sub_id)){e.next=7;break}return e.next=5,updateMutation.mutate(SingleTeacher);case 5:e.next=24;break;case 7:if(y.school_id=t.school_id?t.school_id:"",y.teacher_id=t.teacher_id?t.teacher_id:"",""!=y.school_id){e.next=14;break}r(!1),a("Please Select a School",{appearance:"error",autoDismiss:!0}),e.next=24;break;case 14:if(""!=y.teacher_id){e.next=19;break}r(!1),a("Please Select a Teacher",{appearance:"error",autoDismiss:!0}),e.next=24;break;case 19:return c=[],Array.from(document.querySelectorAll(".classes")).map((function(e){if(!0===e.checked){var a=e.value.split("_");c.push({school_id:null===t||void 0===t?void 0:t.school_id,teacher_id:null===t||void 0===t?void 0:t.teacher_id,class_id:a[0],class_name:a[1],school_name:y.school_name,teacher_name:y.teacher_name})}})),e.next=23,U.mutate(c);case 23:Array.from(document.querySelectorAll(".classes")).map((function(e){e.checked=!1}));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Q(){return(Q=Object(A.a)(T.a.mark((function a(n){var c,s;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:999!=n.target.value&&((null===t||void 0===t?void 0:t.teacher_sub_id)?e.push("/admin/mapping-teacher-class/select-school/".concat(n.target.value,"/").concat(t.teacher_id)):(s=n.target.options[n.target.selectedIndex].dataset.teacher_name,w(Object(u.a)(Object(u.a)({},y),{},(c={},Object(W.a)(c,"teacher_id",n.target.value),Object(W.a)(c,"teacher_name",s),c))),e.push("/admin/mapping-teacher-class/select-school/".concat(t.school_id,"/").concat(Y(t.school_slug),"/").concat(n.target.value,"/").concat(Y(s)))));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function q(){return(q=Object(A.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.value,n=D.map((function(e,t){return t===a?!e:e})),L(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(A.a)(T.a.mark((function t(a){var n,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:999!=a.target.value&&(c=a.target.options[a.target.selectedIndex].dataset.school_name,w(Object(u.a)(Object(u.a)({},y),{},(n={},Object(W.a)(n,"school_id",a.target.value),Object(W.a)(n,"school_name",c),n))),e.push("/admin/mapping-teacher-class/select-school/".concat(a.target.value,"/").concat(Y(c))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Teacher-Class Mapping"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:E,children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){return M.apply(this,arguments)},value:t.school_id?t.school_id:999,children:[Object(j.jsx)("option",{value:"999",children:"Select School"}),!p&&(null===b||void 0===b?void 0:b.map((function(e){return Object(j.jsx)("option",{value:e._id,"data-school_name":e.school_name,children:e.school_name},e._id)})))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"teacher_id",onChange:function(e){return Q.apply(this,arguments)},value:(null===t||void 0===t?void 0:t.teacher_id)?null===t||void 0===t?void 0:t.teacher_id:999,children:[Object(j.jsx)("option",{value:"999",children:"Select Teacher"}),!O&&(null===h||void 0===h?void 0:h.map((function(e){return Object(j.jsx)("option",{value:e._id,"data-teacher_name":e.name,children:e.name},e._id)})))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("div",{className:"col-md-12 pl-0 pr-2",style:{minHeight:"280px",maxHeight:"280px",overflow:"scroll"},children:null===x||void 0===x?void 0:x.map((function(e,t){return Object(j.jsx)("div",{className:"card pl-2 pt-0 pb-0 mb-2",children:Object(j.jsxs)("label",{className:"pb-0 mb-0",children:[Object(j.jsx)("input",{className:"mr-2 classes",type:"checkbox",id:"custom-checkbox-".concat(t),name:null===e||void 0===e?void 0:e.class_name,value:"".concat(null===e||void 0===e?void 0:e._id,"_").concat(null===e||void 0===e?void 0:e.class_name),checked:D[t],onChange:function(e){!function(e,t){q.apply(this,arguments)}(e,t)}}),null===e||void 0===e?void 0:e.class_name," th \xa0 Section: ",null===e||void 0===e?void 0:e.section]})},null===e||void 0===e?void 0:e._id)}))})}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",children:o?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:(null===t||void 0===t?void 0:t.teacher_class_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update Mapping"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Save Mapping"]})})}),t.school_id&&Object(j.jsxs)("button",{className:"btn btn-sm dark bg-danger ml-2",onClick:function(t){t.preventDefault(),e.push("/admin/mapping-teacher-class")},children:[Object(j.jsx)("span",{className:"fa fa-times"}),"Cancel"]})]})]})]})}function $e(e){var t=e.mapping,a=(Object(l.g)(),function(){Object(l.h)().pathname;var e=Object(l.i)(),t=(Object(l.g)(),Object(J.b)()),a={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},c=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/teacher-class-mapping/delete"),{teacher_sub_id:e},a)}),{onSuccess:function(){var a=null===e||void 0===e?void 0:e.school_id,n=null===e||void 0===e?void 0:e.teacher_id;t.invalidateQueries("teacher-class-mapping-".concat(a,"-").concat(n)),c("Mapping deleted successfully",{appearance:"success",autoDismiss:!0})}})}());function c(){return(c=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t,e.next=3,a.mutate(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:Object(j.jsx)("button",{className:"btn btn-sm dark",onClick:function(){return function(e){return c.apply(this,arguments)}(t._id)},children:(null===a||void 0===a?void 0:a.isLoading)?Object(j.jsx)("span",{className:"fa fa-spinner"}):Object(j.jsx)("span",{className:"fa fa-trash"})})})}function Ze(e){var t=e.mapping;return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("th",{scope:"row",children:[null===t||void 0===t?void 0:t.class_name," th "]}),Object(j.jsx)("th",{scope:"row",children:null===t||void 0===t?void 0:t.school_name}),Object(j.jsx)("th",{scope:"row",children:null===t||void 0===t?void 0:t.teacher_name}),Object(j.jsx)("th",{scope:"row",children:Object(j.jsx)($e,{mapping:t})})]},null===t||void 0===t?void 0:t._id)}function et(){var e,t,a=function(){var e=Object(n.useContext)(k).state,t=Object(l.i)(),a=null===t||void 0===t?void 0:t.school_id,c=null===t||void 0===t?void 0:t.teacher_id;return Object(D.a)(["teacher-class-mapping-".concat(a,"-").concat(c)],Object(A.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e?void 0:e.access_token)||void 0===c){t.next=5;break}return t.next=3,F.a.get("".concat(B,"v1/teacher-class-mapping/view-all/").concat(a,"/").concat(c),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return n=t.sent,t.abrupt("return",n.data.data);case 5:case"end":return t.stop()}}),t)}))))}(),c=a.data,s=a.isLoading,i=Object(l.i)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Mappings",Object(j.jsx)("span",{className:"dark bg-success br-15 pl-3 pr-3 ml-2",style:{fontSize:"0.90rem"},children:null===i||void 0===i||null===(e=i.school_slug)||void 0===e?void 0:e.replaceAll("-"," ")}),Object(j.jsx)("span",{className:"dark bg-success br-15 pl-3 pr-3 ml-2",style:{fontSize:"0.90rem"},children:null===i||void 0===i||null===(t=i.teacher_slug)||void 0===t?void 0:t.replaceAll("-"," ")})]}),Object(j.jsx)("hr",{className:"mt-1"}),s&&Object(j.jsx)(z,{isLoading:s}),Object(j.jsx)("div",{className:"col-md-12 row no-gutter data-container",children:Object(j.jsxs)("table",{className:"table table-hover",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Class Name"}),Object(j.jsx)("th",{scope:"col",children:"School"}),Object(j.jsx)("th",{scope:"col",children:"Teacher Name"}),Object(j.jsx)("th",{scope:"col",children:"Action"})]})}),Object(j.jsx)("tbody",{children:null===c||void 0===c?void 0:c.map((function(e){return Object(j.jsx)(Ze,{mapping:e},null===e||void 0===e?void 0:e._id)}))})]})})]})}function tt(){var e=Object(l.g)(),t=Object(l.i)(),a=(Object(l.h)().pathname,Object(P.useToasts)().addToast),c=Object(n.useContext)(k).state,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],r=i[1],m=Ce(),b=m.data,p=m.classesIsLoading,v=De(),h=v.data,O=(v.subjectsIsLoading,{first_name:"",last_name:"",phone_no:""}),f=Object(n.useState)(O),x=Object(d.a)(f,2),g=x[0],_=x[1],N=Object(n.useState)(new Array(h&&h.length).fill(!1)),y=Object(d.a)(N,2),w=y[0],C=y[1],S=Object(J.b)(),D={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},L=Object(G.a)((function(e){return F.a.post("".concat(B,"v1/class-subject-mapping/create"),e,D)}),{onSuccess:function(){var n=null===t||void 0===t?void 0:t.class_id;S.invalidateQueries("class-subject-mapping-".concat(n)),r(!1),_(O),a("Mapping added successfully",{appearance:"success",autoDismiss:!0}),e.push("/admin/mapping-class-subjects")}}),I=function(){var e=Object(A.a)(T.a.mark((function e(n){var c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r(!0),!(null===t||void 0===t?void 0:t.class_subject_id)){e.next=7;break}return e.next=5,updateMutation.mutate(SingleTeacher);case 5:e.next=18;break;case 7:if(g.class_id=t.class_id?t.class_id:"",""!=g.class_id){e.next=13;break}r(!1),a("Please Select a Class",{appearance:"error",autoDismiss:!0}),e.next=18;break;case 13:return c=[],Array.from(document.querySelectorAll(".subjects")).map((function(e){if(!0===e.checked){var a=e.value.split("_");c.push({class_id:null===t||void 0===t?void 0:t.class_id,subject_id:a[0],subject_name:a[1],class_name:g.class_name})}})),e.next=17,L.mutate(c);case 17:Array.from(document.querySelectorAll(".subjects")).map((function(e){e.checked=!1}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function z(){return(z=Object(A.a)(T.a.mark((function t(a){var n,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:999!=a.target.value&&(c=a.target.options[a.target.selectedIndex].dataset.class_name,_(Object(u.a)(Object(u.a)({},g),{},(n={},Object(W.a)(n,"class_id",a.target.value),Object(W.a)(n,"class_name",c),n))),e.push("/admin/mapping-class-subjects/select-class/".concat(a.target.value,"/").concat(Y(c))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(){return(U=Object(A.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.value,n=w.map((function(e,t){return t===a?!e:e})),C(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Class-Subject Mapping"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("form",{onSubmit:I,children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"class_id",onChange:function(e){return z.apply(this,arguments)},value:(null===t||void 0===t?void 0:t.class_id)?null===t||void 0===t?void 0:t.class_id:999,children:[Object(j.jsx)("option",{value:"999",children:"Select Class"}),!p&&(null===b||void 0===b?void 0:b.map((function(e){return Object(j.jsxs)("option",{value:e._id,"data-class_name":e.class_name,children:[e.class_name," th"]},e._id)})))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("div",{className:"col-md-12 pl-0 pr-2",style:{minHeight:"280px",maxHeight:"280px",overflow:"scroll"},children:null===h||void 0===h?void 0:h.map((function(e,t){return Object(j.jsx)("div",{className:"card pl-2 pt-0 pb-0 mb-2",children:Object(j.jsxs)("label",{className:"pb-0 mb-0",children:[Object(j.jsx)("input",{className:"mr-2 subjects",type:"checkbox",id:"custom-checkbox-".concat(t),name:null===e||void 0===e?void 0:e.subject_name,value:"".concat(null===e||void 0===e?void 0:e._id,"_").concat(null===e||void 0===e?void 0:e.subject_name),checked:w[t],onChange:function(e){!function(e,t){U.apply(this,arguments)}(e,t)}}),null===e||void 0===e?void 0:e.subject_name]})},null===e||void 0===e?void 0:e._id)}))})}),Object(j.jsxs)("div",{className:"form-group flex",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",children:o?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:(null===t||void 0===t?void 0:t.teacher_class_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update Mapping"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Save Mapping"]})})}),t.class_id&&Object(j.jsx)("button",{className:"btn btn-sm dark bg-danger ml-2",onClick:function(t){t.preventDefault(),e.push("/admin/mapping-class-subjects")},children:Object(j.jsx)("span",{className:"fa fa-times"})})]})]})]})}function at(){var e=Object(n.useContext)(k).state,t=Object(l.i)(),a=null===t||void 0===t?void 0:t.class_id;return Object(D.a)("class-subject-mapping-".concat(a),Object(A.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e?void 0:e.access_token)||void 0===a){t.next=5;break}return t.next=3,F.a.get("".concat(B,"v1/class-subject-mapping/view-all/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return n=t.sent,t.abrupt("return",n.data.data);case 5:case"end":return t.stop()}}),t)}))))}function nt(e){var t=e.mapping,a=(Object(l.g)(),function(){Object(l.h)().pathname;var e=Object(l.i)(),t=(Object(l.g)(),Object(J.b)()),a={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},c=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/class-subject-mapping/delete"),{class_subject_id:e},a)}),{onSuccess:function(){var a=null===e||void 0===e?void 0:e.class_id;t.invalidateQueries("class-subject-mapping-".concat(a)),c("Mapping deleted successfully",{appearance:"success",autoDismiss:!0})}})}());function c(){return(c=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t,e.next=3,a.mutate(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:Object(j.jsx)("button",{className:"btn btn-sm dark",onClick:function(){return function(e){return c.apply(this,arguments)}(t._id)},children:(null===a||void 0===a?void 0:a.isLoading)?Object(j.jsx)("span",{className:"fa fa-spinner"}):Object(j.jsx)("span",{className:"fa fa-trash"})})})}function ct(e){var t=e.mapping;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"row",children:null===t||void 0===t?void 0:t.class_name}),Object(j.jsx)("th",{scope:"row",children:null===t||void 0===t?void 0:t.subject_name}),Object(j.jsx)("th",{scope:"row",width:"20%",children:Object(j.jsx)(nt,{mapping:t})})]},null===t||void 0===t?void 0:t._id)}function st(){var e,t=at(),a=t.data,n=t.isLoading,c=Object(l.i)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Mappings",Object(j.jsx)("span",{className:"dark bg-success br-15 pl-3 pr-3 ml-2",style:{fontSize:"0.90rem"},children:null===c||void 0===c||null===(e=c.class_slug)||void 0===e?void 0:e.replaceAll("-"," ")})]}),Object(j.jsx)("hr",{className:"mt-1"}),n&&Object(j.jsx)(z,{isLoading:n}),Object(j.jsx)("div",{className:"col-md-12 row no-gutter data-container",children:Object(j.jsxs)("table",{className:"table table-hover",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Class"}),Object(j.jsx)("th",{scope:"col",children:"Subject"}),Object(j.jsx)("th",{scope:"col",children:"Action"})]})}),Object(j.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map((function(e){return Object(j.jsx)(ct,{mapping:e},null===e||void 0===e?void 0:e._id)}))})]})})]})}function it(){var e=Object(n.useContext)(k).state,t=Object(l.i)(),a="",c="";return(null===t||void 0===t?void 0:t.class_id)&&(null===t||void 0===t?void 0:t.subject_id)?(c="units-".concat(t.class_id,"-").concat(null===t||void 0===t?void 0:t.subject_id),a="".concat(B,"v1/unit/view-all/").concat(null===t||void 0===t?void 0:t.class_id,"/").concat(null===t||void 0===t?void 0:t.subject_id)):(null===t||void 0===t?void 0:t.class_id)?(c="units-".concat(t.class_id),a="".concat(B,"v1/unit/view-all/").concat(null===t||void 0===t?void 0:t.class_id)):(c="units",a="".concat(B,"v1/unit/view-all/")),Object(D.a)(c,Object(A.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.a.get("".concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return n=t.sent,t.abrupt("return",n.data.data);case 4:case"end":return t.stop()}}),t)}))))}function ot(){var e=Object(n.useContext)(k).state,t=Object(l.i)(),a="",c="";return(null===t||void 0===t?void 0:t.class_id)&&(null===t||void 0===t?void 0:t.subject_id)&&(null===t||void 0===t?void 0:t.unit_id)?(a="subject-chapter-mappings-".concat(null===t||void 0===t?void 0:t.class_id,"-").concat(null===t||void 0===t?void 0:t.subject_id,"-").concat(null===t||void 0===t?void 0:t.unit_id),c="".concat(B,"v1/chapter/view-all/").concat(t.class_id,"/").concat(t.subject_id,"/").concat(null===t||void 0===t?void 0:t.unit_id)):(null===t||void 0===t?void 0:t.class_id)&&(null===t||void 0===t?void 0:t.subject_id)?(a="subject-chapter-mappings-".concat(null===t||void 0===t?void 0:t.class_id,"-").concat(null===t||void 0===t?void 0:t.subject_id),c="".concat(B,"v1/chapter/view-all/").concat(t.class_id,"/").concat(t.subject_id)):(a="subject-chapter-mappings",c="".concat(B,"v1/chapter/view-all")),Object(D.a)(a,Object(A.a)(T.a.mark((function t(){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.a.get("".concat(c),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return a=t.sent,t.abrupt("return",a.data.data);case 4:case"end":return t.stop()}}),t)}))))}var lt=a(55),rt=a(56),dt=a.n(rt);function ut(){var e=Object(l.i)(),t=Object(l.g)(),a=Ce().data,c=at(),s=c.data,i=c.isLoading,o=it(),r=o.data,m=o.isLoading,b=ot(),p=b.data,v=b.isLoading,h=function(){var e=Object(l.i)(),t=null===e||void 0===e?void 0:e.qbank_id,a=Object(n.useContext)(k).state,c=e.qbank_id?"question-".concat(e.qbank_id):"questions";return Object(D.a)("".concat(c),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/question-bank/view/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,O=Object(n.useState)({}),f=Object(d.a)(O,2),x=f[0],g=f[1],_=Object(n.useState)({}),N=Object(d.a)(_,2),y=(N[0],N[1]);Object(n.useEffect)((function(){y(h)}),[null===e||void 0===e?void 0:e.qbank_id]),Object(n.useEffect)((function(){var e=document.createElement("script");e.id="editor",e.src="https://www.wiris.net/demo/plugins/app/WIRISplugins.js?viewer=image",e.async=!0,document.body.appendChild(e)}),[null===e||void 0===e?void 0:e.qbank_id,null===e||void 0===e?void 0:e.chapter_id,null===e||void 0===e?void 0:e.unit_id]);var w=[{key:"option_a",value:"Option A"},{key:"option_b",value:"Option B"},{key:"option_c",value:"Option C"},{key:"option_d",value:"Option D"}],C=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=(Object(l.h)().pathname,Object(l.g)()),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},o=Object(P.useToasts)().addToast,r="questions-".concat(null===c||void 0===c?void 0:c.class_id,"-").concat(null===c||void 0===c?void 0:c.subject_id,"-").concat(null===c||void 0===c?void 0:c.unit_id,"-").concat(null===c||void 0===c?void 0:c.chapter_id);return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/question-bank/create"),e,i)}),{onSuccess:function(){t.invalidateQueries("".concat(r)),s.push("/admin/question-bank/create/".concat(null===c||void 0===c?void 0:c.class_id,"/").concat(null===c||void 0===c?void 0:c.subject_id,"/").concat(null===c||void 0===c?void 0:c.unit_id,"/").concat(null===c||void 0===c?void 0:c.chapter_id)),o("Questions added successfully",{appearance:"success",autoDismiss:!0}),setTimeout((function(){window.location.reload()}),1e3)}})}(),S=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=Object(l.h)().pathname,i=Object(l.g)(),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},r=Object(P.useToasts)().addToast,d=c.qbank_id?"questions-".concat(c.qbank_id):"questions";return Object(G.a)((function(e){var t=null===c||void 0===c?void 0:c.qbank_id;return F.a.post("".concat(B,"v1/question-bank/update/").concat(t),e,o)}),{onSuccess:function(){t.invalidateQueries("".concat(d)),i.push("".concat(s)),r("Question Updated successfully",{appearance:"success",autoDismiss:!0})}})}();function L(e){return I.apply(this,arguments)}function I(){return(I=Object(A.a)(T.a.mark((function t(n){var c,i,o,l,d,u,j,m,b,v,h;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),c=null===e||void 0===e?void 0:e.qbank_id,i=null===e||void 0===e?void 0:e.class_id,o=null===e||void 0===e?void 0:e.subject_id,l=null===e||void 0===e?void 0:e.unit_id,d=null===e||void 0===e?void 0:e.chapter_id,u=V(a,"_id",i,"class_name"),j=V(s,"subject_id",o,"subject_name"),m=V(r,"_id",l,"unit_no"),b=V(r,"_id",l,"unit_name"),v=V(p,"_id",d,"chapter_no"),h=V(p,"_id",d,"chapter_name"),x.class_id=i,x.class_name=u,x.subject_id=o,x.subject_name=j,x.unit_id=l,x.unit_no=m,x.unit_name=b,x.chapter_id=d,x.chapter_no=v,x.chapter_name=h,console.log(x),!c){t.next=28;break}return t.next=26,S.mutate(x);case 26:t.next=30;break;case 28:return t.next=30,C.mutate(x);case 30:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Question"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"form-group col-md-3",children:Object(j.jsxs)("select",{className:"form-control",value:null===e||void 0===e?void 0:e.class_id,onChange:function(a){"_"===a.target.value?t.push("/admin/question-bank/create"):(null===e||void 0===e?void 0:e.qbank_id)?t.push("/admin/question-bank/create/".concat(a.target.value)):t.push("/admin/question-bank/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(a.target.value))},children:[Object(j.jsx)("option",{value:"_",children:"Classes"}),null===a||void 0===a?void 0:a.map((function(e){return Object(j.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.class_name," th "]},null===e||void 0===e?void 0:e._id)}))]})}),Object(j.jsx)("div",{className:"form-group col-md-3 pl-0",children:Object(j.jsxs)("select",{className:"form-control",value:null===e||void 0===e?void 0:e.subject_id,onChange:function(a){"_"===a.target.value?t.push("/admin/question-bank/create/".concat(null===e||void 0===e?void 0:e.class_id)):(null===e||void 0===e?void 0:e.qbank_id)?t.push("/admin/question-bank/create/".concat(null===e||void 0===e?void 0:e.class_id,"/").concat(a.target.value)):t.push("/admin/question-bank/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(null===e||void 0===e?void 0:e.class_id,"/").concat(a.target.value))},children:[Object(j.jsx)("option",{value:"_",children:i?"loading ...":"Subjects"}),null===s||void 0===s?void 0:s.map((function(e){return Object(j.jsx)("option",{value:null===e||void 0===e?void 0:e.subject_id,children:null===e||void 0===e?void 0:e.subject_name},null===e||void 0===e?void 0:e.subject_id)}))]})}),Object(j.jsx)("div",{className:"form-group col-md-3 pl-0",children:Object(j.jsxs)("select",{className:"form-control",value:null===e||void 0===e?void 0:e.unit_id,onChange:function(a){"_"===a.target.value?t.push("/admin/question-bank/create/".concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.subject_id)):(null===e||void 0===e?void 0:e.qbank_id)?t.push("/admin/question-bank/create/".concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.subject_id,"/").concat(a.target.value)):t.push("/admin/question-bank/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.subject_id,"/").concat(a.target.value))},children:[Object(j.jsx)("option",{value:"_",children:m?"loading ...":"Units"}),null===r||void 0===r?void 0:r.map((function(e){return Object(j.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[Z(null===e||void 0===e?void 0:e.unit_no),"-",null===e||void 0===e?void 0:e.unit_name]},null===e||void 0===e?void 0:e._id)}))]})}),Object(j.jsx)("div",{className:"form-group col-md-3",children:Object(j.jsxs)("select",{className:"form-control",value:null===e||void 0===e?void 0:e.chapter_id,onChange:function(a){"_"===a.target.value?t.push("/admin/question-bank/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.subject_id,"/").concat(null===e||void 0===e?void 0:e.unit_id)):(null===e||void 0===e?void 0:e.qbank_id)?t.push("/admin/question-bank/create/".concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.subject_id,"/").concat(null===e||void 0===e?void 0:e.unit_id,"/").concat(a.target.value)):t.push("/admin/question-bank/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.subject_id,"/").concat(null===e||void 0===e?void 0:e.unit_id,"/").concat(a.target.value))},children:[Object(j.jsx)("option",{value:"_",children:v?"loading ...":"Chapters"}),null===p||void 0===p?void 0:p.map((function(e){return Object(j.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.chapter_no,"-",null===e||void 0===e?void 0:e.chapter_name]},null===e||void 0===e?void 0:e._id)}))]})})]}),("create"===(null===e||void 0===e?void 0:e.page_type)||"update"===(null===e||void 0===e?void 0:e.page_type))&&Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Add Questions and Options "}),Object(j.jsx)("hr",{className:"mt-0 mb-1"}),Object(j.jsxs)("div",{className:"pr-2",style:{height:"350px",overflowY:"scroll",overflowX:"hidden"},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Question: "}),Object(j.jsx)(lt.CKEditor,{id:"question",editor:dt.a,config:{toolbar:{items:["MathType","ChemType","heading","fontSize","|","bold","italic","link","bulletedList","numberedList","insertImage","imageUpload","imageReSize","mediaEmbed","insertTable","blockQuote","undo","redo"]}},data:h&&(null===h||void 0===h?void 0:h.question),onChange:function(e,t){var a=t.getData();g(Object(u.a)(Object(u.a)({},x),{},{question:a}))}})]}),Object(j.jsx)("div",{className:"row",children:null===w||void 0===w?void 0:w.map((function(e,t){var a="";return 0===t?a=h&&(null===h||void 0===h?void 0:h.option_a):1===t?a=h&&(null===h||void 0===h?void 0:h.option_b):2===t?a=h&&(null===h||void 0===h?void 0:h.option_c):3===t&&(a=h&&(null===h||void 0===h?void 0:h.option_d)),Object(j.jsxs)("div",{className:"form-group col-md-6",children:[Object(j.jsxs)("label",{children:[null===e||void 0===e?void 0:e.value,": "]}),Object(j.jsx)(lt.CKEditor,{editor:dt.a,config:{toolbar:{items:["MathType","ChemType","heading","|","fontSize","bold","italic","link","bulletedList","numberedList","imageUpload","mediaEmbed","insertTable","blockQuote","undo","redo"]}},data:a,onChange:function(t,a){var n=a.getData();g(Object(u.a)(Object(u.a)({},x),{},Object(W.a)({},null===e||void 0===e?void 0:e.key,n)))}})]})}))}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control",value:h&&(null===h||void 0===h?void 0:h.answer),onChange:function(e){g(Object(u.a)(Object(u.a)({},x),{},{answer:e.target.value}))},children:[Object(j.jsx)("option",{children:"Correct Answer"}),null===w||void 0===w?void 0:w.map((function(e){return Object(j.jsx)("option",{value:null===e||void 0===e?void 0:e.key,children:null===e||void 0===e?void 0:e.value})}))]})}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Solution: "}),Object(j.jsx)(lt.CKEditor,{editor:dt.a,config:{toolbar:{items:["MathType","ChemType","heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","mediaEmbed","insertTable","blockQuote","undo","redo"]}},data:h&&(null===h||void 0===h?void 0:h.solution),onChange:function(e,t){var a=t.getData();g(Object(u.a)(Object(u.a)({},x),{},{solution:a}))}})]})]})]}),Object(j.jsxs)("div",{className:"form-group mt-2",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",disabled:(null===C||void 0===C?void 0:C.isLoading)||(null===S||void 0===S?void 0:S.isLoading),onClick:L,children:(null===C||void 0===C?void 0:C.isLoading)||(null===S||void 0===S?void 0:S.isLoading)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"bi bi-spinner mr-2"}),"Processing..."]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"bi bi-save mr-2"}),(null===e||void 0===e?void 0:e.qbank_id)?"Update Question":"Save Question"]})}),Object(j.jsxs)("button",{children:[Object(j.jsx)("span",{})," Cancel"]})]})]}),"upload"===(null===e||void 0===e?void 0:e.page_type)&&Object(j.jsxs)("form",{children:[Object(j.jsx)("label",{children:"Upload Questions and Options "}),Object(j.jsx)("hr",{className:"mt-1 mb-2"}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Choose Question CSV File"}),Object(j.jsx)("input",{type:"file",className:"form-control"})]}),Object(j.jsx)("div",{className:"form-group mt-2",children:Object(j.jsxs)("button",{className:"btn btn-sm dark",onClick:L,children:[Object(j.jsx)("span",{className:"bi bi-upload mr-2"}),"Upload Question"]})})]})]})}function jt(){var e,t=Object(n.useContext)(k).state,a=Object(l.i)();return e="questions-".concat(null===a||void 0===a?void 0:a.class_id,"-").concat(null===a||void 0===a?void 0:a.subject_id,"-").concat(null===a||void 0===a?void 0:a.unit_id,"-").concat(null===a||void 0===a?void 0:a.chapter_id),Object(D.a)("".concat(e),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.access_token&&(null===a||void 0===a?void 0:a.class_id)&&(null===a||void 0===a?void 0:a.subject_id)&&(null===a||void 0===a?void 0:a.unit_id)&&(null===a||void 0===a?void 0:a.chapter_id))){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/question-bank/view-all/").concat(null===a||void 0===a?void 0:a.class_id,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.unit_id,"/").concat(null===a||void 0===a?void 0:a.chapter_id),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}a(164);function mt(e){var t,a,c=e.update,s=(e.Delete,Object(l.g)()),i=(Object(n.useContext)(k).state,Object(l.i)()),o=jt(),r=o.data,d=o.isLoading;!function(e){var t=Object(l.i)(),a=(Object(l.h)().pathname,Object(l.g)(),Object(J.b)()),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},s=Object(P.useToasts)().addToast;Object(G.a)((function(e){return F.a.delete("".concat(B,"v1/question-bank/delete/").concat(e),c)}),{onSuccess:function(){var e=(null===t||void 0===t?void 0:t.qbank_id)?"questions-".concat(t.qbank_id):"questions";a.invalidateQueries(e),s("Teacher Deleted successfully",{appearance:"success",autoDismiss:!0})}})}();return Object(n.useEffect)((function(){var e=document.createElement("script");e.id="editor",e.src="https://www.wiris.net/demo/plugins/app/WIRISplugins.js?viewer=image",e.async=!0,document.body.appendChild(e)})),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"All Questions",Object(j.jsxs)("span",{className:"pull-right",children:[Object(j.jsxs)("span",{children:[r&&(null===(t=r[0])||void 0===t?void 0:t.unit_name)," "]}),"- ",Object(j.jsx)("span",{children:r&&(null===(a=r[0])||void 0===a?void 0:a.chapter_name)})]})]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsx)(z,{isLoading:d}),Object(j.jsx)("div",{className:"col-md-12 pr-0 row no-gutter",style:{height:"460px",overflowY:"scroll",overflowX:"hidden"},children:null===r||void 0===r?void 0:r.map((function(e,t){return Object(j.jsxs)("div",{className:"card question col-md-12 pl-0 pr-0 mr-3 mb-2",children:[Object(j.jsxs)("div",{className:"pl-2 pr-2 dark bg-head flex",children:["Question No:  ",t+1,Object(j.jsxs)("span",{className:"ml-2",children:["QId: ",null===e||void 0===e?void 0:e._id]}),c&&Object(j.jsx)("button",{className:"dark bg-success",onClick:function(t){s.push("/admin/question-bank/update/".concat(null===i||void 0===i?void 0:i.class_id,"/").concat(null===i||void 0===i?void 0:i.subject_id,"/").concat(null===i||void 0===i?void 0:i.unit_id,"/").concat(null===i||void 0===i?void 0:i.chapter_id,"/").concat(null===e||void 0===e?void 0:e._id))},children:Object(j.jsx)("span",{className:"bi bi-pencil"})})]}),Object(j.jsx)("div",{className:"col-md-12 pl-0 mt-2 mb-2"}),Object(j.jsx)("div",{className:"pl-3 pr-2 pt-3",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.question}}),Object(j.jsx)("div",{className:"pl-3",children:"Answers"}),Object(j.jsxs)("div",{className:"row ml-3 pb-3 option",children:[Object(j.jsxs)("div",{className:"row col-md-6 pr-0",children:[Object(j.jsx)("div",{className:"pl-3 pr-3",children:" A: "}),"option_a"===(null===e||void 0===e?void 0:e.answer)?Object(j.jsx)("span",{className:"bi bi-check-circle-fill text-success"}):Object(j.jsx)("span",{className:"bi bi-x-circle-fill text-danger ml-1"}),Object(j.jsx)("div",{className:"pl-3 pr-3",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.option_a}})]}),Object(j.jsxs)("div",{className:"row col-md-6 pr-0",children:[Object(j.jsx)("div",{className:"pl-3 pr-3",children:" B: "}),"option_b"===(null===e||void 0===e?void 0:e.answer)?Object(j.jsx)("span",{className:"bi bi-check-circle-fill text-success"}):Object(j.jsx)("span",{className:"bi bi-x-circle-fill text-danger ml-1"}),Object(j.jsx)("div",{className:"pl-3 pr-3",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.option_b}})]}),Object(j.jsxs)("div",{className:"row col-md-6 pr-0",children:[Object(j.jsx)("div",{className:"pl-3 pr-3",children:" C: "}),"option_c"===(null===e||void 0===e?void 0:e.answer)?Object(j.jsx)("span",{className:"bi bi-check-circle-fill text-success"}):Object(j.jsx)("span",{className:"bi bi-x-circle-fill text-danger ml-1"}),Object(j.jsx)("div",{className:"pl-3 pr-3",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.option_c}})]}),Object(j.jsxs)("div",{className:"row col-md-6 pr-0",children:[Object(j.jsx)("div",{className:"pl-3 pr-3",children:" D: "}),"option_d"===(null===e||void 0===e?void 0:e.answer)?Object(j.jsx)("span",{className:"bi bi-check-circle-fill text-success"}):Object(j.jsx)("span",{className:"bi bi-x-circle-fill text-danger ml-1"}),Object(j.jsx)("div",{className:"pl-3 pr-3",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.option_d}})]})]})]})}))})]})}var bt=a(34);function pt(e){var t,a=Object(J.b)(),c=Object(n.useContext)(k).state,s=Object(l.i)(),i=(Object(l.h)().pathname,Object(l.g)(),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}}),o=Object(P.useToasts)().addToast;return t="units-".concat(s.class_id,"-").concat(null===s||void 0===s?void 0:s.subject_id),Object(G.a)((function(e){return F.a.post("".concat(B,"v1/unit/upload"),e,i)}),{onSuccess:function(){a.invalidateQueries("".concat(t)),setLoading(!1),o("Units Uploaded successfully",{appearance:"success",autoDismiss:!0})}})}function vt(){var e=Object(l.i)(),t=Object(l.g)(),a=Ce().data,c=at(),s=c.data,i=c.isLoading,o=Object(P.useToasts)().addToast,r=function(){var e=Object(l.i)(),t=null===e||void 0===e?void 0:e.unit_id,a=Object(n.useContext)(k).state,c=e.unit_id?"units-".concat(e.unit_id):"units";return Object(D.a)("".concat(c),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/unit/view/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,m=Object(n.useState)(1),b=Object(d.a)(m,2),p=b[0],v=b[1],h=Object(n.useState)(!1),O=Object(d.a)(h,2),f=(O[0],O[1]),x=Object(n.useState)({}),g=Object(d.a)(x,2),_=g[0],N=g[1],y=Object(n.useState)(!0),w=Object(d.a)(y,2),C=w[0],S=w[1],L=Object(n.useState)(null),I=Object(d.a)(L,2),z=I[0],U=I[1],E=new FormData,Q=Object(n.useState)({unit_no:"",unit_name:"",marks:""}),q=Object(d.a)(Q,2),M=q[0],H=q[1];Object(n.useEffect)((function(){N(r)}),[r]);var R=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=Object(l.h)().pathname,i=Object(l.g)(),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},r=Object(P.useToasts)().addToast;return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/unit/create"),e,o)}),{onSuccess:function(){t.invalidateQueries("units-".concat(c.class_id,"-").concat(null===c||void 0===c?void 0:c.subject_id)),i.push("".concat(s)),r("Unit added successfully",{appearance:"success",autoDismiss:!0})}})}(),X=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=(Object(l.h)().pathname,Object(l.g)()),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},o=Object(P.useToasts)().addToast,r="";return r=(null===c||void 0===c?void 0:c.class_id)&&(null===c||void 0===c?void 0:c.subject_id)?"units-".concat(c.class_id,"-").concat(null===c||void 0===c?void 0:c.subject_id):(null===c||void 0===c?void 0:c.class_id)?"units-".concat(c.class_id):"units",Object(G.a)((function(e){return F.a.post("".concat(B,"v1/unit/update"),e,i)}),{onSuccess:function(){t.invalidateQueries("".concat(r)),s.push("/admin/manage-units/".concat(null===c||void 0===c?void 0:c.page_type,"/").concat(c.class_id,"/").concat(null===c||void 0===c?void 0:c.subject_id)),o("Unit Updated successfully",{appearance:"success",autoDismiss:!0})}})}(),K=pt();function $(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(A.a)(T.a.mark((function t(a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===e||void 0===e?void 0:e.unit_id)?(console.log(a.target.name),N(Object(u.a)(Object(u.a)({},_),{},Object(W.a)({},a.target.name,a.target.value)))):H(Object(u.a)(Object(u.a)({},M),{},Object(W.a)({},a.target.name,a.target.value)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ee=function(e){var t,a,n=e.target.options[e.target.selectedIndex].dataset.class_name,c=e.target.options[e.target.selectedIndex].dataset.subject_name;void 0!=n?H(Object(u.a)(Object(u.a)({},M),{},(t={},Object(W.a)(t,e.target.name,e.target.value),Object(W.a)(t,"class_name",n),t))):H(Object(u.a)(Object(u.a)({},M),{},(a={},Object(W.a)(a,e.target.name,e.target.value),Object(W.a)(a,"subject_name",c),a)))},te=function(){var t=Object(A.a)(T.a.mark((function t(a){var n,c,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=[],f(!0),!(null===e||void 0===e?void 0:e.unit_id)){t.next=9;break}for(c=0;c<p;c++)n.push({unit_id:null===e||void 0===e?void 0:e.unit_id,class_id:null===e||void 0===e?void 0:e.class_id,class_name:_.class_name,subject_id:null===e||void 0===e?void 0:e.subject_id,subject_name:null===_||void 0===_?void 0:_.subject_name,unit_no:null===_||void 0===_?void 0:_.unit_no,unit_name:(null===_||void 0===_?void 0:_.unit_name)!==(null===M||void 0===M?void 0:M.unit_name)?null===_||void 0===_?void 0:_.unit_name:null===M||void 0===M?void 0:M.unit_name,marks:null===_||void 0===_?void 0:_.marks});return t.next=7,X.mutate(n);case 7:t.next=12;break;case 9:for(s=0;s<p;s++)n.push({class_id:null===e||void 0===e?void 0:e.class_id,class_name:M.class_name,subject_id:null===e||void 0===e?void 0:e.subject_id,subject_name:M.subject_name,unit_no:M["unit_no".concat(s)],unit_name:M["unit_name".concat(s)],marks:M["marks".concat(s)]});return t.next=12,R.mutate(n);case 12:f(!1),ce();case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function ae(){return(ae=Object(A.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,console.log("file onchange ",a),n=a.split(".")[1],console.log(n),"csv"===n?(S(!1),U(t.target.files[0]),E.append("file",t.target.files[0])):(S(!0),o("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(A.a)(T.a.mark((function t(n){var c,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=null===e||void 0===e?void 0:e.class_id,s=V(a,"_id",c,"class_name"),E.append("file",z),E.append("class_id",c),E.append("class_name",s),t.next=8,K.mutate(E);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ce(){Array.from(document.querySelectorAll(".addedItems")).map((function(e){e.value=""}))}return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add Multiple Unit"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control",value:null===e||void 0===e?void 0:e.class_id,onChange:function(a){ee(a),"_"===a.target.value?t.push("/admin/manage-units/".concat(null===e||void 0===e?void 0:e.page_type,"/")):t.push("/admin/manage-units/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(a.target.value))},children:[Object(j.jsx)("option",{value:"_",children:"Select Classes"}),null===a||void 0===a?void 0:a.map((function(e){return Object(j.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,"data-class_name":null===e||void 0===e?void 0:e.class_name,children:[null===e||void 0===e?void 0:e.class_name," th "]},null===e||void 0===e?void 0:e._id)}))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control",value:null===e||void 0===e?void 0:e.subject_id,onChange:function(a){if(ee(a),"_"===a.target.value)t.push("/admin/manage-units/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(null===e||void 0===e?void 0:e.class_id));else{var n=a.target.options[a.target.selectedIndex].dataset.subject_name;t.push("/admin/manage-units/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(null===e||void 0===e?void 0:e.class_id,"/").concat(a.target.value,"/").concat(n))}},children:[Object(j.jsx)("option",{value:"_",children:i?"loading ...":"Select Subjects"}),null===s||void 0===s?void 0:s.map((function(e){return Object(j.jsx)("option",{value:null===e||void 0===e?void 0:e.subject_id,"data-subject_name":Y(null===e||void 0===e?void 0:e.subject_name),children:null===e||void 0===e?void 0:e.subject_name},null===e||void 0===e?void 0:e.subject_id)}))]})}),("create"===(null===e||void 0===e?void 0:e.page_type)||"update"===(null===e||void 0===e?void 0:e.page_type))&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){e.preventDefault(),v(p+1)},children:[Object(j.jsx)("span",{className:"fa fa-plus mr-2"}),"Add New Unit"]})}),Object(bt.a)(Array(p)).map((function(t,a){return Object(j.jsx)("span",{children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"form-group col-md-2 pr-0",children:Object(j.jsx)("input",{type:"text",className:"form-control addedItems",name:(null===e||void 0===e?void 0:e.unit_id)?"unit_no":"unit_no".concat(a),value:(null===e||void 0===e?void 0:e.unit_id)&&_&&_.unit_no,onChange:$,placeholder:"No"})}),Object(j.jsx)("div",{className:"form-group col-md-2 pl-1 pr-0",children:Object(j.jsx)("input",{type:"text",className:"form-control addedItems",name:(null===e||void 0===e?void 0:e.unit_id)?"marks":"marks".concat(a),value:(null===e||void 0===e?void 0:e.unit_id)&&_&&_.marks,onChange:$,placeholder:"Marks"})}),Object(j.jsx)("div",{className:"form-group col-md-8 pl-1",children:Object(j.jsx)("input",{type:"text",className:"form-control addedItems",name:(null===e||void 0===e?void 0:e.unit_id)?"unit_name":"unit_name".concat(a),value:(null===e||void 0===e?void 0:e.unit_id)&&_&&_.unit_name,onChange:$,placeholder:"Unit Name"})}),Object(j.jsx)("hr",{})]})},a)}))]}),"upload"===(null===e||void 0===e?void 0:e.page_type)&&Object(j.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(j.jsx)("label",{children:"Upload Files"}),Object(j.jsx)("a",{href:"/sampledata/units.csv",className:"pull-right",download:!0,children:"Download Sample"}),Object(j.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return ae.apply(this,arguments)},placeholder:"Upload .csv"}),Object(j.jsx)("small",{id:"passwordHelpInline",class:"text-muted",children:"Upload Classes File in .csv format only."})]}),Object(j.jsx)("hr",{className:"mt-1 mb-1"}),Object(j.jsxs)("div",{className:"form-group flex mt-2",children:["upload"!==(null===e||void 0===e?void 0:e.page_type)&&Object(j.jsx)("button",{type:"button",className:"btn btn-sm dark",onClick:te,children:(null===R||void 0===R?void 0:R.isLoading)||(null===X||void 0===X?void 0:X.isLoading)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:(null===e||void 0===e?void 0:e.unit_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update Unit"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Save Unit"]})})}),"upload"===(null===e||void 0===e?void 0:e.page_type)&&Object(j.jsx)("button",{className:"btn btn-sm dark",type:"button",disabled:C,onClick:function(e){return ne.apply(this,arguments)},children:(null===K||void 0===K?void 0:K.isLoading)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:(null===e||void 0===e?void 0:e.unit_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update Unit"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"bi bi-upload mr-2"})," Upload Unit"]})})}),Object(j.jsx)("button",{className:"btn btn-sm dark bg-danger ml-2",onClick:function(e){e.preventDefault(),t.push("/admin/manage-units"),ce()},children:Object(j.jsx)("span",{className:"fa fa-times"})})]})]})})}function ht(e){var t=this,a=e.update,c=e.Delete,s=Object(l.g)(),i=(Object(n.useContext)(k).state,Object(l.i)()),o=it(),r=o.data,u=o.isLoading,m=null===i||void 0===i?void 0:i.subject_id,b=Object(n.useState)({}),p=Object(d.a)(b,2),v=(p[0],p[1],function(e){var t=Object(l.i)(),a=(Object(l.h)().pathname,Object(l.g)(),Object(J.b)()),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},s=Object(P.useToasts)().addToast,i="";return i=(null===t||void 0===t?void 0:t.class_id)&&(null===t||void 0===t?void 0:t.subject_id)?"units-".concat(t.class_id,"-").concat(null===t||void 0===t?void 0:t.subject_id):(null===t||void 0===t?void 0:t.class_id)?"units-".concat(t.class_id):"units",Object(G.a)((function(e){return F.a.post("".concat(B,"v1/unit/delete"),e,c)}),{onSuccess:function(){a.invalidateQueries("".concat(i)),s("Unit Deleted successfully",{appearance:"success",autoDismiss:!0})}})}()),h=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.mutate({unit_id:t});case 2:document.getElementById(t).style.display="none";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"All Units"]}),Object(j.jsx)("hr",{className:"mt-1"}),m&&Object(j.jsxs)("div",{className:"row pl-0 pr-0",children:[Object(j.jsxs)("div",{className:"col-md-6",children:[Object(j.jsx)("b",{className:"mr-0",children:"Subject ID: "}),m]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{className:"mr-2",children:"Subject Name: "}),null===i||void 0===i?void 0:i.subject_name]})]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsx)(z,{isLoading:u}),Object(j.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:Object(j.jsxs)("table",{className:"table table-hover",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Unit No"}),Object(j.jsx)("th",{scope:"col",children:"Unit Name"}),Object(j.jsx)("th",{scope:"col",children:"Class Name"}),Object(j.jsx)("th",{scope:"col",children:"Subject Name"}),Object(j.jsx)("th",{scope:"col",children:"Action"})]})}),Object(j.jsx)("tbody",{children:null===r||void 0===r?void 0:r.map((function(e,n){return Object(j.jsxs)("tr",{id:null===e||void 0===e?void 0:e._id,children:[Object(j.jsx)("td",{children:Z(e.unit_no)}),Object(j.jsx)("td",{children:e.unit_name}),Object(j.jsx)("td",{children:e.class_name}),Object(j.jsx)("td",{children:e.subject_name}),Object(j.jsxs)("td",{children:[!0===a&&Object(j.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(t){s.push("/admin/manage-units/update/".concat(e.class_id,"/").concat(null===e||void 0===e?void 0:e.subject_id,"/").concat(null===e||void 0===e?void 0:e.subject_name,"/").concat(null===e||void 0===e?void 0:e._id))},children:Object(j.jsx)("span",{className:"fa fa-edit"})}),!0===c&&Object(j.jsx)("button",{className:"btn bg-danger text-white btn-sm block",onClick:h.bind(t,null===e||void 0===e?void 0:e._id),children:(null===v||void 0===v?void 0:v.isLoading)?Object(j.jsx)("span",{className:"fa fa-spinner"}):Object(j.jsx)("span",{className:"fa fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)}))})]})})]})}var Ot=a(100),ft=a.n(Ot);a(165);function xt(){var e=this,t=Object(l.i)(),a=Object(l.g)(),c=Ce().data,s=at(),i=s.data,o=s.isLoading,r=it(),m=r.data,b=r.isLoading,p=ot(),v=p.data,h=p.isLoading,O=jt(),f=O.data,x=(O.isLoading,function(){var e=Object(l.i)(),t=null===e||void 0===e?void 0:e.test_id,a=Object(n.useContext)(k).state,c=e.test_id?"unit-tests-".concat(e.test_id):"unit-tests";return Object(D.a)("".concat(c),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/unit-test/view/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,Object(n.useState)({})),g=Object(d.a)(x,2),_=g[0],N=g[1],y=Object(n.useState)(new Date),w=Object(d.a)(y,2),C=w[0],S=w[1],L=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=(Object(l.h)().pathname,Object(l.g)()),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},o=Object(P.useToasts)().addToast,r="unit-tests-".concat(null===c||void 0===c?void 0:c.class_id,"-").concat(null===c||void 0===c?void 0:c.subject_id,"-").concat(null===c||void 0===c?void 0:c.unit_id);return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/unit-test/create"),e,i)}),{onSuccess:function(){t.invalidateQueries("".concat(r)),s.push("/admin/manage-unit-test/create/".concat(null===c||void 0===c?void 0:c.class_id,"/").concat(null===c||void 0===c?void 0:c.subject_id,"/").concat(null===c||void 0===c?void 0:c.unit_id,"/").concat(null===c||void 0===c?void 0:c.chapter_id)),o("Questions added successfully",{appearance:"success",autoDismiss:!0})}})}(),I=Object(n.useState)([]),z=Object(d.a)(I,2),U=z[0],E=z[1],Q=Object(n.useState)(!1),q=Object(d.a)(Q,2),M=q[0],H=q[1];function R(){return(R=Object(A.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(localStorage.getItem("selectedQuestions"));case 2:(null===(t=e.sent)||void 0===t?void 0:t.length)>0&&0===(null===U||void 0===U?void 0:U.length)?E(JSON.parse(localStorage.getItem("selectedQuestions"))):(localStorage.setItem("selectedQuestions",JSON.stringify(U)),E(U));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(A.a)(T.a.mark((function e(a){var n,s,o,l,r,d,u,j;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=null===t||void 0===t?void 0:t.class_id,s=null===t||void 0===t?void 0:t.subject_id,o=null===t||void 0===t?void 0:t.unit_id,l=null===t||void 0===t?void 0:t.chapter_id,r=V(c,"_id",n,"class_name"),d=V(i,"subject_id",s,"subject_name"),u=V(m,"_id",o,"unit_name"),j=null===U||void 0===U?void 0:U.map((function(e){return{question_id:null===e||void 0===e?void 0:e._id}})),_.class_id=n,_.class_name=r,_.subject_id=s,_.subject_name=d,_.unit_id=o,_.unit_name=u,_.test_slug=Y(_.test_name),_.test_date=C,_.total_question=null===U||void 0===U?void 0:U.length,_.test_question=j,console.log(j),!(n&&s&&o&&l)){e.next=23;break}return e.next=23,L.mutate(_);case 23:localStorage.removeItem("selectedQuestions"),E({});case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return K.apply(this,arguments)}function K(){return(K=Object(A.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),document.getElementById(t).style.display="none",e.next=4,null===f||void 0===f?void 0:f.filter((function(e){return e._id===t}));case 4:a=e.sent,null===U||void 0===U||U.length,E((function(e){return[].concat(Object(bt.a)(e),[a[0]])})),localStorage.setItem("selectedQuestions",JSON.stringify(U)),H(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return R.apply(this,arguments)}),[M]),Object(n.useEffect)((function(){var e=document.createElement("script");e.src="https://www.wiris.net/demo/plugins/app/WIRISplugins.js?viewer=image",e.async=!0,document.body.appendChild(e)}),[null===t||void 0===t?void 0:t.unit_id,null===t||void 0===t?void 0:t.chapter_id]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Test"]}),Object(j.jsx)("hr",{className:"mt-1"}),"create"===(null===t||void 0===t?void 0:t.page_type)&&Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsxs)("select",{className:"form-control",value:null===t||void 0===t?void 0:t.class_id,onChange:function(e){"_"===e.target.value?a.push("/admin/manage-unit-test/".concat(null===t||void 0===t?void 0:t.page_type,"/")):a.push("/admin/manage-unit-test/".concat(null===t||void 0===t?void 0:t.page_type,"/").concat(e.target.value))},children:[Object(j.jsx)("option",{value:"_",children:"Select Class"}),null===c||void 0===c?void 0:c.map((function(e){return Object(j.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.class_name," Th"]},null===e||void 0===e?void 0:e._id)}))]})}),Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsxs)("select",{className:"form-control",value:null===t||void 0===t?void 0:t.subject_id,onChange:function(e){"_"===e.target.value?a.push("/admin/manage-unit-test/".concat(null===t||void 0===t?void 0:t.page_type,"/").concat(null===t||void 0===t?void 0:t.class_id)):a.push("/admin/manage-unit-test/".concat(null===t||void 0===t?void 0:t.page_type,"/").concat(null===t||void 0===t?void 0:t.class_id,"/").concat(e.target.value))},children:[Object(j.jsx)("option",{value:"_",children:o?"Loading...":"Select Subjects"}),null===i||void 0===i?void 0:i.map((function(e){return Object(j.jsx)("option",{value:null===e||void 0===e?void 0:e.subject_id,children:null===e||void 0===e?void 0:e.subject_name},null===e||void 0===e?void 0:e.subject_id)}))]})}),Object(j.jsx)("div",{className:"form-group col-md-3 pl-0",children:Object(j.jsxs)("select",{className:"form-control",value:null===t||void 0===t?void 0:t.unit_id,onChange:function(e){"_"===e.target.value?a.push("/admin/manage-unit-test/".concat(null===t||void 0===t?void 0:t.page_type,"/").concat(null===t||void 0===t?void 0:t.class_id,"/").concat(null===t||void 0===t?void 0:t.subject_id)):a.push("/admin/manage-unit-test/".concat(null===t||void 0===t?void 0:t.page_type,"/").concat(null===t||void 0===t?void 0:t.class_id,"/").concat(null===t||void 0===t?void 0:t.subject_id,"/").concat(e.target.value))},children:[Object(j.jsx)("option",{value:"_",children:b?"loading ...":"Units"}),null===m||void 0===m?void 0:m.map((function(e){return Object(j.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[Z(null===e||void 0===e?void 0:e.unit_no),"-",null===e||void 0===e?void 0:e.unit_name]},null===e||void 0===e?void 0:e._id)}))]})}),Object(j.jsx)("div",{className:"form-group col-md-3",children:Object(j.jsxs)("select",{className:"form-control",value:null===t||void 0===t?void 0:t.chapter_id,onChange:function(e){"_"===e.target.value?a.push("/admin/manage-unit-test/".concat(null===t||void 0===t?void 0:t.page_type,"/").concat(null===t||void 0===t?void 0:t.class_id,"/").concat(null===t||void 0===t?void 0:t.subject_id,"/").concat(null===t||void 0===t?void 0:t.unit_id)):a.push("/admin/manage-unit-test/".concat(null===t||void 0===t?void 0:t.page_type,"/").concat(null===t||void 0===t?void 0:t.class_id,"/").concat(null===t||void 0===t?void 0:t.subject_id,"/").concat(null===t||void 0===t?void 0:t.unit_id,"/").concat(e.target.value))},children:[Object(j.jsx)("option",{value:"_",children:h?"loading ...":"Chapters"}),null===v||void 0===v?void 0:v.map((function(e){return Object(j.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.chapter_no,"-",null===e||void 0===e?void 0:e.chapter_name]},null===e||void 0===e?void 0:e._id)}))]})}),Object(j.jsxs)("div",{className:"col-md-6",children:[Object(j.jsxs)("div",{className:"text-success mb-1",children:["Questions: ",null===f||void 0===f?void 0:f.length]}),Object(j.jsx)("div",{className:"pr-2",style:{height:"360px",overflowY:"scroll"},children:null===f||void 0===f?void 0:f.map((function(t,a){if(!$(U,"_id",null===t||void 0===t?void 0:t._id))return Object(j.jsx)("div",{className:"card question col-md-12 pl-2 pr-2 mb-2",id:"".concat(null===t||void 0===t?void 0:t._id),onClick:X.bind(e,null===t||void 0===t?void 0:t._id),children:Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsxs)("div",{children:[a+1,". "]}),Object(j.jsx)("div",{dangerouslySetInnerHTML:{__html:null===t||void 0===t?void 0:t.question}})]})},null===t||void 0===t?void 0:t._id)}))})]}),Object(j.jsxs)("div",{className:"col-md-6 pl-0 pr-0",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6 form-group",children:Object(j.jsx)("input",{type:"text",name:"test_name",value:null===_||void 0===_?void 0:_.test_name,onChange:function(e){N(Object(u.a)(Object(u.a)({},_),{},{test_name:e.target.value}))},className:"form-control",placeholder:"test name"})}),Object(j.jsx)("div",{className:"col-md-6 pr-0",children:Object(j.jsxs)("div",{className:"row col-md-12",children:[Object(j.jsx)("div",{className:"col-md-8 pl-0 form-group",children:Object(j.jsx)(ft.a,{className:"form-control",selected:C,onChange:function(e){return S(e)},dateFormat:"yyyy-MM-dd",filterDate:function(e){return 0!==e.getDay(e)},minDate:new Date})}),Object(j.jsx)("div",{className:"col-md-4 pl-0 pr-0",children:Object(j.jsx)("input",{type:"text",className:"form-control",value:null===_||void 0===_?void 0:_.test_duration,onChange:function(e){N(Object(u.a)(Object(u.a)({},_),{},{test_duration:e.target.value}))},placeholder:"20"})})]})})]}),Object(j.jsxs)("p",{className:"text-success mb-1",children:["Selected Questions: ",null===U||void 0===U?void 0:U.length,Object(j.jsx)("span",{className:"pull-right mr-3 pointer dark bg-danger fa fa-trash",onClick:function(e){localStorage.removeItem("selectedQuestions"),E([])}})]}),Object(j.jsx)("div",{className:"pr-2",style:{height:"260px",overflowY:"scroll"},children:(null===U||void 0===U?void 0:U.length)>0&&(null===U||void 0===U?void 0:U.map((function(e,t){return Object(j.jsx)("div",{className:"card question col-md-12 pl-2 pr-2 mb-2",children:Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsxs)("div",{className:"pr-2",children:[t+1,". "]}),Object(j.jsx)("div",{className:"pb-0 mb-0",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.question}})]})},null===e||void 0===e?void 0:e._id)})))})]})]}),Object(j.jsxs)("div",{className:"form-group mt-2",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",disabled:null===L||void 0===L?void 0:L.isLoading,onClick:function(e){return W.apply(this,arguments)},children:(null===L||void 0===L?void 0:L.isLoading)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"bi bi-spinner mr-2"}),"Processing..."]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"bi bi-save mr-2"}),"Save Question"]})}),Object(j.jsx)("button",{type:"button",className:"btn btn-sm bg-danger br-5 text-white ml-2",onClick:function(e){e.preventDefault(),a.push("/admin/manage-unit-test")},children:Object(j.jsx)("span",{className:"fa fa-times"})})]})]})]})}function gt(e){e.update,e.Delete,Object(l.g)(),Object(n.useContext)(k).state,Object(l.i)();var t=function(){var e,t=Object(n.useContext)(k).state,a=Object(l.i)();return e="unit-tests-".concat(null===a||void 0===a?void 0:a.class_id,"-").concat(null===a||void 0===a?void 0:a.subject_id,"-").concat(null===a||void 0===a?void 0:a.unit_id),Object(D.a)("".concat(e),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.access_token&&(null===a||void 0===a?void 0:a.class_id)&&(null===a||void 0===a?void 0:a.unit_id))){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/unit-test/view-all/").concat(null===a||void 0===a?void 0:a.class_id,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.unit_id),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}(),a=t.data,c=t.isLoading;!function(e){var t=Object(l.i)(),a=Object(l.h)().pathname,c=Object(l.g)(),s=Object(J.b)(),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},o=Object(P.useToasts)().addToast;Object(G.a)((function(e){return F.a.delete("".concat(B,"v1/unit-test/delete/").concat(e),i)}),{onSuccess:function(){var e="unit-tests-".concat(null===t||void 0===t?void 0:t.class_id,"-").concat(null===t||void 0===t?void 0:t.subject_id);s.invalidateQueries(e),c.push("".concat(a)),o("Teacher Deleted successfully",{appearance:"success",autoDismiss:!0})}})}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"All Unit Tests"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsx)(z,{isLoading:c}),Object(j.jsx)("div",{className:"col-md-12 pr-0 row no-gutter",style:{minHeight:"200px !important",height:"auto",maxHeight:"380px",overflowY:"scroll",overflowX:"hidden"},children:null===a||void 0===a?void 0:a.map((function(e){return Object(j.jsx)("div",{className:"card flex col-md-12 mb-2 col-md-6 no-gutter",style:{height:"200px !important"},children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-2 pl-0 pr-0 text-center dark",style:{paddingTop:"6%",paddingBottom:"6%"},children:[Object(j.jsxs)("b",{children:[null===e||void 0===e?void 0:e.class_name," Th"]}),Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:null===e||void 0===e?void 0:e.subject_name})]}),Object(j.jsxs)("div",{className:"col-md-10",children:[Object(j.jsxs)("div",{className:"flex",children:["Name: ",Object(j.jsx)("b",{children:null===e||void 0===e?void 0:e.test_name})]}),Object(j.jsxs)("div",{className:"flex",children:["Unit: ",Object(j.jsx)("b",{children:null===e||void 0===e?void 0:e.unit_name})]}),Object(j.jsxs)("div",{className:"flex",children:["Test Date: ",Object(j.jsx)("b",{children:ee(null===e||void 0===e?void 0:e.test_date)})]}),Object(j.jsxs)("div",{className:"flex",children:["Duration: ",Object(j.jsxs)("b",{children:[null===e||void 0===e?void 0:e.test_duration," Min"]})]}),Object(j.jsxs)("div",{className:"flex",children:["Total Question: ",Object(j.jsxs)("b",{children:[null===e||void 0===e?void 0:e.total_question," Ques"]})]})]})]})},null===e||void 0===e?void 0:e._id)}))})]})}function _t(){var e,t=Object(n.useContext)(k).state,a=Object(l.i)();return e="unit-tests-".concat(null===a||void 0===a?void 0:a.class_id,"-").concat(null===a||void 0===a?void 0:a.subject_id),Object(D.a)("".concat(e),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.access_token||!(null===a||void 0===a?void 0:a.class_id)){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/unit-test/view-class-subject/").concat(null===a||void 0===a?void 0:a.class_id,"/").concat(null===a||void 0===a?void 0:a.subject_id),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}function Nt(){var e=Object(n.useContext)(k).state,t=Object(l.i)(),a=null===t||void 0===t?void 0:t.class_id,c=null===t||void 0===t?void 0:t.subject_id,s=null===t||void 0===t?void 0:t.school_id,i="",o="";return e.access_token&&c&&a&&s?(o="".concat(B,"v1/assign-test/view-all/").concat(a,"/").concat(c,"/").concat(s),i="assign-tests-".concat(a,"-").concat(c,"-").concat(s)):e.access_token&&c&&a&&(o="".concat(B,"v1/assign-test/view-all/").concat(a,"/").concat(c),i="assign-tests-".concat(a,"-").concat(c)),Object(D.a)("".concat(i),Object(A.a)(T.a.mark((function t(){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.a.get(o,{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return a=t.sent,t.abrupt("return",a.data.data);case 4:case"end":return t.stop()}}),t)}))))}function yt(){var e=Object(l.i)(),t=Object(l.g)(),a=null===e||void 0===e?void 0:e.page_type,c=(null===e||void 0===e||e.school_id,null===e||void 0===e?void 0:e.class_id),s=null===e||void 0===e?void 0:e.subject_id,i=(null===e||void 0===e||e.teacher_id,ie().data),o=Ce().data,r=at().data,u=_t().data,m=Nt(),b=m.data,p=(m.isLoading,Object(n.useState)({})),v=Object(d.a)(p,2),h=(v[0],v[1],function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=Object(l.h)().pathname,i=Object(l.g)(),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},r=Object(P.useToasts)().addToast,d="assign-tests-".concat(null===c||void 0===c?void 0:c.school_id,"-").concat(null===c||void 0===c?void 0:c.subject_id,"-").concat(null===c||void 0===c?void 0:c.teacher_id);return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/assign-test/create"),e,o)}),{onSuccess:function(){t.invalidateQueries("".concat(d)),i.push("".concat(s,"/")),r("Questions added successfully",{appearance:"success",autoDismiss:!0})}})}());function O(a){var n=null===e||void 0===e?void 0:e.class_id,c=null===e||void 0===e?void 0:e.subject_id,s=a.target.value;n&&c&&(Array.from(document.getElementsByName("school")).map((function(e){e.value==a.target.value?e.checked=!0:e.checked=!1})),a.target.checked?t.push("/admin/assign-test/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(n,"/").concat(c,"/").concat(s)):t.push("/admin/assign-test/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(n,"/").concat(c)))}function f(){return(f=Object(A.a)(T.a.mark((function t(a){var n,c,s,i,l;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=null===e||void 0===e?void 0:e.class_id,c=null===e||void 0===e?void 0:e.subject_id,s=V(o,"_id",n,"class_name"),i=V(r,"subject_id",c,"subject_name"),l=[],Array.from(document.getElementsByName("test")).map((function(e){(e.checked=!0)&&Array.from(document.getElementsByName("school")).map((function(t){(t.checked=!0)&&l.push({school_id:t.value,class_id:n,class_name:s,subject_id:c,subject_name:i,test_id:e.value})}))})),console.log(l),t.next=10,h.mutate(l);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Assign New Test"]}),Object(j.jsx)("hr",{className:"mt-1"}),"create"===(null===e||void 0===e?void 0:e.page_type)&&Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsxs)("select",{className:"form-control",value:c,onChange:function(e){t.push("/admin/assign-test/".concat(a,"/").concat(e.target.value))},children:[Object(j.jsx)("option",{className:"_",children:"Classess"}),null===o||void 0===o?void 0:o.map((function(e){return Object(j.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.class_name},null===e||void 0===e?void 0:e._id)}))]})}),Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsxs)("select",{className:"form-control",value:s,onChange:function(e){t.push("/admin/assign-test/".concat(a,"/").concat(c,"/").concat(e.target.value))},children:[Object(j.jsx)("option",{className:"_",children:"Subjects"}),null===r||void 0===r?void 0:r.map((function(e){return Object(j.jsx)("option",{value:null===e||void 0===e?void 0:e.subject_id,children:null===e||void 0===e?void 0:e.subject_name},null===e||void 0===e?void 0:e.subject_id)}))]})})]}),Object(j.jsx)("hr",{className:"mb-1 mt-1"}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-3 pr-0",children:[Object(j.jsx)("p",{className:"mb-0 mt-0",children:Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{className:"mr-2",id:"checkAllSchool",type:"checkbox",name:"checkallSchool",onChange:function(){var e=document.getElementById("checkAllSchool").checked;Array.from(document.getElementsByName("school")).map((function(t){t.checked=!!e}))}}),Object(j.jsx)("b",{children:"Check All School"})]})}),Object(j.jsx)("hr",{className:"mb-1 mt-1"}),Object(j.jsx)("div",{className:"pt-2 pr-0 no-gutter",style:{minHeight:"100px !important",height:"auto",maxHeight:"250px",overflowY:"scroll",overflowX:"hidden"},children:null===i||void 0===i?void 0:i.map((function(e){return Object(j.jsx)("div",{className:"row col-md-12 pr-0",children:Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{type:"checkbox",name:"school",className:"mr-2",value:null===e||void 0===e?void 0:e._id,onChange:O}),null===e||void 0===e?void 0:e.school_name]})})}))})]}),Object(j.jsxs)("div",{className:"col-md-9 pl-0 pr-0",children:[Object(j.jsx)("p",{className:"mb-0 mt-0",children:Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{className:"mr-2 ml-2",id:"checkAll",type:"checkbox",name:"checkall",onChange:function(){var e=document.getElementById("checkAll").checked;Array.from(document.getElementsByName("test")).map((function(t){t.checked=!!e}))}}),Object(j.jsx)("b",{children:"Check All Tests"})]})}),Object(j.jsxs)("table",{className:"table table-responsive table-borded",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{style:{width:"200px"},children:"Test Name"}),Object(j.jsx)("td",{style:{width:"200px"},children:"Unit Name"}),Object(j.jsx)("td",{style:{width:"150px"},children:"Test Date"}),Object(j.jsx)("td",{style:{width:"150px"},children:"Duration"}),Object(j.jsx)("td",{style:{width:"100px"},children:"Total"})]})}),Object(j.jsx)("tbody",{className:"pt-2 pr-0 no-gutter",style:{minHeight:"100px !important",height:"auto",maxHeight:"250px",overflowY:"scroll",overflowX:"hidden"},children:null===u||void 0===u?void 0:u.map((function(e,t){var a=$(b,"test_id","".concat(null===e||void 0===e?void 0:e._id));return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{style:{width:"200px"},children:Object(j.jsx)("b",{children:Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{className:"mr-2",type:"checkbox",name:"test",value:"".concat(null===e||void 0===e?void 0:e._id),disabled:a}),null===e||void 0===e?void 0:e.test_name]})})}),Object(j.jsx)("td",{style:{width:"200px"},children:Object(j.jsx)("b",{children:null===e||void 0===e?void 0:e.unit_name})}),Object(j.jsx)("td",{style:{width:"150px"},children:Object(j.jsx)("b",{children:ee(null===e||void 0===e?void 0:e.test_date)})}),Object(j.jsx)("td",{style:{width:"150px"},children:Object(j.jsxs)("b",{children:[null===e||void 0===e?void 0:e.test_duration," Min"]})}),Object(j.jsx)("td",{style:{width:"100px"},children:Object(j.jsxs)("b",{children:[null===e||void 0===e?void 0:e.total_question," Ques"]})})]},null===e||void 0===e?void 0:e._id)}))})]})]})]}),Object(j.jsxs)("div",{className:"form-group mt-2",children:[Object(j.jsx)("hr",{className:"mb-2 mt-1"}),Object(j.jsx)("button",{className:"btn btn-sm dark",disabled:null===h||void 0===h?void 0:h.isLoading,onClick:function(e){return f.apply(this,arguments)},children:(null===h||void 0===h?void 0:h.isLoading)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"bi bi-spinner mr-2"}),"Processing..."]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"bi bi-save mr-2"}),"Save Question"]})})]})]})]})}function kt(e){e.update,e.Delete,Object(l.g)(),Object(n.useContext)(k).state,Object(l.i)();var t=Nt(),a=t.data,c=t.isLoading,s=ie(),i=s.data,o=s.isLoading,r=_t(),d=r.data,u=r.isLoading;!function(e){var t=Object(l.i)(),a=(Object(l.h)().pathname,Object(l.g)(),Object(J.b)()),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},s=Object(P.useToasts)().addToast;Object(G.a)((function(e){return F.a.delete("".concat(B,"v1/sample/delete/").concat(e),c)}),{onSuccess:function(){var e=(null===t||void 0===t?void 0:t.qbank_id)?"sample-".concat(t.sample_id):"sample";a.invalidateQueries(e),s("Teacher Deleted successfully",{appearance:"success",autoDismiss:!0})}})}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"All Assigned Test"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsx)(z,{isLoading:c}),Object(j.jsx)("div",{className:"col-md-12 pr-2 pl-2 row no-gutter",style:{minHeight:"100px !important",height:"auto",maxHeight:"350px",overflowY:"scroll",overflowX:"hidden"},children:null===a||void 0===a?void 0:a.map((function(e){var t="",a="";return o||(t=V(i,"_id",null===e||void 0===e?void 0:e.school_id,"school_name")),u||(a=V(d,"_id",null===e||void 0===e?void 0:e.test_id,"test_name")),Object(j.jsxs)("div",{className:"card col-md-12 mb-2 pt-2 pb-2",children:[Object(j.jsxs)("div",{className:"flex",children:["TetsName: ",a]}),Object(j.jsxs)("div",{className:"flex",children:["School: ",t]}),Object(j.jsxs)("div",{className:"flex",children:["Class: ",null===e||void 0===e?void 0:e.class_name]}),Object(j.jsxs)("div",{className:"flex",children:["Subject: ",null===e||void 0===e?void 0:e.subject_name]})]})}))})]})}function wt(){var e=Object(l.i)(),t=Object(l.g)(),a=Ce().data,c=it().data,s=at(),i=s.data,o=s.isLoading,r=Object(P.useToasts)().addToast,m=function(){var e=Object(l.i)(),t=null===e||void 0===e?void 0:e.subject_chapter_id,a=Object(n.useContext)(k).state,c=e.subject_chapter_id?"subject-chapter-mapping-".concat(e.subject_chapter_id):"subject-chapter-mapping";return Object(D.a)("".concat(c),Object(A.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=5;break}return e.next=3,F.a.get("".concat(B,"v1/chapter/view/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,b=Object(n.useState)(1),p=Object(d.a)(b,2),v=p[0],h=p[1],O=Object(n.useState)(!1),f=Object(d.a)(O,2),x=(f[0],f[1]),g=Object(n.useState)({}),_=Object(d.a)(g,2),N=_[0],y=_[1],w=Object(n.useState)(!0),C=Object(d.a)(w,2),S=C[0],L=C[1],I=Object(n.useState)(null),z=Object(d.a)(I,2),U=z[0],E=z[1],Q=new FormData,q=Object(n.useState)({chapter_no:"",chapter_name:""}),M=Object(d.a)(q,2),H=M[0],R=M[1];Object(n.useEffect)((function(){y(m)}),[m]);var X=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=Object(l.h)().pathname,i=Object(l.g)(),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},r=Object(P.useToasts)().addToast,d="subject-chapter-mappings-".concat(null===c||void 0===c?void 0:c.class_id,"-").concat(null===c||void 0===c?void 0:c.subject_id);return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/chapter/create"),e,o)}),{onSuccess:function(){t.invalidateQueries("".concat(d)),i.push("".concat(s)),r("Chapter added successfully",{appearance:"success",autoDismiss:!0})}})}(),K=function(e){var t=Object(J.b)(),a=Object(n.useContext)(k).state,c=Object(l.i)(),s=(Object(l.h)().pathname,Object(l.g)(),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}}),i=Object(P.useToasts)().addToast,o="";return o=(null===c||void 0===c?void 0:c.class_id)&&(null===c||void 0===c?void 0:c.subject_id)&&(null===c||void 0===c?void 0:c.unit_id)?"subject-chapter-mappings-".concat(null===c||void 0===c?void 0:c.class_id,"-").concat(null===c||void 0===c?void 0:c.subject_id,"-").concat(null===c||void 0===c?void 0:c.unit_id):(null===c||void 0===c?void 0:c.class_id)&&(null===c||void 0===c?void 0:c.subject_id)?"subject-chapter-mappings-".concat(null===c||void 0===c?void 0:c.class_id,"-").concat(null===c||void 0===c?void 0:c.subject_id):"subject-chapter-mappings",Object(G.a)((function(e){var t=null===c||void 0===c?void 0:c.subject_chapter_id;return F.a.patch("".concat(B,"v1/chapter/update/").concat(t),e,s)}),{onSuccess:function(){t.invalidateQueries("".concat(o)),i("Chapter Updated successfully",{appearance:"success",autoDismiss:!0})}})}(),$=function(){var e=Object(J.b)(),t=Object(n.useContext)(k).state,a=Object(l.i)(),c=(Object(l.h)().pathname,Object(l.g)(),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}}),s=Object(P.useToasts)().addToast,i="subject-chapter-mappings-".concat(null===a||void 0===a?void 0:a.class_id,"-").concat(null===a||void 0===a?void 0:a.subject_id);return Object(G.a)((function(e){return F.a.post("".concat(B,"v1/chapter/upload"),e,c)}),{onSuccess:function(){e.invalidateQueries("".concat(i)),s("Chapters Uploaded successfully",{appearance:"success",autoDismiss:!0})}})}();function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(A.a)(T.a.mark((function t(a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===e||void 0===e?void 0:e.subject_chapter_id)?y(Object(u.a)(Object(u.a)({},N),{},Object(W.a)({},a.target.name,a.target.value))):R(Object(u.a)(Object(u.a)({},H),{},Object(W.a)({},a.target.name,a.target.value)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ae=function(e){var t,a=e.target.options[e.target.selectedIndex].dataset.class_name,n=e.target.options[e.target.selectedIndex].dataset.subject_name,c=e.target.options[e.target.selectedIndex].dataset.unit_name,s=e.target.options[e.target.selectedIndex].dataset.unit_no;if(void 0!=a)R(Object(u.a)(Object(u.a)({},H),{},(t={},Object(W.a)(t,e.target.name,e.target.value),Object(W.a)(t,"class_name",a),t)));else if(void 0!=n){var i;R(Object(u.a)(Object(u.a)({},H),{},(i={},Object(W.a)(i,e.target.name,e.target.value),Object(W.a)(i,"subject_name",n),i)))}else{var o;R(Object(u.a)(Object(u.a)({},H),{},(o={},Object(W.a)(o,e.target.name,e.target.value),Object(W.a)(o,"unit_name",c),Object(W.a)(o,"unit_no",s),o)))}},ne=function(){var t=Object(A.a)(T.a.mark((function t(a){var n,s,i,o;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=[],x(!0),!(null===e||void 0===e?void 0:e.subject_chapter_id)){t.next=11;break}return s=document.getElementById("unit").value,i=V(c,"_id",s,"unit_no"),n.push({subject_chapter_id:null===e||void 0===e?void 0:e.subject_chapter_id,class_id:null===e||void 0===e?void 0:e.class_id,class_name:null===e||void 0===e?void 0:e.class_slug,subject_id:null===e||void 0===e?void 0:e.subject_id,subject_name:null===e||void 0===e?void 0:e.subject_slug,unit_id:null===e||void 0===e?void 0:e.unit_id,unit_no:i,unit_name:null===e||void 0===e?void 0:e.unit_slug,chapter_no:N.chapter_no,chapter_name:N.chapter_name}),t.next=9,K.mutate(n);case 9:t.next=14;break;case 11:for(o=0;o<v;o++)n.push({class_id:null===e||void 0===e?void 0:e.class_id,class_name:e.class_slug,subject_id:null===e||void 0===e?void 0:e.subject_id,subject_name:e.subject_slug,unit_no:null===H||void 0===H?void 0:H.unit_no,unit_id:null===e||void 0===e?void 0:e.unit_id,unit_name:e.unit_slug,chapter_no:H["chapter_no".concat(o)],chapter_name:H["chapter_name".concat(o)]});return t.next=14,X.mutate(n);case 14:x(!1),ce();case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function ce(){Array.from(document.querySelectorAll(".addedItems")).map((function(e){e.value=""})),h(1)}function se(){return(se=Object(A.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,console.log("file onchange ",a),n=a.split(".")[1],console.log(n),"csv"===n?(L(!1),E(t.target.files[0]),Q.append("file",t.target.files[0])):(L(!0),r("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(A.a)(T.a.mark((function t(a){var n,c,s,i;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=null===e||void 0===e?void 0:e.class_id,c=e.class_slug,s=null===e||void 0===e?void 0:e.subject_id,i=e.subject_slug,Q.append("file",U),Q.append("class_id",n),Q.append("class_name",c),Q.append("subject_id",s),Q.append("subject_name",i),t.next=12,$.mutate(Q);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:ne,children:[Object(j.jsxs)("p",{className:"form-heading",children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add Multiple Chapters"]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control",value:null===e||void 0===e?void 0:e.class_id,onChange:function(a){if(ae(a),"_"===a.target.value)t.push("/admin/mapping-subject-chapters/".concat(null===e||void 0===e?void 0:e.page_type));else{var n=a.target.options[a.target.selectedIndex].dataset.class_name;t.push("/admin/mapping-subject-chapters/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(a.target.value,"/").concat(Y(n)))}},children:[Object(j.jsx)("option",{value:"_",children:"Select Classes"}),null===a||void 0===a?void 0:a.map((function(e){return Object(j.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,"data-class_name":null===e||void 0===e?void 0:e.class_name,children:[null===e||void 0===e?void 0:e.class_name," th "]},null===e||void 0===e?void 0:e._id)}))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control",value:null===e||void 0===e?void 0:e.subject_id,onChange:function(a){if(ae(a),"_"===a.target.value)t.push("/admin/mapping-subject-chapters/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(null===e||void 0===e?void 0:e.class_id));else{var n=a.target.options[a.target.selectedIndex].dataset.subject_name;t.push("/admin/mapping-subject-chapters/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.class_slug,"/").concat(a.target.value,"/").concat(Y(n)))}},children:[Object(j.jsx)("option",{value:"_",children:o?"loading ...":"Select Subjects"}),null===i||void 0===i?void 0:i.map((function(e){return Object(j.jsx)("option",{value:null===e||void 0===e?void 0:e.subject_id,"data-subject_name":null===e||void 0===e?void 0:e.subject_name,children:null===e||void 0===e?void 0:e.subject_name},null===e||void 0===e?void 0:e.subject_id)}))]})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control",id:"unit",value:null===e||void 0===e?void 0:e.unit_id,onChange:function(a){if(ae(a),"_"===a.target.value)t.push("/admin/mapping-subject-chapters/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.class_slug,"/").concat(null===e||void 0===e?void 0:e.subject_id,"/").concat(null===e||void 0===e?void 0:e.subject_slug));else{var n=a.target.options[a.target.selectedIndex].dataset.unit_name;(null===e||void 0===e?void 0:e.subject_chapter_id)?t.push("/admin/mapping-subject-chapters/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.class_slug,"/").concat(null===e||void 0===e?void 0:e.subject_id,"/").concat(null===e||void 0===e?void 0:e.subject_slug,"/").concat(a.target.value,"/").concat(Y(n),"/").concat(null===e||void 0===e?void 0:e.subject_chapter_id)):t.push("/admin/mapping-subject-chapters/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.class_slug,"/").concat(null===e||void 0===e?void 0:e.subject_id,"/").concat(null===e||void 0===e?void 0:e.subject_slug,"/").concat(a.target.value,"/").concat(Y(n)))}},children:[Object(j.jsx)("option",{value:"_",children:o?"loading ...":"Select Unit"}),null===c||void 0===c?void 0:c.map((function(e){return Object(j.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,"data-unit_name":null===e||void 0===e?void 0:e.unit_name,"data-unit_no":null===e||void 0===e?void 0:e.unit_no,children:[Z(null===e||void 0===e?void 0:e.unit_no),"-",null===e||void 0===e?void 0:e.unit_name]},null===e||void 0===e?void 0:e._id)}))]})}),"upload"!==(null===e||void 0===e?void 0:e.page_type)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){e.preventDefault(),h(v+1)},children:[Object(j.jsx)("span",{className:"fa fa-plus mr-2"}),"Add New Chapter"]})}),Object(bt.a)(Array(v)).map((function(t,a){return Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("div",{className:"form-group col-md-2 pl-0 pr-0",children:Object(j.jsx)("input",{type:"text",className:"form-control addedItems",name:(null===e||void 0===e?void 0:e.subject_chapter_id)?"chapter_no":"chapter_no".concat(a),value:(null===e||void 0===e?void 0:e.subject_chapter_id)&&N&&N.chapter_no,onChange:ee,placeholder:"No"})}),Object(j.jsx)("div",{className:"form-group col-md-10 pr-0 pl-1",children:Object(j.jsx)("input",{type:"text",className:"form-control addedItems",name:(null===e||void 0===e?void 0:e.subject_chapter_id)?"chapter_name":"chapter_name".concat(a),value:(null===e||void 0===e?void 0:e.subject_chapter_id)&&N&&N.chapter_name,onChange:ee,placeholder:"Chapter Name"})}),Object(j.jsx)("hr",{})]},a)}))]}):Object(j.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(j.jsx)("label",{children:"Upload Files"}),Object(j.jsx)("a",{href:"/sampledata/chapters.csv",className:"pull-right",download:!0,children:"Download Sample"}),Object(j.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return se.apply(this,arguments)},placeholder:"Upload .csv"}),Object(j.jsx)("small",{id:"passwordHelpInline",class:"text-muted",children:"Upload Classes File in .csv format only."})]}),Object(j.jsxs)("div",{className:"form-group flex",children:["upload"!==(null===e||void 0===e?void 0:e.page_type)&&Object(j.jsx)("button",{className:"btn btn-sm dark",children:(null===X||void 0===X?void 0:X.isLoading)||(null===K||void 0===K?void 0:K.isLoading)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:(null===e||void 0===e?void 0:e.subject_chapter_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update Mapping"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Save Mapping"]})})}),"upload"===(null===e||void 0===e?void 0:e.page_type)&&Object(j.jsx)("button",{className:"btn btn-sm dark",type:"button",disabled:S,onClick:function(e){return ie.apply(this,arguments)},children:(null===$||void 0===$?void 0:$.isLoading)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(j.jsx)(j.Fragment,{children:(null===e||void 0===e?void 0:e.unit_id)?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"fa fa-save mr-2"})," Update Unit"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"bi bi-upload mr-2"})," Upload Unit"]})})}),Object(j.jsx)("button",{className:"btn btn-sm dark bg-danger ml-2",onClick:function(a){a.preventDefault(),ce(),document.getElementById("unit").selectedIndex="0",null===e||void 0===e||e.subject_chapter_id,t.push("/admin/mapping-subject-chapters/".concat(null===e||void 0===e?void 0:e.page_type,"/").concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.class_slug,"/").concat(null===e||void 0===e?void 0:e.subject_id,"/").concat(null===e||void 0===e?void 0:e.subject_slug))},children:Object(j.jsx)("span",{className:"fa fa-times"})})]})]})})}function Ct(e){var t=e.update,a=e.Delete,c=Object(l.g)(),s=(Object(n.useContext)(k).state,Object(l.i)()),i=ot(),o=i.data,r=i.isLoading,d=function(e){var t=Object(l.i)(),a=(Object(l.h)().pathname,Object(l.g)(),Object(J.b)()),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(k).state.access_token}},s=Object(P.useToasts)().addToast,i="";return i=(null===t||void 0===t?void 0:t.class_id)&&(null===t||void 0===t?void 0:t.subject_id)&&(null===t||void 0===t?void 0:t.unit_id)?"subject-chapter-mappings-".concat(null===t||void 0===t?void 0:t.class_id,"-").concat(null===t||void 0===t?void 0:t.subject_id,"-").concat(null===t||void 0===t?void 0:t.unit_id):(null===t||void 0===t?void 0:t.class_id)&&(null===t||void 0===t?void 0:t.subject_id)?"subject-chapter-mappings-".concat(null===t||void 0===t?void 0:t.class_id,"-").concat(null===t||void 0===t?void 0:t.subject_id):"subject-chapter-mappings",Object(G.a)((function(e){return F.a.delete("".concat(B,"v1/chapter/delete/").concat(e),c)}),{onSuccesss:function(){a.invalidateQueries("".concat(i)),s("Chapter Deleted successfully",{appearance:"success",autoDismiss:!0})}})}(),u=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.mutate(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"All Chapters"]}),Object(j.jsx)("hr",{className:"mt-1 mb-1"}),(null===s||void 0===s?void 0:s.unit_id)&&(null===s||void 0===s?void 0:s.unit_slug)&&Object(j.jsxs)("div",{className:"row pl-0 pr-0",children:[Object(j.jsxs)("div",{className:"col-md-6",children:[Object(j.jsx)("b",{className:"mr-0",children:"Unit ID: "}),null===s||void 0===s?void 0:s.unit_id]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{className:"mr-2",children:"Unit Name: "}),null===s||void 0===s?void 0:s.unit_slug]})]}),Object(j.jsx)("hr",{className:"mt-1"}),Object(j.jsx)(z,{isLoading:r}),Object(j.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:Object(j.jsxs)("table",{className:"table table-hover",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Unit No / Name"}),Object(j.jsx)("th",{scope:"col",children:"Chapter No / Name"}),Object(j.jsx)("th",{scope:"col",children:"Class"}),Object(j.jsx)("th",{scope:"col",children:"Subject"}),Object(j.jsx)("th",{scope:"col",children:"Action"})]})}),Object(j.jsx)("tbody",{children:o&&(null===o||void 0===o?void 0:o.map((function(e,n){return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{style:{width:"200px"},children:[Z(null===e||void 0===e?void 0:e.unit_no),"-",e.unit_name]}),Object(j.jsxs)("td",{style:{width:"300px"},children:[e.chapter_no,"-",e.chapter_name]}),Object(j.jsx)("td",{children:e.class_name}),Object(j.jsx)("td",{children:e.subject_name}),Object(j.jsxs)("td",{children:[!0===t&&Object(j.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(t){c.push("/admin/mapping-subject-chapters/update/".concat(e.class_id,"/").concat(Y(e.class_name),"/").concat(null===e||void 0===e?void 0:e.subject_id,"/").concat(Y(null===e||void 0===e?void 0:e.subject_name),"/").concat(null===e||void 0===e?void 0:e.unit_id,"/").concat(null===e||void 0===e?void 0:e.unit_name,"/").concat(null===e||void 0===e?void 0:e._id))},children:Object(j.jsx)("span",{className:"fa fa-edit"})}),!0===a&&Object(j.jsx)("button",{className:"btn bg-danger text-white block btn-sm",onClick:function(){return u(null===e||void 0===e?void 0:e._id)},children:(null===d||void 0===d?void 0:d.isLoading)?Object(j.jsx)("span",{className:"fa fa-spinner"}):Object(j.jsx)("span",{className:"fa fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)})))})]})})]})}var St=[{path:"/",component:H},{path:"/admin/login",component:H},{path:"/403",component:function(){var e=Object(n.useContext)(k).state;return Object(j.jsx)(j.Fragment,{children:e.isLoggedIn&&Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container pt-5 text-center",children:[Object(j.jsx)("img",{src:"/noentry.jpg",alt:"Not authorized"}),Object(j.jsx)("p",{children:"You are not authorized to access this resource"}),Object(j.jsxs)(o.b,{to:"/admin/dashboard",children:[Object(j.jsx)("span",{className:"fa fa-home"}),Object(j.jsx)("span",{className:"ml-3",children:"Go to Dashboard"})]})]})})})})}}],Tt=[{path:"/:user_type?/dashboard",component:R},{path:"/admin",component:R},{path:"/admin/class-management/:page_type?/:class_id?",component:function(){var e=Object(l.i)(),t=Object(l.g)(),a=(Object(l.h)(),re());Object(n.useEffect)((function(){!1===a&&t.push("/403")}),[a]);var c=ue("create"),s=ue("update"),i=ue("upload"),o=ue("delete");return Object(n.useEffect)((function(){!1!==c&&!1!==s&&!1!==i||t.push("/admin/class-management")}),[c,s,i]),Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"Class List"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsxs)("div",{className:"col-md-12 row",children:[Object(j.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})}),c&&Object(j.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/class-management/create")},children:[Object(j.jsx)("span",{className:"fa fa-plus mr-2"}),"Create Class"]}),i&&Object(j.jsxs)("button",{className:"btn btn-sm dark",onClick:function(e){t.push("/admin/class-management/upload")},children:[Object(j.jsx)("span",{className:"fa fa-upload mr-2"}),"Upload Classes"]})]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-3",children:[!0===i&&"upload"===e.page_type&&Object(j.jsx)(we,{}),(!0===c||!0===s)&&("create"===e.page_type||"update"===e.page_type)&&Object(j.jsx)(ke,{})]}),Object(j.jsx)("div",{className:"".concat("create"===(null===e||void 0===e?void 0:e.page_type)||"update"===(null===e||void 0===e?void 0:e.page_type)||"upload"===(null===e||void 0===e?void 0:e.page_type)?"col-md-9":"col-md-12"),children:Object(j.jsx)(Se,{update:s,Delete:o})})]})})]})})})}},{path:"/admin/students-management/:page_type?/:school_id?/:student_id?",component:function(){var e=Object(l.i)(),t=Object(l.g)(),a=re();Object(n.useEffect)((function(){!1===a&&t.push("/403")}),[a]);var c=ue("create"),s=ue("update"),i=ue("upload"),o=ue("delete");return Object(n.useEffect)((function(){!1!==c&&!1!==s&&!1!==i||t.push("/admin/students-management")}),[c,s,i]),Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"Student List"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsxs)("div",{className:"col-md-12 row",children:[Object(j.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})}),c&&Object(j.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/students-management/create")},children:[Object(j.jsx)("span",{className:"fa fa-plus mr-2"}),"Create students"]}),i&&Object(j.jsxs)("button",{className:"btn btn-sm dark",onClick:function(e){t.push("/admin/students-management/upload")},children:[Object(j.jsx)("span",{className:"fa fa-upload mr-2"}),"Upload students"]})]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-3",children:[!0===i&&"upload"===e.page_type&&Object(j.jsx)(Ie,{}),(!0===c||!0===s)&&("create"===e.page_type||"update"===e.page_type)&&Object(j.jsx)(Fe,{})]}),Object(j.jsx)("div",{className:"".concat("create"===(null===e||void 0===e?void 0:e.page_type)||"update"===(null===e||void 0===e?void 0:e.page_type)||"upload"===(null===e||void 0===e?void 0:e.page_type)?"col-md-9":"col-md-12"),children:Object(j.jsx)(ze,{update:s,Delete:o})})]})})]})})})}},{path:"/admin/subject-management/:page_type?/:subject_id?",component:function(){var e=Object(l.i)(),t=Object(l.g)(),a=re();Object(n.useEffect)((function(){!1===a&&t.push("/403")}),[a]);var c=ue("create"),s=ue("update"),i=ue("upload"),o=ue("delete");return Object(n.useEffect)((function(){!1!==c&&!1!==s&&!1!==i||t.push("/admin/subject-management")}),[c,s,i]),Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"Subjects List"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsxs)("div",{className:"col-md-12 row",children:[Object(j.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})}),c&&Object(j.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/subject-management/create")},children:[Object(j.jsx)("span",{className:"fa fa-plus mr-2"}),"Create Subjects"]}),i&&Object(j.jsxs)("button",{className:"btn btn-sm dark",onClick:function(a){void 0==e.page_type||"create"==e.page_type?t.push("/admin/subject-management/upload"):"upload"==e.page_type&&t.push("/admin/subject-management")},children:[Object(j.jsx)("span",{className:"fa fa-upload"}),"   Upload Subjects"]})]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-3",children:[!0===i&&"upload"===e.page_type&&Object(j.jsx)(Ae,{}),(!0===c||!0===s)&&("create"===e.page_type||"update"===e.page_type)&&Object(j.jsx)(Te,{})]}),Object(j.jsx)("div",{className:"".concat("create"===(null===e||void 0===e?void 0:e.page_type)||"update"===(null===e||void 0===e?void 0:e.page_type)||"upload"===(null===e||void 0===e?void 0:e.page_type)?"col-md-9":"col-md-12"),children:Object(j.jsx)(Le,{update:s,Delete:o})})]})})]})})})}},{path:"/admin/teachers-management/:page_type?/:school_id?/:teacher_id?",component:function(){var e=Object(l.i)(),t=Object(l.g)(),a=re();Object(n.useEffect)((function(){!1===a&&t.push("/403")}),[a]);var c=ue("create"),s=ue("update"),i=ue("upload"),o=ue("delete");return Object(n.useEffect)((function(){!1!==c&&!1!==s&&!1!==i||t.push("/admin/teachers-management")}),[c,s,i]),Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"Teacher List"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsxs)("div",{className:"col-md-12 row",children:[Object(j.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})}),c&&Object(j.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/teachers-management/create")},children:[Object(j.jsx)("span",{className:"fa fa-plus mr-2"}),"Create teachers"]}),i&&Object(j.jsxs)("button",{className:"btn btn-sm dark",onClick:function(e){t.push("/admin/teachers-management/upload")},children:[Object(j.jsx)("span",{className:"fa fa-upload mr-2"}),"Upload teachers"]})]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-3",children:[!0===i&&"upload"===e.page_type&&Object(j.jsx)(Me,{}),(!0===c||!0===s)&&("create"===e.page_type||"update"===e.page_type)&&Object(j.jsx)(Qe,{})]}),Object(j.jsx)("div",{className:"".concat("create"===(null===e||void 0===e?void 0:e.page_type)||"update"===(null===e||void 0===e?void 0:e.page_type)||"upload"===(null===e||void 0===e?void 0:e.page_type)?"col-md-9":"col-md-12"),children:Object(j.jsx)(He,{update:s,Delete:o})})]})})]})})})}},{path:"/admin/principal-management/:page_type?/:school_id?/:principal_id?",component:function(){var e=Object(l.i)(),t=Object(l.g)(),a=re();Object(n.useEffect)((function(){!1===a&&t.push("/403")}),[a]);var c=ue("create"),s=ue("update"),i=ue("upload");return Object(n.useEffect)((function(){!1===c&&t.push("/admin/principal-management");!1===s&&t.push("/admin/principal-management")}),[c,s,i]),Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"Principal List"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsxs)("div",{className:"col-md-12 row",children:[Object(j.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})}),c&&Object(j.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/principal-management/create")},children:[Object(j.jsx)("span",{className:"fa fa-plus mr-2"}),"Create Principals"]}),i&&Object(j.jsxs)("button",{className:"btn btn-sm dark",onClick:function(e){t.push("/admin/principal-management/upload")},children:[Object(j.jsx)("span",{className:"fa fa-upload mr-2"}),"Upload Principals"]})]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-3",children:[!0===i&&"upload"===e.page_type&&Object(j.jsx)(Ye,{}),(!0===c||!0===s)&&("create"===e.page_type||"update"===e.page_type)&&Object(j.jsx)(Re,{})]}),Object(j.jsx)("div",{className:"".concat("create"===(null===e||void 0===e?void 0:e.page_type)||"update"===(null===e||void 0===e?void 0:e.page_type)||"upload"===(null===e||void 0===e?void 0:e.page_type)?"col-md-9":"col-md-12"),children:Object(j.jsx)(We,{})})]})})]})})})}},{path:"/admin/mapping-teacher-subjects/:page_type?/:school_id?/:school_slug?/:teacher_id?/:teacher_slug?/:teacher_sub_id?",component:function(){Object(l.i)();var e=Object(l.g)();return Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"Mapping Teacher-Subject List"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsx)("div",{className:"col-md-12 row",children:Object(j.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(t){e.push("/admin/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsx)(Xe,{})}),Object(j.jsx)("div",{className:"col-md-9 ",children:Object(j.jsx)(Ke,{})})]})})]})})})}},{path:"/admin/mapping-teacher-class/:page_type?/:school_id?/:school_slug?/:teacher_id?/:teacher_slug?/:teacher_class_id?",component:function(){Object(l.i)();var e=Object(l.g)();return Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"Mapping Teacher-Class List"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsx)("div",{className:"col-md-12 row",children:Object(j.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(t){e.push("/admin/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsx)(Ve,{})}),Object(j.jsx)("div",{className:"col-md-9 ",children:Object(j.jsx)(et,{})})]})})]})})})}},{path:"/admin/mapping-class-subjects/:page_type?/:class_id?/:class_slug?/:class_subject_id?",component:function(){Object(l.i)();var e=Object(l.g)();return Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"Mapping Class-Subject List"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsx)("div",{className:"col-md-12 row",children:Object(j.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(t){e.push("/admin/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsx)(tt,{})}),Object(j.jsx)("div",{className:"col-md-9 ",children:Object(j.jsx)(st,{})})]})})]})})})}},{path:"/admin/question-bank/:page_type?/:class_id?/:subject_id?/:unit_id?/:chapter_id?/:qbank_id?",component:function(){var e=Object(l.i)(),t=Object(l.g)(),a=re();Object(n.useEffect)((function(){!1===a&&t.push("/403")}),[a]);var c=ue("create"),s=ue("update"),i=ue("upload"),o=ue("delete");return Object(n.useEffect)((function(){!1===c&&!1===s&&t.push("/admin/question-bank")}),[c,s,i]),Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"All Questions"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsxs)("div",{className:"col-md-12 row",children:[Object(j.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})}),c&&Object(j.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/question-bank/create")},children:[Object(j.jsx)("span",{className:"fa fa-plus mr-2"}),"Create Question"]}),i&&Object(j.jsxs)("button",{className:"btn btn-sm dark",onClick:function(e){t.push("/admin/question-bank/upload")},children:[Object(j.jsx)("span",{className:"fa fa-upload mr-2"}),"Upload Question"]})]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-7 pr-0",children:(!0===c||!0===s||!0===i)&&("create"===e.page_type||"update"===e.page_type||"upload"===e.page_type)&&Object(j.jsx)(ut,{})}),Object(j.jsx)("div",{className:"".concat("create"===(null===e||void 0===e?void 0:e.page_type)||"update"===(null===e||void 0===e?void 0:e.page_type)||"upload"===(null===e||void 0===e?void 0:e.page_type)?"col-md-5 pr-0":"col-md-12"),children:Object(j.jsx)(mt,{update:s,Delete:o})})]})})]})})})}},{path:"/admin/mapping-subject-chapters/:page_type?/:class_id?/:class_slug?/:subject_id?/:subject_slug?/:unit_id?/:unit_slug?/:subject_chapter_id?",component:function(){var e=Object(l.i)(),t=Object(l.g)(),a=re();Object(n.useEffect)((function(){!1===a&&t.push("/403")}),[a]);var c=ue("create"),s=ue("update"),i=ue("upload"),o=ue("delete");return Object(n.useEffect)((function(){!1!==c&&!1!==s&&!1!==i||t.push("/admin/mapping-subject-chapters")}),[c,s,i]),Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"All Mapping"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsxs)("div",{className:"col-md-12 row",children:[Object(j.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})}),c&&Object(j.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(a){void 0!==(null===e||void 0===e?void 0:e.class_id)&&void 0!==(null===e||void 0===e?void 0:e.subject_id)?t.push("/admin/mapping-subject-chapters/create/".concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.class_slug,"/").concat(null===e||void 0===e?void 0:e.subject_id,"/").concat(null===e||void 0===e?void 0:e.subject_slug)):t.push("/admin/mapping-subject-chapters/create")},children:[Object(j.jsx)("span",{className:"fa fa-plus mr-2"}),"Create Mapping"]}),i&&Object(j.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(a){void 0!==(null===e||void 0===e?void 0:e.class_id)&&void 0!==(null===e||void 0===e?void 0:e.subject_id)?t.push("/admin/mapping-subject-chapters/upload/".concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.class_slug,"/").concat(null===e||void 0===e?void 0:e.subject_id,"/").concat(null===e||void 0===e?void 0:e.subject_slug)):t.push("/admin/mapping-subject-chapters/upload")},children:[Object(j.jsx)("span",{className:"fa fa-upload mr-2"}),"Upload Mapping"]})]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4",children:(!0===c||!0===s)&&("create"===e.page_type||"update"===e.page_type||"upload"===(null===e||void 0===e?void 0:e.page_type))&&Object(j.jsx)(wt,{})}),Object(j.jsx)("div",{className:"".concat("create"===(null===e||void 0===e?void 0:e.page_type)||"update"===(null===e||void 0===e?void 0:e.page_type)||"upload"===(null===e||void 0===e?void 0:e.page_type)?"col-md-8":"col-md-12"),children:Object(j.jsx)(Ct,{update:s,Delete:o})})]})})]})})})}},{path:"/admin/manage-units/:page_type?/:class_id?/:subject_id?/:subject_name?/:unit_id?",component:function(){var e=Object(l.i)(),t=Object(l.g)(),a=re();Object(n.useEffect)((function(){!1===a&&t.push("/403")}),[a]);var c=ue("create"),s=ue("update"),i=ue("upload"),o=ue("delete");return Object(n.useEffect)((function(){!1!==c&&!1!==s&&!1!==i||t.push("/admin/units")}),[c,s,i]),Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"All Units"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsxs)("div",{className:"col-md-12 row",children:[Object(j.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})}),c&&Object(j.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(a){void 0!==(null===e||void 0===e?void 0:e.class_id)&&void 0!==(null===e||void 0===e?void 0:e.subject_id)?t.push("/admin/manage-units/create/".concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.subject_id)):t.push("/admin/manage-units/create")},children:[Object(j.jsx)("span",{className:"fa fa-plus mr-2"}),"Create Units"]}),i&&Object(j.jsxs)("button",{className:"btn btn-sm dark",onClick:function(a){void 0!==(null===e||void 0===e?void 0:e.class_id)&&void 0!==(null===e||void 0===e?void 0:e.subject_id)?t.push("/admin/manage-units/upload/".concat(null===e||void 0===e?void 0:e.class_id,"/").concat(null===e||void 0===e?void 0:e.subject_id)):t.push("/admin/manage-units/upload")},children:[Object(j.jsx)("span",{className:"fa fa-upload mr-2"}),"Upload teachers"]})]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4",children:(!0===c||!0===s)&&("create"===e.page_type||"update"===e.page_type||"upload"===(null===e||void 0===e?void 0:e.page_type))&&Object(j.jsx)(vt,{})}),Object(j.jsx)("div",{className:"".concat("create"===(null===e||void 0===e?void 0:e.page_type)||"update"===(null===e||void 0===e?void 0:e.page_type)||"upload"===(null===e||void 0===e?void 0:e.page_type)?"col-md-8":"col-md-12"),children:Object(j.jsx)(ht,{update:s,Delete:o})})]})})]})})})}},{path:"/admin/manage-unit-test/:page_type?/:class_id?/:subject_id?/:unit_id?/:chapter_id?/:test_id?",component:function(){var e=Object(l.i)(),t=Object(l.g)(),a=re();Object(n.useEffect)((function(){!1===a&&t.push("/403")}),[a]);var c=ue("create"),s=ue("update"),i=ue("upload"),o=ue("delete");return Object(n.useEffect)((function(){!1!==c&&!1!==s&&!1!==i||t.push("/admin/manage-unit-test")}),[c,s,i]),Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"Module List"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsxs)("div",{className:"col-md-12 row",children:[Object(j.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})}),c&&Object(j.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/manage-unit-test/create")},children:[Object(j.jsx)("span",{className:"fa fa-plus mr-2"}),"Create Unit Test                                "]})]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-8 pr-0",children:(!0===c||!0===s||!0===i)&&("create"===e.page_type||"update"===e.page_type||"upload"===e.page_type)&&Object(j.jsx)(xt,{})}),Object(j.jsx)("div",{className:"".concat("create"===(null===e||void 0===e?void 0:e.page_type)||"update"===(null===e||void 0===e?void 0:e.page_type)||"upload"===(null===e||void 0===e?void 0:e.page_type)?"col-md-4 pr-0":"col-md-12"),children:Object(j.jsx)(gt,{update:s,Delete:o})})]})})]})})})}},{path:"/admin/assign-test/:page_type?/:class_id?/:subject_id?/:school_id?",component:function(){var e=Object(l.i)(),t=Object(l.g)(),a=re();Object(n.useEffect)((function(){!1===a&&t.push("/403")}),[a]);var c=ue("create"),s=ue("update"),i=ue("upload"),o=ue("delete");return Object(n.useEffect)((function(){!1!==c&&!1!==s&&!1!==i||t.push("/admin/question-bank")}),[c,s,i]),Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"Assigned Test List"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsxs)("div",{className:"col-md-12 row",children:[Object(j.jsx)("button",{className:"btn btn-sm dark",onClick:function(e){t.push("/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})}),Object(j.jsxs)("button",{className:"btn btn-sm dark ml-2",onClick:function(e){t.push("/admin/assign-test/create/")},children:[Object(j.jsx)("span",{className:"bi bi-assign"}),"Assign New Test"]})]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-9",children:(!0===c||!0===s||!0===i)&&("create"===e.page_type||"update"===e.page_type)&&Object(j.jsx)(yt,{})}),Object(j.jsx)("div",{className:"".concat("create"===(null===e||void 0===e?void 0:e.page_type)||"update"===(null===e||void 0===e?void 0:e.page_type)||"upload"===(null===e||void 0===e?void 0:e.page_type)?"col-md-3":"col-md-12"),children:Object(j.jsx)(kt,{update:s,Delete:o})})]})})]})})})}}],At=[{path:"/admin/app-module/:module_id?",component:function(){Object(l.i)();var e=Object(l.g)();return Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"App Modules List"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsx)("div",{className:"col-md-12 row",children:Object(j.jsx)("button",{className:"btn btn-sm dark",onClick:function(t){e.push("/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsx)(je,{})}),Object(j.jsx)("div",{className:"col-md-9",children:Object(j.jsx)(pe,{})})]})})]})})})}},{path:"/admin/app-roles/:role_id?",component:function(){var e=Object(l.g)();return Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"App Roles List"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsx)("div",{className:"col-md-12 row",children:Object(j.jsx)("button",{className:"btn btn-sm dark",onClick:function(t){e.push("/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsx)(ve,{})}),Object(j.jsx)("div",{className:"col-md-9",children:Object(j.jsx)(fe,{})})]})})]})})})}},{path:"/admin/app-permissions/:role_id?/:role_slug?/:role?/:admin_email?",component:function(){var e=Object(l.g)();return Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsxs)("h2",{children:[Object(j.jsx)("span",{className:"bi bi-gear-wide-connected text-warning mr-2"}),"App Permissions"]})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsx)("div",{className:"col-md-12 row",children:Object(j.jsx)("button",{className:"btn btn-sm dark",onClick:function(t){e.push("/admin/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 pr-0",children:Object(j.jsx)(ge,{})}),Object(j.jsx)("div",{className:"col-md-8 pr-0",children:Object(j.jsx)(ye,{})})]})})]})})})}},{path:"/admin/school-management/:page_type?/:school_id?",component:function(){var e=Object(l.i)(),t=Object(l.g)(),a=re();Object(n.useEffect)((function(){!1===a&&t.push("/403")}),[a]);var c=ue("create"),s=ue("update"),i=ue("upload");return ue("delete"),Object(n.useEffect)((function(){!1!==c&&!1!==s&&!1!==i||t.push("/admin/students-management")}),[c,s,i]),Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"School List"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsxs)("div",{className:"col-md-12 row",children:[Object(j.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})}),c&&Object(j.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){t.push("/admin/school-management/create")},children:[Object(j.jsx)("span",{className:"fa fa-plus mr-2"}),"Create Schools                                "]}),i&&Object(j.jsxs)("button",{className:"btn btn-sm dark",onClick:function(a){void 0==e.page_type||"create"==e.page_type?t.push("/admin/school-management/upload"):"upload"==e.page_type&&t.push("/admin/school-management")},children:[Object(j.jsx)("span",{className:"fa fa-upload"}),"   Upload Schools"]})]})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-3",children:[!0===i&&"upload"===e.page_type&&Object(j.jsx)(le,{}),(!0===c||!0===s)&&("create"===e.page_type||"update"===e.page_type)&&Object(j.jsx)(se,{})]}),Object(j.jsx)("div",{className:"".concat("create"===(null===e||void 0===e?void 0:e.page_type)||"update"===(null===e||void 0===e?void 0:e.page_type)||"upload"===(null===e||void 0===e?void 0:e.page_type)?"col-md-9":"col-md-12"),children:Object(j.jsx)(oe,{update:s})})]})})]})})})}},{path:"/admin/manage-sub-admin/:page_type?/:role?/:admin_id?",component:function(){Object(l.i)();var e=Object(l.g)();return Object(j.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(j.jsx)("div",{className:"main-area-all",children:Object(j.jsxs)("div",{className:"dashboard_main-container",children:[Object(j.jsx)("div",{className:"dash-main-head",children:Object(j.jsx)("h2",{children:"Sub Admin List"})}),Object(j.jsx)("div",{className:"dash-con-heading",children:Object(j.jsx)("div",{className:"col-md-12 row",children:Object(j.jsx)("button",{className:"btn btn-sm dark",onClick:function(t){e.push("/dashboard")},children:Object(j.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsx)("div",{className:"dash-cont-start",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsx)(te,{})}),Object(j.jsx)("div",{className:"col-md-9",children:Object(j.jsx)(ce,{})})]})})]})})})}}],Dt=new(a(219).a)({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function Lt(){return Object(j.jsx)(o.a,{children:Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsx)("div",{className:"row no-gutters",children:Object(j.jsx)(J.a,{client:Dt,children:Object(j.jsx)(C,{children:Object(j.jsxs)(P.ToastProvider,{children:[Object(j.jsx)(E,{}),Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsxs)(l.d,{children:[null===St||void 0===St?void 0:St.map((function(e){return Object(j.jsx)(l.b,{exact:!0,path:e.path,component:e.component},e.path)})),null===Tt||void 0===Tt?void 0:Tt.map((function(e){return Object(j.jsx)(q,{exact:!0,path:e.path,component:e.component},e.path)})),null===At||void 0===At?void 0:At.map((function(e){return Object(j.jsx)(M,{exact:!0,path:e.path,component:e.component},e.path)}))]})})]})})})})})})}i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(Lt,{})}),document.getElementById("root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.2c66792b.chunk.js.map