(this.webpackJsonpresources=this.webpackJsonpresources||[]).push([[0],{100:function(e,a,t){},101:function(e,a,t){},102:function(e,a,t){"use strict";t.r(a);var n=t(1),s=t.n(n),c=t(23),o=t.n(c),i=(t(59),t(7)),l=t(16),r=t(2),d=t.n(r),u=t(4),j=t(8),m=(t(61),t(105)),b=t(3),p=t(0),v=localStorage.getItem("fullname"),h=localStorage.getItem("email"),O=localStorage.getItem("role"),f=localStorage.getItem("user_type"),x=localStorage.getItem("school_id"),g=localStorage.getItem("school_slug"),_=localStorage.getItem("school_logo"),N=localStorage.getItem("created_at"),y=localStorage.getItem("isLoggedIn"),k=localStorage.getItem("access_token"),w=localStorage.getItem("refresh_token"),C={isLoggedIn:y||!1,fullname:v||null,email:h||null,role:O||null,user_type:f||null,school_id:x||null,school_slug:g||null,school_logo:_||null,created_at:N||null,access_token:k||null,refresh_token:w||null},S=s.a.createContext(C),D=function(e,a){switch(a.type){case"LOGIN":return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:a.payload.isLoggedIn,fullname:a.payload.fullname,email:a.payload.email,role:a.payload.role,user_type:a.payload.user_type,school_id:a.payload.school_id,school_slug:a.payload.school_slug,school_logo:a.payload.school_logo,created_at:a.payload.created_at,access_token:a.payload.access_token,refresh_token:a.payload.refresh_token});case"LOGOUT":return localStorage.clear(),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("fullname"),localStorage.removeItem("email"),localStorage.removeItem("role"),localStorage.removeItem("school_id"),localStorage.removeItem("school_slug"),localStorage.removeItem("school_logo"),Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!1,fullname:null,email:null,access_token:null,refresh_token:null});default:return e}};var T=function(e){var a=e.children,t=Object(n.useReducer)(D,C),s=Object(j.a)(t,2),c=s[0],o=s[1];return Object(p.jsx)(S.Provider,{value:{state:c,dispatch:o},children:a})},A=t(107),F=t(5),L=t.n(F),B="https://acade-online-classes.herokuapp.com/api/";function I(){var e=Object(n.useContext)(S).state;return Object(A.a)("app-modules",Object(u.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.access_token||"master_admin"!=(null===e||void 0===e?void 0:e.user_type)){a.next=5;break}return a.next=3,L.a.get("".concat(B,"v1/module/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return t=a.sent,a.abrupt("return",t.data.data);case 5:case"end":return a.stop()}}),a)}))))}function z(e){var a=e.isLoading;return Object(p.jsx)("div",{children:a&&Object(p.jsx)("div",{className:"spinner-border",style:{width:"16px",height:"16px"},role:"status",children:Object(p.jsx)("span",{className:"sr-only",children:"Loading..."})})})}function P(){var e,a=Object(l.g)(),t=(Object(l.h)(),Object(l.i)(),Object(n.useContext)(S)),s=t.state,c=t.dispatch,o=I(),r=o.data,b=o.isLoading,v=function(){var e=Object(n.useContext)(S).state,a=null===e||void 0===e?void 0:e.user_type,t=null===e||void 0===e?void 0:e.school_slug;return Object(A.a)("other-modules",Object(u.a)(d.a.mark((function n(){var s;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.access_token||"school-admin"!=(null===e||void 0===e?void 0:e.user_type)){n.next=5;break}return n.next=3,L.a.get("".concat(B,"v1/permission/module/").concat(t,"/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return s=n.sent,n.abrupt("return",s.data.data);case 5:console.log("inside useOther Module");case 6:case"end":return n.stop()}}),n)}))))}(),h=v.data,O=(v.isLoading,Object(n.useState)([])),f=Object(j.a)(O,2),x=f[0],g=f[1];function _(){return(_=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"master_admin"==(null===s||void 0===s?void 0:s.user_type)?g(r):"school-admin"==(null===s||void 0===s?void 0:s.user_type)&&g(h);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return _.apply(this,arguments)}),[s,r,h]),Object(p.jsx)(p.Fragment,{children:s.isLoggedIn&&Object(p.jsxs)("div",{className:"login_menu col-lg-2 col-md-2 col-12",bg:"dark",variant:"dark",expand:"lg",children:[Object(p.jsxs)("div",{className:"webLogo flex",children:[Object(p.jsx)("img",{src:"/logo.png",className:"mr-2",style:{width:"15%"},alt:"User"}),Object(p.jsx)("h4",{children:"AcadeLearn"})]}),Object(p.jsxs)("div",{className:"user_area",children:[Object(p.jsx)("div",{className:"col-md-12 user_icon",children:Object(p.jsxs)("div",{className:"col-md-12 p-0",children:["master_admin"==(null===s||void 0===s?void 0:s.user_type)&&Object(p.jsx)("img",{src:"/profile.jpg",className:"profileImage"}),"master_admin"!==(null===s||void 0===s?void 0:s.user_type)&&Object(p.jsx)("img",{src:"https://drive.google.com/uc?export=view&id=".concat(null===s||void 0===s?void 0:s.school_logo),className:"profileImage"})]})}),Object(p.jsxs)("div",{className:"user_options mt-1",children:[Object(p.jsx)("div",{className:"col-md-12 p-0 user_details",children:Object(p.jsx)("span",{className:"user_name",children:null===s||void 0===s?void 0:s.email})}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{as:i.b,children:Object(p.jsxs)("button",{className:"bg-warning dark br-10 pl-2 pr-2",children:[Object(p.jsx)("span",{className:"fa fa-lock mr-2"})," ",null===s||void 0===s||null===(e=s.user_type)||void 0===e?void 0:e.replace("_"," ")]})}),Object(p.jsx)("li",{as:i.b,onClick:function(){c({type:"LOGOUT"}),"master_admin"===(null===s||void 0===s?void 0:s.user_type)?a.push("/"):"sub_admin"===(null===s||void 0===s?void 0:s.user_type)&&a.push("/subadmin/login")},alt:"Logout",children:Object(p.jsxs)("button",{className:"bg-danger dark br-10  pl-2 pr-2",children:[Object(p.jsx)("span",{className:"fa fa-power-off mr-2"}),"Logout"]})})]})]})]}),Object(p.jsx)("div",{className:"navbar_menus",children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsxs)(m.a,{className:"ml-auto",children:["master_admin"==(null===s||void 0===s?void 0:s.user_type)&&Object(p.jsxs)(i.c,{to:"/admin/dashboard",children:[" ",Object(p.jsx)("span",{className:"fa fa-dashboard"})," Dashboard"]}),"master_admin"!==(null===s||void 0===s?void 0:s.user_type)&&Object(p.jsxs)(i.c,{to:"/school/".concat(null===s||void 0===s?void 0:s.school_slug,"/admin/dashboard"),children:[" ",Object(p.jsx)("span",{className:"fa fa-dashboard"})," Dashboard"]})]})}),"master_admin"==(null===s||void 0===s?void 0:s.user_type)&&b&&Object(p.jsx)(z,{isLoading:b}),"master_admin"==(null===s||void 0===s?void 0:s.user_type)&&(null===x||void 0===x?void 0:x.map((function(e){if("master_admin"===(null===e||void 0===e?void 0:e.module_type))return Object(p.jsx)("li",{id:null===e||void 0===e?void 0:e.module_slug,children:Object(p.jsx)(m.a,{className:"ml-auto",children:Object(p.jsxs)(i.c,{to:"/admin/".concat(null===e||void 0===e?void 0:e.module_slug),children:[" ",Object(p.jsx)("span",{className:"bi ".concat(null===e||void 0===e?void 0:e.module_icon)})," ",null===e||void 0===e?void 0:e.module_name," "]})})},null===e||void 0===e?void 0:e._id)}))),"master_admin"==(null===s||void 0===s?void 0:s.user_type)&&(null===x||void 0===x?void 0:x.map((function(e){if("sub_admin"===(null===e||void 0===e?void 0:e.module_type))return Object(p.jsx)("li",{id:null===e||void 0===e?void 0:e.module_slug,children:Object(p.jsx)(m.a,{className:"ml-auto",children:Object(p.jsxs)(i.c,{to:"/admin/".concat(null===e||void 0===e?void 0:e.module_slug),children:[" ",Object(p.jsx)("span",{className:"bi ".concat(null===e||void 0===e?void 0:e.module_icon)})," ",null===e||void 0===e?void 0:e.module_name," "]})})},null===e||void 0===e?void 0:e._id)})))]})})]})})}t(89);var E=t(30),U=function(e){var a=e.component,t=Object(E.a)(e,["component"]),s=Object(n.useContext)(S).state;return Object(p.jsx)(l.b,Object(b.a)(Object(b.a)({},t),{},{render:function(e){return s.isLoggedIn?Object(p.jsx)(a,Object(b.a)({},e)):Object(p.jsx)(l.a,{to:{pathname:"/admin/login"}})}}))},Q=function(e){var a=e.component,t=Object(E.a)(e,["component"]),s=Object(n.useContext)(S).state;return Object(p.jsx)(l.b,Object(b.a)(Object(b.a)({},t),{},{render:function(e){return"1"==s.role?Object(p.jsx)(a,Object(b.a)({},e)):Object(p.jsx)(l.a,{to:{pathname:"/403"}})}}))},M=(t(90),t(10));function q(){var e=Object(l.g)(),a=(Object(l.h)(),Object(M.useToasts)().addToast),t=Object(n.useRef)(),s=Object(n.useRef)(),c=Object(n.useState)(null),o=Object(j.a)(c,2),r=(o[0],o[1],Object(n.useContext)(S)),m=r.dispatch,b=r.state,v=Object(n.useState)(!1),h=Object(j.a)(v,2),O=h[0],f=h[1],x=function(){var n=Object(u.a)(d.a.mark((function n(c){var o,i,l,r,u,j,b,p,v,h,O,x,g,_,N,y,k,w,C,S,D,T,A,F;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.preventDefault(),o=t.current.value,i=s.current.value,""!==o){n.next=8;break}return a("Please enter email address",{appearance:"error",autoDismiss:!0}),n.abrupt("return",!1);case 8:if(""!==i){n.next=14;break}return a("Please enter password",{appearance:"error",autoDismiss:!0}),s.current.focus(),n.abrupt("return",!1);case 14:return f(!0),r={email:t.current.value,password:s.current.value},n.next=18,L.a.post("".concat(B,"v1/admin/login"),r);case 18:203===(null===(u=n.sent)||void 0===u||null===(l=u.data)||void 0===l?void 0:l.status)?(a("".concat(null===u||void 0===u||null===(j=u.data)||void 0===j?void 0:j.message),{appearance:"error",autoDismiss:!0}),f(!1)):(k=null===u||void 0===u||null===(b=u.data)||void 0===b?void 0:b.accessToken,w=null===u||void 0===u||null===(p=u.data)||void 0===p?void 0:p.refreshToken,C=null===u||void 0===u||null===(v=u.data)||void 0===v||null===(h=v.admin)||void 0===h?void 0:h.fullname,S=null===u||void 0===u||null===(O=u.data)||void 0===O||null===(x=O.admin)||void 0===x?void 0:x.email,D=null===u||void 0===u||null===(g=u.data)||void 0===g||null===(_=g.admin)||void 0===_?void 0:_.role,T="master_admin",A=null===u||void 0===u||null===(N=u.data)||void 0===N||null===(y=N.admin)||void 0===y?void 0:y.created_at,F=!0,localStorage.setItem("access_token",k),localStorage.setItem("refresh_token",w),localStorage.setItem("fullname",C),localStorage.setItem("email",S),localStorage.setItem("role",D),localStorage.setItem("user_type",T),localStorage.setItem("created_at",A),localStorage.setItem("isLoggedIn",F),m({type:"LOGIN",payload:{isLoggedIn:F,fullname:C,email:S,role:D,user_type:T,created_at:A,access_token:k,refresh_token:w}}),e.push("/admin/dashboard"));case 20:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();function g(){return(g=Object(u.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:!0===(null===b||void 0===b?void 0:b.isLoggedIn)?"1"===(null===b||void 0===b?void 0:b.role)?e.push("/admin/dashboard"):e.push("/sub/dashboard"):e.push("/admin/login");case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return g.apply(this,arguments)}),[b]),Object(p.jsxs)("div",{className:"container-fluid p-0 m-0 text-center LoginBg",style:{background:"url('/bg.jpg')"},children:[Object(p.jsx)("div",{className:"col-md-12",children:Object(p.jsx)(i.c,{to:"/",children:Object(p.jsx)("img",{className:"logo img-responsive",style:{width:"75px"},alt:"company Logo",src:"/logo.png"})})}),Object(p.jsx)("div",{className:"row no-gutter",children:Object(p.jsxs)("div",{className:"col-md-3 adminLoginDiv",children:[Object(p.jsx)("h4",{children:"Administrator Login "}),Object(p.jsx)("hr",{}),Object(p.jsxs)("form",{autoComplete:"Off",onSubmit:x,children:[Object(p.jsxs)("div",{className:"form-group text-left",children:[Object(p.jsxs)("label",{children:[" ",Object(p.jsx)("span",{className:"fa fa-send mr-2"})," Email address"]}),Object(p.jsx)("input",{className:"form-control",type:"email",autoComplete:"off",ref:t,placeholder:"Enter email"}),Object(p.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your email with anyone else."})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{className:"form-group text-left",children:[Object(p.jsxs)("label",{children:[" ",Object(p.jsx)("span",{className:"fa fa-lock mr-2"})," Password"]}),Object(p.jsx)("input",{className:"form-control",type:"password",autoComplete:"Off",ref:s,placeholder:"Password"}),Object(p.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your password with anyone else."})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("button",{className:"btn btn-md btn-block btn-success dark w-100",type:"submit",disabled:O,children:O?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2",children:" "})," Authenticating..."]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-lock mr-2",children:" "})," Login Your Account"]})})]})]})})]})}t(97);function R(){var e=Object(l.g)(),a=Object(l.h)(),t=null===a||void 0===a?void 0:a.pathname,s=Object(n.useContext)(S).state;function c(){return(c=Object(u.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:"/admin/"===t&&e.push("/admin/dashboard");case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return c.apply(this,arguments)}),[s]),Object(p.jsx)(p.Fragment,{children:s.isLoggedIn&&Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"Dashboard"})}),Object(p.jsx)("div",{className:"dash_over_view",children:Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-12 pl-0",children:1===s.role&&Object(p.jsx)("div",{className:"col-md-3 card ml-3  pt-2 pb-2 main-box gradient-ibiza",children:Object(p.jsxs)("div",{className:"card-body pt-0 pb-0 pl-0",children:[Object(p.jsxs)("div",{className:"box-head",children:[Object(p.jsx)("h4",{children:"Admin"}),Object(p.jsx)("div",{className:"box-icon",children:Object(p.jsx)("span",{className:"fa fa-users"})})]}),Object(p.jsx)("div",{className:"main-box-text",children:Object(p.jsx)("b",{children:"Total: 1 "})})]})})})})})]})})})})}var H=t(12),G=(t(52),function(e){var a,t,n;return null===e||void 0===e||null===(a=e.trim())||void 0===a||null===(t=a.toLowerCase())||void 0===t||null===(n=t.replace(/[^\w ]+/g,""))||void 0===n?void 0:n.replace(/ +/g,"-")});var W=t(28),$=t(108);function Y(){var e=Object(n.useContext)(S).state;return Object(A.a)("roles",Object(u.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.access_token){a.next=5;break}return a.next=3,L.a.get("".concat(B,"v1/role/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return t=a.sent,a.abrupt("return",t.data.data);case 5:case"end":return a.stop()}}),a)}))))}function J(){var e,a=Object(l.g)(),t=Object(l.i)(),s=(Object(l.h)().pathname,Object(n.useState)(!1)),c=Object(j.a)(s,2),o=c[0],i=c[1],r=function(){var e=Object(l.i)(),a=null===e||void 0===e?void 0:e.admin_id,t=Object(n.useContext)(S).state;return Object(A.a)("single-admin-".concat(a),Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,L.a.get("".concat(B,"v1/admin/view/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,m=Y().data,v=Object(n.useState)(),h=Object(j.a)(v,2),O=h[0],f=h[1],x=Object(n.useState)({}),g=Object(j.a)(x,2),_=g[0],N=g[1];function y(){N({}),i(!1)}Object(n.useEffect)((function(){f(r)}),[r]);var k=function(e){var a=Object(W.b)(),t=Object(n.useContext)(S).state,s=(Object(l.i)(),Object(l.h)().pathname),c=Object(l.g)(),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},i=Object(M.useToasts)().addToast;return Object($.a)((function(e){return L.a.post("".concat(B,"v1/admin/register"),e,o)}),{onSuccess:function(){a.invalidateQueries("sub-admins"),i("App Module added successfully",{appearance:"success",autoDismiss:!0}),c.push("".concat(s))},onError:function(){i("Error White Creating Modules",{appearance:"error",autoDismiss:!0})},retry:3})}(),w=function(e){var a=Object(W.b)(),t=Object(n.useContext)(S).state,s=Object(l.i)(),c=(Object(l.h)().pathname,Object(l.g)()),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},i=Object(M.useToasts)().addToast;return Object($.a)((function(e){return L.a.patch("".concat(B,"v1/sub-admin/update/").concat(null===s||void 0===s?void 0:s.admin_id),e,o)}),{onSuccess:function(){a.invalidateQueries("sub-admins"),i("Module updated successfully",{appearance:"success",autoDismiss:!0}),c.push("/admin/manage-sub-admins")},onError:function(){i("Error White Updating Modules",{appearance:"error",autoDismiss:!0})},retry:3})}(),C=function(e){var a=Object(W.b)(),t=Object(n.useContext)(S).state,s=Object(l.i)(),c=(Object(l.h)().pathname,Object(l.g)()),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},i=Object(M.useToasts)().addToast;return Object($.a)((function(e){return L.a.post("".concat(B,"v1/sub-admin/delete/").concat(null===s||void 0===s?void 0:s.admin_id),e,o)}),{onSuccess:function(){a.invalidateQueries("sub-admins"),i("Module deleted successfully",{appearance:"success",autoDismiss:!0}),c.push("/admin/manage-sub-admins")},onError:function(){i("Error White Updating Modules",{appearance:"error",autoDismiss:!0})},retry:3})}(),D=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),i(!0),!(null===t||void 0===t?void 0:t.module_id)){e.next=7;break}return e.next=5,w.mutate(_);case 5:e.next=9;break;case 7:return e.next=9,k.mutate(_);case 9:y();case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function T(){return(T=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),_.module_id=null===t||void 0===t?void 0:t.module_id,e.next=4,C.mutate(_);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"New SubAdmin"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:D,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control",name:"role",onChange:function(e){(null===t||void 0===t?void 0:t.module_id)?f(Object(b.a)(Object(b.a)({},O),{},{role:e.target.value})):N(Object(b.a)(Object(b.a)({},_),{},Object(H.a)({},e.target.name,e.target.value)))},children:[Object(p.jsx)("option",{value:"_",children:"Select Roles"}),null===m||void 0===m?void 0:m.map((function(e){if((null===e||void 0===e?void 0:e.role_id)>1)return Object(p.jsx)("option",{value:null===e||void 0===e?void 0:e.role_id,children:null===e||void 0===e?void 0:e.role_name},null===e||void 0===e?void 0:e._id)}))]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"first_name",value:(null===t||void 0===t?void 0:t.module_id)?null===O||void 0===O?void 0:O.first_name:null===_||void 0===_?void 0:_.first_name,onChange:function(e){(null===t||void 0===t?void 0:t.module_id)?f(Object(b.a)(Object(b.a)({},O),{},{first_name:e.target.value})):N(Object(b.a)(Object(b.a)({},_),{},Object(H.a)({},e.target.name,e.target.value)))},placeholder:"First Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"last_name",value:(null===t||void 0===t?void 0:t.module_id)?null===O||void 0===O?void 0:O.last_name:null===_||void 0===_?void 0:_.last_name,onChange:function(e){(null===t||void 0===t?void 0:t.module_id)?f(Object(b.a)(Object(b.a)({},O),{},{last_name:e.target.value})):N(Object(b.a)(Object(b.a)({},_),{},Object(H.a)({},e.target.name,e.target.value)))},placeholder:"Last Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"email",value:(null===t||void 0===t?void 0:t.module_id)?null===O||void 0===O?void 0:O.email:null===_||void 0===_?void 0:_.email,onChange:function(e){(null===t||void 0===t?void 0:t.module_id)?f(Object(b.a)(Object(b.a)({},O),{},{email:e.target.value})):N(Object(b.a)(Object(b.a)({},_),{},Object(H.a)({},e.target.name,e.target.value)))},placeholder:"Email address"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"password",value:(null===t||void 0===t?void 0:t.module_id)?null===O||void 0===O?void 0:O.password:null===_||void 0===_?void 0:_.password,onChange:function(e){(null===t||void 0===t?void 0:t.module_id)?f(Object(b.a)(Object(b.a)({},O),{},{password:e.target.value})):N(Object(b.a)(Object(b.a)({},_),{},Object(H.a)({},e.target.name,e.target.value)))},placeholder:"password"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark br-5",children:o?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("span",{className:"fa fa-spinner mr-2"})}):Object(p.jsx)(p.Fragment,{children:(null===t||void 0===t?void 0:t.admin_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Update"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Save"]})})}),(null===t||void 0===t?void 0:t.admin_id)&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("button",{className:"btn btn-sm dark bg-warning ml-2 br-5",onClick:function(e){e.preventDefault(),y(),f({}),a.push("/admin/app-module")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]}),Object(p.jsx)("button",{className:"btn btn-sm dark bg-danger ml-2 br-5",onClick:function(e){return T.apply(this,arguments)},disbaled:null===C||void 0===C||null===(e=C.isLoading)||void 0===e?void 0:e.toString(),children:(null===C||void 0===C?void 0:C.isLoading)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"})," ... "]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-trash mr-2"})," Delete"]})})]})]})]})]})}function Z(e){var a=e.sub_admin,t=Object(l.g)();return Object(p.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"row-reverse"},children:Object(p.jsx)("span",{className:"fa fa-pencil-square mr-2 text-success pointer",onClick:function(e){e.preventDefault(),t.push("/admin/manage-sub-admin/".concat(null===a||void 0===a?void 0:a._id))}})})}function K(e){var a=e.sub_admin;return Object(p.jsx)("div",{className:"lg-card",children:Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsxs)("div",{className:"col-md-10",children:[Object(p.jsxs)("div",{className:"flex",children:["Name: ",Object(p.jsxs)("span",{children:[null===a||void 0===a?void 0:a.first_name," ",null===a||void 0===a?void 0:a.last_name]})]}),Object(p.jsxs)("div",{className:"flex",children:["Email: ",Object(p.jsx)("span",{children:null===a||void 0===a?void 0:a.email})]}),Object(p.jsxs)("div",{className:"flex",children:["Role: ",Object(p.jsx)("span",{children:null===a||void 0===a?void 0:a.role})]})]}),Object(p.jsx)(Z,{sub_admin:a})]})})}function V(){var e=function(){var e=Object(n.useContext)(S).state;return Object(A.a)("sub-admins",Object(u.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.access_token||"master_admin"!=(null===e||void 0===e?void 0:e.user_type)){a.next=5;break}return a.next=3,L.a.get("".concat(B,"v1/admin/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return t=a.sent,a.abrupt("return",t.data.data);case 5:case"end":return a.stop()}}),a)}))))}(),a=e.data,t=e.isLoading;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"App admins"]}),Object(p.jsx)("hr",{className:"mt-1"}),t&&Object(p.jsx)(z,{isLoading:t}),Object(p.jsx)("div",{className:"col-md-12 row no-gutter data-container pr-0",children:null===a||void 0===a?void 0:a.map((function(e){return Object(p.jsx)(K,{sub_admin:e},null===e||void 0===e?void 0:e._id)}))})]})}t(98);function X(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(M.useToasts)().addToast,s=function(e){Object(l.i)();var a=Object(n.useContext)(S).state;return Object(A.a)("single-module-".concat(e),Object(u.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e){t.next=5;break}return t.next=3,L.a.get("".concat(B,"v1/school/view/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return n=t.sent,t.abrupt("return",n.data.data);case 5:case"end":return t.stop()}}),t)}))))}(null===a||void 0===a?void 0:a.school_id).data,c=Object(n.useState)({}),o=Object(j.a)(c,2),i=o[0],r=o[1],m=Object(n.useState)(0),v=Object(j.a)(m,2),h=(v[0],v[1]),O={school_name:"",address:"",city:"",school_logo:"",pincode:"",state:"",contact_name:"",contact_mobile:"",contact_email:""},f=Object(n.useState)({}),x=Object(j.a)(f,2),g=x[0],_=x[1];Object(n.useEffect)((function(){_(O),r(O)}),[null===a||void 0===a?void 0:a.page_type]),Object(n.useEffect)((function(){void 0!==s&&r(s)}),[s]);var N=function(e){var a=Object(W.b)(),t=Object(n.useContext)(S).state,s=(Object(l.i)(),Object(l.h)().pathname,Object(l.g)()),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},o=Object(M.useToasts)().addToast;return Object($.a)((function(e){return L.a.post("".concat(B,"v1/school/create"),e,c)}),{onSuccess:function(){a.invalidateQueries("schools"),o("School added successfully",{appearance:"success",autoDismiss:!0}),s.push("/admin/school-management")}})}(),y=function(e){var a=Object(l.i)(),t=(Object(l.h)().pathname,Object(l.g)()),s=Object(W.b)(),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(S).state.access_token}},o=Object(M.useToasts)().addToast;return Object($.a)((function(e){var t=null===a||void 0===a?void 0:a.school_id;return L.a.patch("".concat(B,"v1/school/update/").concat(t),e,c)}),{onSuccess:function(){s.invalidateQueries("schools"),o("Category Updated successfully",{appearance:"success",autoDismiss:!0}),t.push("/admin/school-management")}})}(),k=function(e){Object(l.h)().pathname;var a=Object(l.g)(),t=Object(W.b)(),s={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(S).state.access_token}},c=Object(M.useToasts)().addToast;return Object($.a)((function(e){return L.a.post("".concat(B,"v1/school/delete"),e,s)}),{onSuccess:function(){t.invalidateQueries("schools"),a.push("/admin/school-management"),c("Schools deleted successfully",{appearance:"success",autoDismiss:!0})}})}(),w=function(e){Object(W.b)();var a=Object(n.useContext)(S).state,t=(Object(l.i)(),Object(l.h)().pathname,Object(l.g)(),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}}),s=Object(M.useToasts)().addToast;return Object($.a)((function(e){return L.a.post("".concat(B,"v1/school/subdomain"),e,t)}),{onSuccess:function(e){var a,t,n;1===(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.count)?s(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,{appearance:"error",autoDismiss:!0}):s(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message,{appearance:"success",autoDismiss:!0})}})}(),C=function(){var e=Object(u.a)(d.a.mark((function e(n){var s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),g.school_name=(null===a||void 0===a?void 0:a.school_id)?null===i||void 0===i?void 0:i.school_name:null===g||void 0===g?void 0:g.school_name,g.contact_name=(null===a||void 0===a?void 0:a.school_id)?null===i||void 0===i?void 0:i.contact_name:null===g||void 0===g?void 0:g.contact_name,g.school_slug=G((null===a||void 0===a?void 0:a.school_id)?null===i||void 0===i?void 0:i.name:null===g||void 0===g?void 0:g.name),!(null===a||void 0===a?void 0:a.school_id)){e.next=9;break}return e.next=7,y.mutate(i);case 7:e.next=39;break;case 9:if(""!=(null===g||void 0===g?void 0:g.school_name)){e.next=13;break}t("Please Enter school name",{appearance:"error",autoDismiss:!0}),e.next=39;break;case 13:if("1"!=(null===g||void 0===g?void 0:g.sub_domain)){e.next=17;break}t("Please check another domain",{appearance:"error",autoDismiss:!0}),e.next=39;break;case 17:if(""!=(null===g||void 0===g?void 0:g.contact_email)){e.next=21;break}t("Please provide admin email",{appearance:"error",autoDismiss:!0}),e.next=39;break;case 21:if(!1!==I(null===g||void 0===g?void 0:g.pincode)){e.next=25;break}t("Please enter numbers only",{appearance:"error",autoDismiss:!0}),e.next=39;break;case 25:if(!((null===g||void 0===g||null===(s=g.pincode)||void 0===s?void 0:s.length)<6)){e.next=29;break}t("Please provide valid zip code",{appearance:"error",autoDismiss:!0}),e.next=39;break;case 29:if(!((null===g||void 0===g||null===(c=g.contact_mobile)||void 0===c?void 0:c.length)<10)){e.next=33;break}t("Please enter validcontact_ mobile number",{appearance:"error",autoDismiss:!0}),e.next=39;break;case 33:if(!1!==I(null===g||void 0===g?void 0:g.contact_mobile)){e.next=37;break}t("Please enter valid mobile number",{appearance:"error",autoDismiss:!0}),e.next=39;break;case 37:return e.next=39,N.mutate(g);case 39:_({}),r({});case 41:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function D(){return(D=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(null===a||void 0===a?void 0:a.school_id)){e.next=5;break}return g.school_id=null===a||void 0===a?void 0:a.school_id,e.next=5,k.mutate(g);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===a||void 0===a?void 0:a.school_id)?r(Object(b.a)(Object(b.a)({},i),{},Object(H.a)({},t.target.name,t.target.value))):_(Object(b.a)(Object(b.a)({},g),{},Object(H.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){var a=(e=e||window.event).which?e.which:e.keyCode;return!(a>31&&(a<48||a>57))}function z(e){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(d.a.mark((function e(a){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===I(a.target.value)?(t("Please provide valid ".concat(a.target.name),{appearance:"error",autoDismiss:!0}),document.getElementsByName("".concat(a.target.name))[0].innerText="",document.getElementsByName("".concat(a.target.name))[0].focus()):("mobile"===a.target.name&&(null===(n=a.target.value)||void 0===n?void 0:n.length)<10||"zip_code"===a.target.name&&(null===(s=a.target.value)||void 0===s?void 0:s.length)<6)&&(t("Please provide valid ".concat(a.target.name),{appearance:"error",autoDismiss:!0}),document.getElementsByName("".concat(a.target.name))[0].innerHTML=null,document.getElementsByName("".concat(a.target.name))[0].focus());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a.target.value).toLowerCase())&&(t("Please provide valid ".concat(a.target.name),{appearance:"error",autoDismiss:!0}),document.getElementsByName("".concat(a.target.name))[0].innerHTML=null,document.getElementsByName("".concat(a.target.name))[0].focus());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(u.a)(d.a.mark((function e(t){var n,s,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t.target.value,s=n.split("/d/"),c=s[1].split("/"),o=c[0],n.length>0&&((null===a||void 0===a?void 0:a.school_id)?r(Object(b.a)(Object(b.a)({},i),{},{school_logo:o})):_(Object(b.a)(Object(b.a)({},g),{},{school_logo:o})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(){var e=Object(u.a)(d.a.mark((function e(a){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,""===a.target.value){e.next=6;break}return e.next=5,w.mutate({sub_domain:a.target.value});case 5:"success"==(null===w||void 0===w?void 0:w.status)&&("1"==(null===w||void 0===w||null===(t=w.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.count)?(h(1),a.target.value="",a.target.focus()):h(0));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New School"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:C,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"school_name",value:(null===a||void 0===a?void 0:a.school_id)?null===i||void 0===i?void 0:i.school_name:null===g||void 0===g?void 0:g.school_name,onChange:T,autoComplete:"Off",placeholder:"School Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"sub_domain",value:(null===a||void 0===a?void 0:a.school_id)?null===i||void 0===i?void 0:i.sub_domain:null===g||void 0===g?void 0:g.sub_domain,onChange:T,onBlur:Q,autoComplete:"no-password",placeholder:"sub domain name"})}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("input",{type:"text",className:"form-control",name:"school_logo",value:(null===a||void 0===a?void 0:a.school_id)?null===i||void 0===i?void 0:i.school_logo:null===g||void 0===g?void 0:g.school_logo,onChange:T,onBlur:function(e){return U.apply(this,arguments)},autoComplete:"no-password",placeholder:"School logo image urls"}),Object(p.jsx)("span",{style:{fontSize:"0.7rem"},children:"Note: Please copy public image url."})]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"address",value:(null===a||void 0===a?void 0:a.school_id)?null===i||void 0===i?void 0:i.address:null===g||void 0===g?void 0:g.address,onChange:T,autoComplete:"no-password",placeholder:"address"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"city",value:(null===a||void 0===a?void 0:a.school_id)?null===i||void 0===i?void 0:i.city:null===g||void 0===g?void 0:g.city,onChange:T,autoComplete:"no-password",placeholder:"city"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"state",value:(null===a||void 0===a?void 0:a.school_id)?null===i||void 0===i?void 0:i.state:null===g||void 0===g?void 0:g.state,onChange:T,autoComplete:"no-password",placeholder:"state"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"pincode",maxLength:6,value:(null===a||void 0===a?void 0:a.school_id)?null===i||void 0===i?void 0:i.pincode:null===g||void 0===g?void 0:g.pincode,onChange:T,autoComplete:"no-password",onBlur:z,placeholder:"pincode"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"contact_name",value:(null===a||void 0===a?void 0:a.school_id)?null===i||void 0===i?void 0:i.contact_name:null===g||void 0===g?void 0:g.contact_name,onChange:T,autoComplete:"no-password",placeholder:"contact_name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"contact_email",value:(null===a||void 0===a?void 0:a.school_id)?null===i||void 0===i?void 0:i.contact_email:null===g||void 0===g?void 0:g.contact_email,onChange:T,onBlur:function(e){return E.apply(this,arguments)},autoComplete:"no-password",placeholder:"contact_email"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"contact_mobile",value:(null===a||void 0===a?void 0:a.school_id)?null===i||void 0===i?void 0:i.contact_mobile:null===g||void 0===g?void 0:g.contact_mobile,onChange:T,maxLength:10,onBlur:z,autoComplete:"no-password",placeholder:"contact_mobile"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark br-5",children:N.isLoading||y.isLoading?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("span",{className:"fa fa-spinner mr-2"})}):Object(p.jsx)(p.Fragment,{children:(null===a||void 0===a?void 0:a.school_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"}),"Update"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"}),"Save"]})})}),(null===a||void 0===a?void 0:a.school_id)&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("button",{type:"button",className:"btn btn-sm bg-danger br-5 text-white ml-2",onClick:function(a){a.preventDefault(),_({}),r({}),e.push("/admin/school-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]}),Object(p.jsxs)("button",{type:"button",className:"btn btn-sm bg-warning br-5 text-white ml-2",onClick:function(e){return D.apply(this,arguments)},children:[k.isLoading?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("span",{className:"fa fa-spinner mr-2"})}):Object(p.jsx)("span",{className:"fa fa-trash mr-2"}),"Delete"]})]})]})]})]})}function ee(){var e=Object(n.useContext)(S).state;return Object(A.a)("schools",Object(u.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.access_token){a.next=5;break}return a.next=3,L.a.get("".concat(B,"v1/school/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return t=a.sent,a.abrupt("return",t.data.data);case 5:case"end":return a.stop()}}),a)}))))}function ae(){var e=ee(),a=e.data,t=e.isLoading,n=Object(l.g)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New School"]}),Object(p.jsx)("hr",{className:"mt-1"}),t&&Object(p.jsx)(z,{isLoading:t}),Object(p.jsx)("div",{className:"col-md-12 row",style:{height:"auto !important",maxHeight:"380px",overflowY:"scroll"},children:!t&&(null===a||void 0===a?void 0:a.map((function(e){var a;return Object(p.jsx)("div",{className:"card mb-2 pl-3 pr-2 col-md-12 no-gutter",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-2 pl-2 pt-2",children:Object(p.jsx)("img",{src:"https://drive.google.com/uc?export=view&id=".concat(null===e||void 0===e?void 0:e.school_logo),style:{height:"100px"},className:"img-responsive"})}),Object(p.jsxs)("div",{className:"col-md-9 pr-4 pl-3",children:[Object(p.jsxs)("div",{className:"flex",children:[Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label mr-3",children:"School Name:"}),Object(p.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.school_name})]}),Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label mr-3",children:"School Domain:"}),Object(p.jsx)("div",{className:"name-main text-lower",children:Object(p.jsx)("a",{href:"https://".concat(null===e||void 0===e||null===(a=e.sub_domain)||void 0===a?void 0:a.toLowerCase(),".acadelearn.com/"),target:"__blank",children:null===e||void 0===e?void 0:e.sub_domain})})]})]}),Object(p.jsxs)("div",{className:"flex",children:[Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label mr-3",children:"Address:"}),Object(p.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.address})]}),Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label mr-3",children:"Contact Location:"}),Object(p.jsxs)("div",{className:"name-main text-lower",children:[null===e||void 0===e?void 0:e.city,",",null===e||void 0===e?void 0:e.state]})]})]}),Object(p.jsxs)("div",{className:"flex",children:[Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label mr-3",children:"Pincode:"}),Object(p.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.pincode})]}),Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label mr-3",children:"Contact person:"}),Object(p.jsx)("div",{className:"name-main text-lower",children:null===e||void 0===e?void 0:e.contact_name})]})]}),Object(p.jsxs)("div",{className:"flex",children:[Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label mr-3",children:"Contact Email:"}),Object(p.jsx)("div",{className:"name-main text-lower",children:null===e||void 0===e?void 0:e.contact_email})]}),Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label mr-3",children:"Contact Mobile:"}),Object(p.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.contact_mobile})]})]})]}),Object(p.jsxs)("div",{className:"col-md-12 pl-0 pr-0 pb-2",children:[Object(p.jsx)("hr",{className:"mb-1"}),Object(p.jsx)("div",{className:"pl-2 pr-2",children:Object(p.jsx)("span",{className:"fa fa-pencil text-warning mr-2 pointer",onClick:function(a){n.push("/admin/school-management/modify-school/".concat(null===e||void 0===e?void 0:e._id))}})})]})]})},null===e||void 0===e?void 0:e._id)})))})]})}function te(){var e,a=Object(l.g)(),t=Object(l.i)(),s=(Object(l.h)().pathname,Object(M.useToasts)().addToast,Object(n.useContext)(S).state,[{key:"master_admin",value:"Master Admin"},{key:"sub_admin",value:"Sub Admin"},{key:"app_module",value:"App Module"}]),c=Object(n.useState)(""),o=Object(j.a)(c,2),i=o[0],r=o[1],m=Object(n.useState)(""),v=Object(j.a)(m,2),h=v[0],O=v[1],f=Object(n.useState)(""),x=Object(j.a)(f,2),g=x[0],_=x[1],N=Object(n.useState)(""),y=Object(j.a)(N,2),k=y[0],w=y[1],C=Object(n.useState)(!1),D=Object(j.a)(C,2),T=D[0],F=D[1],z=function(){var e=Object(l.i)(),a=null===e||void 0===e?void 0:e.module_id,t=Object(n.useContext)(S).state;return Object(A.a)("single-module-".concat(a),Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,L.a.get("".concat(B,"v1/module/view/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,P=I().data,E=Object(n.useState)(),U=Object(j.a)(E,2),Q=U[0],q=U[1],R=Object(n.useState)({}),H=Object(j.a)(R,2),Y=H[0];H[1];function J(){r(""),O(""),q({}),F(!1)}Object(n.useEffect)((function(){q(z)}),[z]);var Z=function(e){var a=Object(W.b)(),t=Object(n.useContext)(S).state,s=(Object(l.i)(),Object(l.h)().pathname),c=Object(l.g)(),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},i=Object(M.useToasts)().addToast;return Object($.a)((function(e){return L.a.post("".concat(B,"v1/module/create"),e,o)}),{onSuccess:function(){a.invalidateQueries("app-modules"),i("App Module added successfully",{appearance:"success",autoDismiss:!0}),c.push("".concat(s))},onError:function(){i("Error White Creating Modules",{appearance:"error",autoDismiss:!0})},retry:3})}(),K=function(e){var a=Object(W.b)(),t=Object(n.useContext)(S).state,s=Object(l.i)(),c=(Object(l.h)().pathname,Object(l.g)()),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},i=Object(M.useToasts)().addToast;return Object($.a)((function(e){return L.a.patch("".concat(B,"v1/module/update/").concat(null===s||void 0===s?void 0:s.module_id),e,o)}),{onSuccess:function(){a.invalidateQueries("app-modules"),i("Module updated successfully",{appearance:"success",autoDismiss:!0}),c.push("/admin/app-module")},onError:function(){i("Error White Updating Modules",{appearance:"error",autoDismiss:!0})},retry:3})}(),V=function(e){var a=Object(W.b)(),t=Object(n.useContext)(S).state,s=Object(l.i)(),c=(Object(l.h)().pathname,Object(l.g)()),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},i=Object(M.useToasts)().addToast;return Object($.a)((function(e){return L.a.post("".concat(B,"v1/module/delete/").concat(null===s||void 0===s?void 0:s.module_id),e,o)}),{onSuccess:function(){a.invalidateQueries("app-modules"),i("Module deleted successfully",{appearance:"success",autoDismiss:!0}),c.push("/admin/app-module")},onError:function(){i("Error White Updating Modules",{appearance:"error",autoDismiss:!0})},retry:3})}(),X=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),F(!0),Y.module_name=(null===t||void 0===t?void 0:t.module_id)?null===Q||void 0===Q?void 0:Q.module_name:i,Y.module_slug=G((null===t||void 0===t?void 0:t.module_id)?null===Q||void 0===Q?void 0:Q.module_name:i),Y.module_icon=(null===t||void 0===t?void 0:t.module_id)?null===Q||void 0===Q?void 0:Q.module_icon:h,Y.module_sequence=(null===t||void 0===t?void 0:t.module_id)?null===Q||void 0===Q?void 0:Q.module_sequence:g,(null===t||void 0===t?void 0:t.module_id)?Y.module_type=null===Q||void 0===Q?void 0:Q.module_type:Y.module_type=k,!(null===t||void 0===t?void 0:t.module_id)){e.next=12;break}return e.next=10,K.mutate(Y);case 10:e.next=14;break;case 12:return e.next=14,Z.mutate(Y);case 14:J();case 15:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function ee(){return(ee=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),Y.module_id=null===t||void 0===t?void 0:t.module_id,e.next=4,V.mutate(Y);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Create App Module"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:X,children:[Object(p.jsx)("div",{className:"form-group p-rel",children:Object(p.jsxs)("select",{name:"module_type",className:"form-control",value:null===Q||void 0===Q?void 0:Q.module_type,onChange:function(e){(null===t||void 0===t?void 0:t.module_id)?q(Object(b.a)(Object(b.a)({},Q),{},{module_type:e.target.value})):w(e.target.value)},children:[Object(p.jsx)("option",{children:"Select Module Type"}),null===s||void 0===s?void 0:s.map((function(e){return Object(p.jsx)("option",{value:null===e||void 0===e?void 0:e.key,children:null===e||void 0===e?void 0:e.value})}))]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",value:(null===t||void 0===t?void 0:t.module_id)?null===Q||void 0===Q?void 0:Q.module_name:i,onChange:function(e){(null===t||void 0===t?void 0:t.module_id)?q(Object(b.a)(Object(b.a)({},Q),{},{module_name:e.target.value})):r(e.target.value)},placeholder:"Module Name"})}),Object(p.jsxs)("div",{className:"form-group p-rel",children:[Object(p.jsx)("input",{type:"text",className:"form-control ".concat((null===t||void 0===t?void 0:t.module_id)?"pl6x":""),value:(null===t||void 0===t?void 0:t.module_id)?null===Q||void 0===Q?void 0:Q.module_icon:h,placeholder:"Module Icon",onChange:function(e){(null===t||void 0===t?void 0:t.module_id)?q(Object(b.a)(Object(b.a)({},Q),{},{module_icon:e.target.value})):O(e.target.value)}}),Object(p.jsx)("span",{className:"fa p-abs tl10 ".concat(null===Q||void 0===Q?void 0:Q.module_icon)})]}),Object(p.jsx)("div",{className:"form-group p-rel",children:Object(p.jsxs)("select",{name:"module_sequence",className:"form-control",value:null===Q||void 0===Q?void 0:Q.module_sequence,onChange:function(e){(null===t||void 0===t?void 0:t.module_id)?q(Object(b.a)(Object(b.a)({},Q),{},{module_sequence:e.target.value})):_(e.target.value)},children:[Object(p.jsx)("option",{children:"Select Sequence"}),null===P||void 0===P?void 0:P.map((function(e,a){return Object(p.jsx)("option",{value:a,children:a},a)}))]})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark br-5",children:T?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("span",{className:"fa fa-spinner mr-2"})}):Object(p.jsx)(p.Fragment,{children:(null===t||void 0===t?void 0:t.module_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Update"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Save"]})})}),(null===t||void 0===t?void 0:t.module_id)&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("button",{className:"btn btn-sm dark bg-warning ml-2 br-5",onClick:function(e){e.preventDefault(),J(),q({}),a.push("/admin/app-module")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]}),Object(p.jsx)("button",{className:"btn btn-sm dark bg-danger ml-2 br-5",onClick:function(e){return ee.apply(this,arguments)},disbaled:null===V||void 0===V||null===(e=V.isLoading)||void 0===e?void 0:e.toString(),children:(null===V||void 0===V?void 0:V.isLoading)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"})," ... "]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-trash mr-2"})," Delete"]})})]})]})]})]})}function ne(e){var a=e.module,t=Object(l.g)();return Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"row-reverse"},children:[Object(p.jsx)("span",{className:"fa fa-pencil-square mr-2 text-success pointer",onClick:function(e){e.preventDefault(),t.push("/admin/app-module/".concat(null===a||void 0===a?void 0:a._id))}}),Object(p.jsx)("span",{className:"fa fa-eye mr-2 pointer text-danger",onClick:function(e){return t.push("/admin/".concat(null===a||void 0===a?void 0:a.module_slug))}})]})}function se(e){var a=e.module;return Object(p.jsx)("div",{className:"lg-card",children:Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"label-name",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-md-2 flex mr-3",children:[Object(p.jsx)("button",{className:"".concat("master_admin"===(null===a||void 0===a?void 0:a.module_type)?"dark bg-success":"dark"," mr-2"),children:null===a||void 0===a?void 0:a.module_sequence}),Object(p.jsx)("span",{className:"fa ".concat(null===a||void 0===a?void 0:a.module_icon," mt-1 mr-1")})]}),Object(p.jsxs)("div",{className:"col-md-9",children:[Object(p.jsx)("div",{children:null===a||void 0===a?void 0:a.module_name}),Object(p.jsx)("div",{children:null===a||void 0===a?void 0:a.module_type})]})]})}),Object(p.jsx)(ne,{module:a})]})})}function ce(){var e=I(),a=e.data,t=e.isLoading;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"App Modules"]}),Object(p.jsx)("hr",{className:"mt-1"}),t&&Object(p.jsx)(z,{isLoading:t}),Object(p.jsx)("div",{className:"col-md-12 row no-gutter data-container pr-0",children:null===a||void 0===a?void 0:a.map((function(e){return Object(p.jsx)(se,{module:e},null===e||void 0===e?void 0:e._id)}))})]})}t(99);function oe(){var e,a=Object(l.g)(),t=Object(l.i)(),s=(Object(l.h)(),Object(n.useContext)(S).state,Object(n.useState)("")),c=Object(j.a)(s,2),o=c[0],i=c[1],r=Object(n.useState)(!1),m=Object(j.a)(r,2),v=(m[0],m[1]),h=function(){var e=Object(l.i)(),a=null===e||void 0===e?void 0:e.role_id,t=Object(n.useContext)(S).state;return Object(A.a)("single-module-".concat(a),Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,L.a.get("".concat(B,"v1/role/view/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,O=Y().data,f=Object(n.useState)(),x=Object(j.a)(f,2),g=x[0],_=x[1];Object(n.useEffect)((function(){w(O&&(null===O||void 0===O?void 0:O.length))}),[O]);var N=Object(n.useState)(),y=Object(j.a)(N,2),k=y[0],w=y[1];function C(){return(C=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),(null===t||void 0===t?void 0:t.role_id)?_(Object(b.a)(Object(b.a)({},g),{},{role_id:(null===g||void 0===g?void 0:g.role_id)+1})):w(void 0===k?1:+k+1);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),(null===t||void 0===t?void 0:t.role_id)?k===(null===g||void 0===g?void 0:g.role_id)?_(Object(b.a)(Object(b.a)({},g),{},{role_id:k})):_(Object(b.a)(Object(b.a)({},g),{},{role_id:k-1})):k>1&&w(k-1);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=Object(n.useState)({}),F=Object(j.a)(T,2),I=F[0],z=F[1];function P(){i(""),w(O&&(null===O||void 0===O?void 0:O.length)),_({})}Object(n.useEffect)((function(){w(null===h||void 0===h?void 0:h.role_id),_(h)}),[h]);var E=function(e){var a=Object(W.b)(),t=Object(n.useContext)(S).state,s=(Object(l.i)(),Object(l.h)().pathname,Object(l.g)()),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},o=Object(M.useToasts)().addToast;return Object($.a)((function(e){return L.a.post("".concat(B,"v1/role/create"),e,c)}),{onSuccess:function(){a.invalidateQueries("roles"),o("Roles added successfully",{appearance:"success",autoDismiss:!0}),s.push("/admin/app-roles")}})}(),U=function(e){var a=Object(l.i)(),t=(Object(l.h)().pathname,Object(l.g)()),s=Object(W.b)(),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(S).state.access_token}},o=Object(M.useToasts)().addToast;return Object($.a)((function(e){var t=null===a||void 0===a?void 0:a.role_id;return L.a.patch("".concat(B,"v1/role/update/").concat(t),e,c)}),{onSuccess:function(){s.invalidateQueries("roles"),o("Category Updated successfully",{appearance:"success",autoDismiss:!0}),t.push("/admin/app-roles")}})}(),Q=function(){Object(l.h)().pathname;var e=Object(l.g)(),a=Object(W.b)(),t={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(S).state.access_token}},s=Object(M.useToasts)().addToast;return Object($.a)((function(e){return L.a.post("".concat(B,"v1/role/delete"),e,t)}),{onSuccess:function(){a.invalidateQueries("roles"),e.push("/admin/app-roles"),s("Role deleted successfully",{appearance:"success",autoDismiss:!0})}})}(),q=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),v(!0),(null===g||void 0===g?void 0:g.role_name)!==o&&(null===t||void 0===t?void 0:t.role_id)?(I.role_name=null===g||void 0===g?void 0:g.role_name,I.role_slug=G(null===g||void 0===g?void 0:g.role_name)):(I.role_name=o,I.role_slug=G(o)),(null===g||void 0===g?void 0:g.role_id)!==k&&(null===t||void 0===t?void 0:t.role_id)?I.role_id=k:(null===g||void 0===g?void 0:g.role_id)===k&&(null===t||void 0===t?void 0:t.role_id)?I.role_id=null===g||void 0===g?void 0:g.role_id:I.role_id=k,!(null===t||void 0===t?void 0:t.role_id)){e.next=9;break}return e.next=7,U.mutate(I);case 7:e.next=11;break;case 9:return e.next=11,E.mutate(I);case 11:P();case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function R(){return(R=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),z(Object(b.a)(Object(b.a)({},I),{},{role_id:null===t||void 0===t?void 0:t.role_id})),e.next=4,Q.mutate(I);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Create App Role"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:q,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",value:(null===t||void 0===t?void 0:t.role_id)?null===g||void 0===g?void 0:g.role_name:o,onChange:function(e){(null===t||void 0===t?void 0:t.role_id)?_(Object(b.a)(Object(b.a)({},g),{},{role_name:e.target.value})):i(e.target.value)},placeholder:"Role Name"})}),Object(p.jsxs)("div",{className:"form-group p-rel flex",children:[Object(p.jsx)("input",{className:"form-control",type:"text",value:(null===t||void 0===t?void 0:t.role_id)?null===g||void 0===g?void 0:g.role_id:k,readOnly:!0}),Object(p.jsx)("button",{onClick:function(e){return C.apply(this,arguments)},type:"button",className:"bi bi-arrow-up dark btn btn-sm",style:{fontSize:"0.9rem"},activestyle:"outline: none"}),Object(p.jsx)("button",{onClick:function(e){return D.apply(this,arguments)},type:"button",className:"bi bi-arrow-down red btn btn-sm",style:{fontSize:"0.9rem"},activestyle:"outline: none"})]}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark br-5",disabled:(null===E||void 0===E?void 0:E.isLoading)||(null===U||void 0===U?void 0:U.isLoading),children:(null===E||void 0===E?void 0:E.isLoading)||(null===U||void 0===U?void 0:U.isLoading)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:(null===t||void 0===t?void 0:t.role_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Update"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Save"]})})}),(null===t||void 0===t?void 0:t.role_id)&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("button",{type:"button",className:"btn btn-sm bg-warning ml-2 br-5",onClick:function(e){e.preventDefault(),P(),_({}),a.push("/admin/app-roles")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]}),Object(p.jsx)("button",{type:"button",className:"btn btn-sm dark bg-danger ml-2 br-5",onClick:function(e){return R.apply(this,arguments)},disbaled:null===Q||void 0===Q||null===(e=Q.isLoading)||void 0===e?void 0:e.toString(),children:(null===Q||void 0===Q?void 0:Q.isLoading)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"})," ... "]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-trash mr-2"})," Delete"]})})]})]})]})]})}function ie(e){var a=e.role,t=Object(l.g)();return Object(p.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"row-reverse"},children:Object(p.jsxs)("button",{className:"btn btn-sm dark",onClick:function(e){e.preventDefault(),t.push("/admin/app-roles/".concat(null===a||void 0===a?void 0:a._id))},children:[Object(p.jsx)("span",{className:"fa fa-pencil-square mr-2"}),"Edit"]})})}function le(e){var a=e.role;return Object(p.jsx)("div",{className:"lg-card",children:Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsxs)("div",{className:"name-main",children:["RoleName: ",null===a||void 0===a?void 0:a.role_name]}),Object(p.jsxs)("div",{className:"name-main",children:["RoleID: ",null===a||void 0===a?void 0:a.role_id]}),Object(p.jsx)(ie,{role:a})]})})}function re(){var e=Y(),a=e.data,t=e.isLoading;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"App Roles"]}),Object(p.jsx)("hr",{className:"mt-1"}),t&&Object(p.jsx)(z,{isLoading:t}),Object(p.jsx)("div",{className:"col-md-12 row no-gutter data-container",children:null===a||void 0===a?void 0:a.map((function(e){return Object(p.jsx)(le,{role:e},null===e||void 0===e?void 0:e._id)}))})]})}t(100);function de(){var e=Object(n.useContext)(S).state,a=Object(l.i)(),t=null===a||void 0===a?void 0:a.school_slug,s=null===a||void 0===a?void 0:a.role_slug;return Object(A.a)(["permissions-".concat(t,"-").concat(s)],Object(u.a)(d.a.mark((function a(){var n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(null===e||void 0===e?void 0:e.access_token)||void 0===t||void 0===s){a.next=5;break}return a.next=3,L.a.get("".concat(B,"v1/permission/view-all/").concat(t,"/").concat(s),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return n=a.sent,a.abrupt("return",n.data.data);case 5:case"end":return a.stop()}}),a)}))))}function ue(){var e,a=Object(l.g)(),t=Object(l.i)(),s=Object(n.useState)(!1),c=Object(j.a)(s,2),o=(c[0],c[1]),i=(function(){var e=Object(l.i)(),a=null===e||void 0===e?void 0:e.permission_id,t=Object(n.useContext)(S).state;return Object(A.a)("single-permission-".concat(a),Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,L.a.get("".concat(B,"v1/permission/view/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,de().data,ee().data,Y().data),r=I().data,m=Object(n.useState)(),v=Object(j.a)(m,2),h=(v[0],v[1]),O=Object(n.useState)({}),f=Object(j.a)(O,2),x=f[0],g=f[1];function _(){h({}),Array.from(document.querySelectorAll(".checkbox")).map((function(e){e.checked=!1}))}var N=function(e){var a=Object(W.b)(),t=Object(n.useContext)(S).state,s=Object(l.i)(),c=Object(l.h)().pathname,o=Object(l.g)(),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},r=Object(M.useToasts)().addToast;return Object($.a)((function(e){return L.a.post("".concat(B,"v1/permission/create"),e,i)}),{onSuccess:function(){a.invalidateQueries(["permissions-".concat(null===s||void 0===s?void 0:s.school_slug,"-").concat(null===s||void 0===s?void 0:s.role_slug)]),r("Permission added successfully",{appearance:"success",autoDismiss:!0}),o.push("".concat(c))}})}(),y=function(e){var a=Object(l.i)(),t=Object(l.h)().pathname,s=Object(l.g)(),c=Object(W.b)(),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(S).state.access_token}},i=Object(M.useToasts)().addToast;return Object($.a)((function(e){var t=null===a||void 0===a?void 0:a.permission_id;return L.a.patch("".concat(B,"v1/permission/update/").concat(t),e,o)}),{onSuccess:function(){c.invalidateQueries("permissions"),i("Permissions Updated successfully",{appearance:"success",autoDismiss:!0}),s.push("".concat(t))}})}(),k=function(){Object(l.h)().pathname;var e=Object(l.g)(),a=Object(W.b)(),t={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(S).state.access_token}},s=Object(M.useToasts)().addToast;return Object($.a)((function(e){return L.a.post("".concat(B,"v1/permission/delete"),e,t)}),{onSuccess:function(){a.invalidateQueries(["permissions"]),e.push("/admin/app-permissions"),s("Permission deleted successfully",{appearance:"success",autoDismiss:!0})}})}(),w=function(){var e=Object(u.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),o(!0),!(null===t||void 0===t?void 0:t.permission_id)){e.next=7;break}return e.next=5,y.mutate(x);case 5:e.next=15;break;case 7:return n=[],Array.from(document.querySelectorAll(".checkbox")).map((function(e){if(!0===e.checked){var a=e.value,s=a.split("_")[0],c=a.split("_")[1],o=a.split("_")[2];n.push({role_id:null===t||void 0===t?void 0:t.role_id,role_slug:null===t||void 0===t?void 0:t.role_slug,school_id:null===t||void 0===t?void 0:t.school_id,school_slug:null===t||void 0===t?void 0:t.school_slug,module_id:s,module_slug:c,module_icon:o})}})),console.log(n),x.school_id=null===t||void 0===t?void 0:t.school_id,x.role_id=null===t||void 0===t?void 0:t.role_id,x.modules=n,e.next=15,N.mutate(x);case 15:_();case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function C(){return(C=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),g(Object(b.a)(Object(b.a)({},x),{},{permission_id:null===t||void 0===t?void 0:t.permission_id})),e.next=4,k.mutate(x);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){e.preventDefault();var a=e.target.value;Array.from(document.querySelectorAll(".checkbox")).map((function(t){(null===t||void 0===t?void 0:t.module_slug)===a&&(e.target.checked=!0)}))}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Permission"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:w,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control",value:"".concat(null===t||void 0===t?void 0:t.role_id,"_").concat(null===t||void 0===t?void 0:t.role_slug),onChange:function(e){if("_"!==e.target.value){var t=e.target.value,n=t.split("_")[0],s=t.split("_")[1];a.push("/admin/app-permissions/".concat(n,"/").concat(s))}else a.push("/admin/app-permissions")},children:[Object(p.jsx)("option",{value:"_",children:"Select Roles"}),null===i||void 0===i?void 0:i.map((function(e){if("master-admin"!==(null===e||void 0===e?void 0:e.role_slug))return Object(p.jsx)("option",{value:"".concat(null===e||void 0===e?void 0:e._id,"_").concat(null===e||void 0===e?void 0:e.role_slug),children:null===e||void 0===e?void 0:e.role_name},null===e||void 0===e?void 0:e._id)}))]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("div",{className:"col-md-12 pl-0 pr-2",style:{minHeight:"280px",maxHeight:"280px",overflow:"scroll"},children:null===r||void 0===r?void 0:r.map((function(e,a){if("master_admin"!==(null===e||void 0===e?void 0:e.module_type))return Object(p.jsxs)("div",{className:"card pt-0 pb-0 mb-2",children:[Object(p.jsxs)("label",{className:"pb-0 mb-0",htmlFor:"custom-checkbox-".concat(a),children:[Object(p.jsx)("span",{className:"bi ".concat(null===e||void 0===e?void 0:e.module_icon," mr-2 ml-2 ")}),Object(p.jsx)("input",{className:"mr-2 checkbox",type:"checkbox",id:"custom-checkbox-".concat(a),name:"module-".concat(null===e||void 0===e?void 0:e.module_slug),value:"".concat(null===e||void 0===e?void 0:e._id,"-").concat(null===e||void 0===e?void 0:e.module_name,"-").concat(null===e||void 0===e?void 0:e.module_slug),onChange:D}),null===e||void 0===e?void 0:e.module_name]}),Object(p.jsx)("hr",{className:"mt-0 mb-1"}),Object(p.jsxs)("div",{className:"flex ml-2 mr-2",children:[Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",name:"method-".concat(null===e||void 0===e?void 0:e.module_slug),className:"mr-2",value:"create-".concat(null===e||void 0===e?void 0:e.module_slug)}),"craete"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",name:"method-".concat(null===e||void 0===e?void 0:e.module_slug),className:"mr-2",value:"update-".concat(null===e||void 0===e?void 0:e.module_slug)}),"update"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",name:"method-".concat(null===e||void 0===e?void 0:e.module_slug),className:"mr-2",value:"delete-".concat(null===e||void 0===e?void 0:e.module_slug)}),"delete"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",name:"method-".concat(null===e||void 0===e?void 0:e.module_slug),className:"mr-2",value:"upload-".concat(null===e||void 0===e?void 0:e.module_slug)}),"upload"]})]})]},null===e||void 0===e?void 0:e._id)}))})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark br-5",disabled:(null===N||void 0===N?void 0:N.isLoading)||(null===y||void 0===y?void 0:y.isLoading),children:(null===N||void 0===N?void 0:N.isLoading)||(null===y||void 0===y?void 0:y.isLoading)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:(null===t||void 0===t?void 0:t.permission_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Update"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Save"]})})}),(null===t||void 0===t?void 0:t.school_id)&&(null===t||void 0===t?void 0:t.role_id)&&Object(p.jsxs)("button",{type:"button",className:"btn btn-sm bg-warning ml-2 br-5",onClick:function(e){e.preventDefault(),_(),a.push("/admin/app-permissions")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]}),(null===t||void 0===t?void 0:t.permission_id)&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("button",{type:"button",className:"btn btn-sm dark bg-danger ml-2 br-5",onClick:function(e){return C.apply(this,arguments)},disbaled:null===k||void 0===k||null===(e=k.isLoading)||void 0===e?void 0:e.toString(),children:(null===k||void 0===k?void 0:k.isLoading)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"})," ... "]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-trash mr-2"})," Delete"]})})})]})]})]})}function je(e){e.permission,Object(l.g)();return Object(p.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"row-reverse"},children:Object(p.jsx)("button",{className:"btn btn-sm dark",children:Object(p.jsx)("span",{className:"fa fa-trash"})})})}function me(e){var a=e.permission;return Object(p.jsx)("div",{className:"lg-card",children:Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"label-name",children:"Module Name:"}),Object(p.jsxs)("div",{className:"label-name",children:[Object(p.jsx)("span",{className:"fa ".concat(null===a||void 0===a?void 0:a.module_icon," mt-1 mr-2")}),null===a||void 0===a?void 0:a.module_slug]}),Object(p.jsx)(je,{permission:a})]})})}function be(){var e,a=de(),t=a.data,n=a.isLoading,s=Object(l.i)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"App Permissions for",Object(p.jsx)("span",{className:"badge-danger br-5 ml-2 p-1",style:{fontSize:"0.90rem"},children:null===s||void 0===s||null===(e=s.role_slug)||void 0===e?void 0:e.replaceAll("-"," ")})]}),Object(p.jsx)("hr",{className:"mt-1"}),n&&Object(p.jsx)(z,{isLoading:n}),Object(p.jsx)("div",{className:"col-md-12 row no-gutter data-container",children:null===t||void 0===t?void 0:t.map((function(e){return Object(p.jsx)(me,{permission:e},null===e||void 0===e?void 0:e._id)}))})]})}t(101);function pe(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(l.h)().pathname,s=Object(M.useToasts)().addToast,c=Object(n.useContext)(S).state,o=Object(n.useState)(!1),i=Object(j.a)(o,2),r=i[0],m=i[1],v=Object(n.useState)("admin"),h=Object(j.a)(v,2),O=(h[0],h[1],function(){var e=Object(l.i)(),a=null===e||void 0===e?void 0:e.class_id,t=Object(n.useContext)(S).state;return Object(A.a)("single-module-".concat(a),Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,L.a.get("".concat(B,"v1/class/view/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data),f=ee(),x=f.data,g=f.isLoading,_=Object(n.useState)({}),N=Object(j.a)(_,2),y=N[0],k=N[1],w=Object(n.useState)(),C=Object(j.a)(w,2),D=(C[0],C[1],{class_name:"",section:"",capacity:"",class_teacher:"",school_id:"",teacher_id:""}),T=Object(n.useState)(D),F=Object(j.a)(T,2),I=F[0],z=F[1];Object(n.useEffect)((function(){k(O)}),[O]);var P=Object(W.b)(),E={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},U=Object($.a)((function(e){return L.a.post("".concat(B,"v1/class/create"),e,E)}),{onSuccess:function(){var n=null===a||void 0===a?void 0:a.school_id;P.invalidateQueries("classes-".concat(n)),m(!1),z(D),e.push("".concat(t)),s("Class added successfully",{appearance:"success",autoDismiss:!0})}}),Q=Object($.a)((function(e){var t=null===a||void 0===a?void 0:a.class_id;return L.a.patch("".concat(B,"v1/class/update/").concat(t),e,E)}),{onSuccess:function(){var n=null===a||void 0===a?void 0:a.school_id;P.invalidateQueries("classes-".concat(n)),m(!1),z(D),e.push("".concat(t)),s("Class Updated successfully",{appearance:"success",autoDismiss:!0})}}),q=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),m(!0),!(null===a||void 0===a?void 0:a.class_id)){e.next=7;break}return e.next=5,Q.mutate(y);case 5:e.next=15;break;case 7:if(I.school_id=a.school_id?a.school_id:"",""!=I.school_id){e.next=13;break}m(!1),s("Please Select a School",{appearance:"error",autoDismiss:!0}),e.next=15;break;case 13:return e.next=15,U.mutate(I);case 15:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function R(e){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===a||void 0===a?void 0:a.class_id)?k(Object(b.a)(Object(b.a)({},y),{},Object(H.a)({},t.target.name,t.target.value))):z(Object(b.a)(Object(b.a)({},I),{},Object(H.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(u.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:999!=n.target.value&&((null===a||void 0===a?void 0:a.class_id)?(k(Object(b.a)(Object(b.a)({},y),{},Object(H.a)({},n.target.name,n.target.value))),e.push("/admin/class-management/select-school/".concat(n.target.value,"/").concat(a.class_id))):(z(Object(b.a)(Object(b.a)({},I),{},Object(H.a)({},"school_id",n.target.value))),e.push("/admin/class-management/select-school/".concat(n.target.value))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Class"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:q,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){return Y.apply(this,arguments)},value:a.school_id?a.school_id:999,children:[Object(p.jsx)("option",{value:"999",children:"Select School"}),!g&&(null===x||void 0===x?void 0:x.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.name},e._id)})))]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"class_name",value:(null===a||void 0===a?void 0:a.class_id)?null===y||void 0===y?void 0:y.class_name:null===I||void 0===I?void 0:I.class_name,onChange:R,placeholder:"Class Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"section",value:(null===a||void 0===a?void 0:a.class_id)?null===y||void 0===y?void 0:y.section:null===I||void 0===I?void 0:I.section,onChange:R,placeholder:"Section"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"number",className:"form-control",name:"capacity",value:(null===a||void 0===a?void 0:a.class_id)?null===y||void 0===y?void 0:y.capacity:null===I||void 0===I?void 0:I.capacity,onChange:R,placeholder:"Class Capacity"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",children:r?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:(null===a||void 0===a?void 0:a.class_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Update Class"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Save Class"]})})}),((null===a||void 0===a?void 0:a.class_id)||(null===a||void 0===a?void 0:a.school_id))&&Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(a){a.preventDefault(),e.push("/admin/class-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function ve(){var e=new FormData,a=Object(n.useState)(!1),t=Object(j.a)(a,2),s=t[0],c=t[1],o=Object(n.useState)(!0),i=Object(j.a)(o,2),r=i[0],m=i[1],b=Object(n.useContext)(S).state,v=Object(M.useToasts)().addToast,h=Object(n.useState)(null),O=Object(j.a)(h,2),f=O[0],x=O[1],g=Object(n.useState)(),_=Object(j.a)(g,2),N=_[0],y=_[1],k=Object(n.useState)(!1),w=Object(j.a)(k,2),C=w[0],D=w[1],T=Object(n.useState)("admin"),A=Object(j.a)(T,2),F=(A[0],A[1],Object(l.g)()),I=ee(),z=I.data,P=I.isLoading,E=Object(W.b)(),U={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+b.access_token}};function Q(){return(Q=Object(u.a)(d.a.mark((function a(t){var n,s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=t.target.files[0].name,console.log("file onchange ",n),s=n.split(".")[1],console.log(s),"csv"===s?(m(!1),x(t.target.files[0]),e.append("test","testdata")):(m(!0),v("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var q=Object($.a)((function(e){return L.a.post("".concat(B,"v1/class/upload"),e,U)}),{onSuccess:function(){E.invalidateQueries("classes"),c(!1),v("Classes added successfully",{appearance:"success",autoDismiss:!0})}}),R=function(){var a=Object(u.a)(d.a.mark((function a(t){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),C){a.next=4;break}return v("Please Select a School",{appearance:"error",autoDismiss:!0}),a.abrupt("return");case 4:return e.append("file",f),e.append("school_id",N),a.next=8,q.mutate(e);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Upload Classes"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsx)("a",{href:"/sampledata/classes.csv",download:!0,children:"Download Sample File"}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:R,method:"POST",encType:"multipart/form-data",children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){y(e.target.value),D(!0)},children:[Object(p.jsx)("option",{children:"Select School"}),!P&&(null===z||void 0===z?void 0:z.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.name},e._id)})))]})}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return Q.apply(this,arguments)},placeholder:"Upload .csv"}),Object(p.jsx)("small",{id:"passwordHelpInline",class:"text-muted",children:"Upload Classes File in .csv format only."})]}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",disabled:r,children:s?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Upload"]})})}),Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(e){e.preventDefault(),F.push("/admin/class-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function he(){var e=Object(n.useContext)(S).state,a=Object(l.i)(),t=a.school_id?"classes-".concat(a.school_id):"classes";return Object(A.a)(t,Object(u.a)(d.a.mark((function t(){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token){t.next=12;break}if(a.school_id){t.next=8;break}return t.next=4,L.a.get("".concat(B,"v1/class/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 4:return n=t.sent,t.abrupt("return",n.data.data);case 8:return t.next=10,L.a.get("".concat(B,"v1/class/class-by-school-id/").concat(a.school_id),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 10:return s=t.sent,t.abrupt("return",s.data.data);case 12:case"end":return t.stop()}}),t)}))))}function Oe(){var e,a=Object(l.i)(),t=Object(l.g)(),s=Object(M.useToasts)().addToast,c=Object(n.useContext)(S).state,o=Object(W.b)(),i=he(),r=i.data,j=(i.isLoading,ee()),m=j.data,b=(j.schoolIsLoading,null===m||void 0===m?void 0:m.filter((function(e){return(null===e||void 0===e?void 0:e._id)==(null===a||void 0===a?void 0:a.school_id)}))),v={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},h=Object($.a)((function(e){return L.a.delete("".concat(B,"v1/class/delete/").concat(e),v)}),{onSuccess:function(){var e=(null===a||void 0===a?void 0:a.school_id)?"classes-".concat(a.school_id):"classes";o.invalidateQueries(e),s("Class Deleted successfully",{appearance:"success",autoDismiss:!0})}}),O=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.mutate(a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),b&&(null===(e=b[0])||void 0===e?void 0:e.name)?"School: "+b[0].name:"All Classes"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:Object(p.jsxs)("table",{className:"table table-hover",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"#"}),Object(p.jsx)("th",{scope:"col",children:"Class Name"}),Object(p.jsx)("th",{scope:"col",children:"Section"}),Object(p.jsx)("th",{scope:"col",children:"Capacity"}),Object(p.jsx)("th",{scope:"col",children:"Action"})]})}),Object(p.jsx)("tbody",{children:null===r||void 0===r?void 0:r.map((function(e,n){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:n}),Object(p.jsx)("td",{children:e.class_name}),Object(p.jsx)("td",{children:e.section}),Object(p.jsx)("td",{children:e.capacity}),Object(p.jsxs)("td",{children:[Object(p.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(n){a.school_id?t.push("/admin/class-management/modify-class/".concat(null===a||void 0===a?void 0:a.school_id,"/").concat(null===e||void 0===e?void 0:e._id)):t.push("/admin/class-management/modify-class/".concat(e.school_id,"/").concat(null===e||void 0===e?void 0:e._id))},children:Object(p.jsx)("span",{className:"fa fa-edit"})}),Object(p.jsx)("button",{className:"btn bg-danger text-white btn-sm",onClick:function(){return O(null===e||void 0===e?void 0:e._id)},children:Object(p.jsx)("span",{className:"fa fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)}))})]})})]})}function fe(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(l.h)().pathname,s=Object(M.useToasts)().addToast,c=Object(n.useContext)(S).state,o=Object(n.useState)(!1),i=Object(j.a)(o,2),r=i[0],m=i[1],v=function(){var e=Object(l.i)(),a=null===e||void 0===e?void 0:e.subject_id,t=Object(n.useContext)(S).state;return Object(A.a)("single-module-".concat(a),Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,L.a.get("".concat(B,"v1/subject/view/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,h=Object(n.useState)({}),O=Object(j.a)(h,2),f=O[0],x=O[1],g=ee(),_=g.data,N=g.isLoading,y={subject_name:"",subject_slug:""},k=Object(n.useState)(y),w=Object(j.a)(k,2),C=w[0],D=w[1];Object(n.useEffect)((function(){x(v)}),[v]);var T=Object(W.b)(),F={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},I=Object($.a)((function(e){return L.a.post("".concat(B,"v1/subject/create"),e,F)}),{onSuccess:function(){var n=null===a||void 0===a?void 0:a.school_id;T.invalidateQueries("subjects-".concat(n)),m(!1),D(y),e.push("".concat(t)),s("Subject added successfully",{appearance:"success",autoDismiss:!0})}}),z=Object($.a)((function(e){var t=null===a||void 0===a?void 0:a.subject_id;return L.a.patch("".concat(B,"v1/subject/update/").concat(t),e,F)}),{onSuccess:function(){var n=null===a||void 0===a?void 0:a.school_id;T.invalidateQueries("subjects-".concat(n)),m(!1),D(y),e.push("".concat(t)),s("Subject Updated successfully",{appearance:"success",autoDismiss:!0})}}),P=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),m(!0),!(null===a||void 0===a?void 0:a.subject_id)){e.next=7;break}return e.next=5,z.mutate(f);case 5:e.next=20;break;case 7:if(C.school_id=a.school_id?a.school_id:"",""!=C.school_id){e.next=13;break}m(!1),s("Please Select a School",{appearance:"error",autoDismiss:!0}),e.next=20;break;case 13:if(""!=C.subject_name){e.next=18;break}m(!1),s("Please Enter a Subject Name",{appearance:"error",autoDismiss:!0}),e.next=20;break;case 18:return e.next=20,I.mutate(C);case 20:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function E(){return(E=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===a||void 0===a?void 0:a.subject_id)?x(Object(b.a)(Object(b.a)({},f),{},Object(H.a)({},t.target.name,t.target.value))):D(Object(b.a)(Object(b.a)({},C),{},Object(H.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(u.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:999!=n.target.value&&((null===a||void 0===a?void 0:a.subject_id)?(x(Object(b.a)(Object(b.a)({},f),{},Object(H.a)({},n.target.name,n.target.value))),e.push("/admin/subject-management/select-school/".concat(n.target.value,"/").concat(a.subject_id))):(D(Object(b.a)(Object(b.a)({},C),{},Object(H.a)({},"school_id",n.target.value))),e.push("/admin/subject-management/select-school/".concat(n.target.value))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Subejct"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:P,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){return U.apply(this,arguments)},value:a.school_id?a.school_id:999,children:[Object(p.jsx)("option",{value:"999",children:"Select School"}),!N&&(null===_||void 0===_?void 0:_.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.name},e._id)})))]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"subject_name",value:(null===a||void 0===a?void 0:a.subject_id)?null===f||void 0===f?void 0:f.subject_name:null===C||void 0===C?void 0:C.subject_name,onChange:function(e){return E.apply(this,arguments)},placeholder:"Subject Name"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",children:r?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:(null===a||void 0===a?void 0:a.subject_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Update Subject"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Save Subject"]})})}),((null===a||void 0===a?void 0:a.subject_id)||(null===a||void 0===a?void 0:a.school_id))&&Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(a){a.preventDefault(),e.push("/admin/subject-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function xe(){var e=Object(n.useState)(!1),a=Object(j.a)(e,2),t=a[0],s=a[1],c=Object(n.useState)(!0),o=Object(j.a)(c,2),i=o[0],r=o[1],m=Object(n.useContext)(S).state,b=Object(M.useToasts)().addToast,v=Object(n.useState)(null),h=Object(j.a)(v,2),O=h[0],f=h[1],x=Object(n.useState)(),g=Object(j.a)(x,2),_=g[0],N=g[1],y=Object(n.useState)(!1),k=Object(j.a)(y,2),w=k[0],C=k[1],D=Object(l.g)(),T=ee(),A=T.data,F=T.isLoading,I=Object(W.b)(),z={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+m.access_token}},P=new FormData;function E(){return(E=Object(u.a)(d.a.mark((function e(a){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.files[0].name,console.log("file onchange ",t),n=t.split(".")[1],console.log(n),"csv"===n?(r(!1),f(a.target.files[0]),P.append("file",a.target.files[0]),P.append("test","testdata")):(r(!0),b("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=Object($.a)((function(e){return console.log(e.file),L.a.post("".concat(B,"v1/subject/upload"),e,z)}),{onSuccess:function(){I.invalidateQueries("subjects"),s(!1),b("Subjects added successfully",{appearance:"success",autoDismiss:!0})}}),Q=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),w){e.next=4;break}return b("Please Select a School",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 4:return P.append("file",O),P.append("school_id",_),e.next=8,U.mutate(P);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Upload Subjects"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsx)("a",{href:"/sampledata/subjects.csv",download:!0,children:"Download Sample File"}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:Q,method:"POST",encType:"multipart/form-data",children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){N(e.target.value),C(!0)},children:[Object(p.jsx)("option",{children:"Select School"}),!F&&(null===A||void 0===A?void 0:A.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.name},e._id)})))]})}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return E.apply(this,arguments)},placeholder:"Upload .csv"}),Object(p.jsx)("small",{id:"passwordHelpInline",class:"text-muted",children:"Upload Classes File in .csv format only."})]}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",disabled:i,children:t?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Upload"]})})}),Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(e){e.preventDefault(),D.push("/admin/subject-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function ge(){var e=Object(n.useContext)(S).state,a=Object(l.i)(),t=a.school_id?"subjects-".concat(a.school_id):"subjects";return Object(A.a)(t,Object(u.a)(d.a.mark((function t(){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token){t.next=12;break}if(a.school_id){t.next=8;break}return t.next=4,L.a.get("".concat(B,"v1/subject/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 4:return n=t.sent,t.abrupt("return",n.data.data);case 8:return t.next=10,L.a.get("".concat(B,"v1/subject/subject-by-school-id/").concat(a.school_id),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 10:return s=t.sent,t.abrupt("return",s.data.data);case 12:case"end":return t.stop()}}),t)}))))}function _e(){var e,a=Object(l.g)(),t=Object(M.useToasts)().addToast,s=Object(n.useContext)(S).state,c=Object(W.b)(),o=Object(l.i)(),i=ge(),r=i.data,j=i.isLoading,m=ee(),b=m.data,v=(m.schoolIsLoading,null===b||void 0===b?void 0:b.filter((function(e){return(null===e||void 0===e?void 0:e._id)==(null===o||void 0===o?void 0:o.school_id)}))),h={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+s.access_token}},O=Object($.a)((function(e){return L.a.delete("".concat(B,"v1/subject/delete/").concat(e),h)}),{onSuccess:function(){var e=(null===o||void 0===o?void 0:o.school_id)?"subjects-".concat(o.school_id):"subjects";c.invalidateQueries(e),t("Subject Deleted successfully",{appearance:"success",autoDismiss:!0})}}),f=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.mutate(a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),v&&(null===(e=v[0])||void 0===e?void 0:e.name)?"School: "+v[0].name:"All Subjects"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsx)(z,{isLoading:j}),Object(p.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:Object(p.jsxs)("table",{className:"table table-hover",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"#"}),Object(p.jsx)("th",{scope:"col",children:"Subject Name"}),Object(p.jsx)("th",{scope:"col",children:"Action"})]})}),Object(p.jsx)("tbody",{children:null===r||void 0===r?void 0:r.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:t}),Object(p.jsx)("td",{children:e.subject_name}),Object(p.jsxs)("td",{children:[Object(p.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(t){o.school_id?a.push("/admin/subject-management/modify-subject/".concat(null===o||void 0===o?void 0:o.school_id,"/").concat(null===e||void 0===e?void 0:e._id)):a.push("/admin/subject-management/modify-subject/".concat(e.school_id,"/").concat(null===e||void 0===e?void 0:e._id))},children:Object(p.jsx)("span",{className:"fa fa-edit"})}),Object(p.jsx)("button",{className:"btn bg-danger text-white btn-sm",onClick:function(){return f(null===e||void 0===e?void 0:e._id)},children:Object(p.jsx)("span",{className:"fa fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)}))})]})})]})}function Ne(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(l.h)().pathname,s=Object(M.useToasts)().addToast,c=Object(n.useContext)(S).state,o=Object(n.useState)(!1),i=Object(j.a)(o,2),r=i[0],m=i[1],v=function(){var e=Object(l.i)(),a=null===e||void 0===e?void 0:e.student_id,t=Object(n.useContext)(S).state;return Object(A.a)("single-module-".concat(a),Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,L.a.get("".concat(B,"v1/student/view/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,h=/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/,O=Object(n.useState)({}),f=Object(j.a)(O,2),x=f[0],g=f[1],_=ee(),N=_.data,y=_.schoolIsLoading,k=he(),w=k.data,C=k.classesIsLoading,D={first_name:"",last_name:"",class_id:"",class_name:"",guardian_name:"",guardian_phone_no:"",school_id:"",username:""},T=Object(n.useState)(D),F=Object(j.a)(T,2),I=F[0],z=F[1];Object(n.useEffect)((function(){g(v)}),[v]);var P=Object(W.b)(),E={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},U=Object($.a)((function(e){return L.a.post("".concat(B,"v1/student/create"),e,E)}),{onSuccess:function(){var n=null===a||void 0===a?void 0:a.school_id,c=null===a||void 0===a?void 0:a.class_id;P.invalidateQueries("students-".concat(n,"-").concat(c)),m(!1),z(D),e.push("".concat(t)),s("Student added successfully",{appearance:"success",autoDismiss:!0})}}),Q=Object($.a)((function(e){var t=null===a||void 0===a?void 0:a.student_id;return L.a.patch("".concat(B,"v1/student/update/").concat(t),e,E)}),{onSuccess:function(){var n=null===a||void 0===a?void 0:a.school_id,c=null===a||void 0===a?void 0:a.class_id;P.invalidateQueries("students-".concat(n,"-").concat(c)),m(!1),z(D),e.push("".concat(t)),s("Student Updated successfully",{appearance:"success",autoDismiss:!0})}}),q=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),m(!0),!(null===a||void 0===a?void 0:a.student_id)){e.next=7;break}return e.next=5,Q.mutate(x);case 5:e.next=29;break;case 7:if(I.school_id=a.school_id?a.school_id:"",""!=I.school_id){e.next=13;break}m(!1),s("Please Select a School",{appearance:"error",autoDismiss:!0}),e.next=29;break;case 13:if(I.class_id=a.class_id?a.class_id:"",I.password="password",""!=I.class_id){e.next=20;break}m(!1),s("Please Select a Class",{appearance:"error",autoDismiss:!0}),e.next=29;break;case 20:if(h.test(I.guardian_phone_no)){e.next=25;break}m(!1),s("Please Enter a valid 10 digit phone no",{appearance:"error",autoDismiss:!0}),e.next=29;break;case 25:return n=N.filter((function(e){return e._id==a.school_id})),I.username=I.first_name+I.guardian_phone_no.substr(-4)+"@".concat(n[0].domain),e.next=29,U.mutate(I);case 29:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function R(e){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===a||void 0===a?void 0:a.student_id)?g(Object(b.a)(Object(b.a)({},x),{},Object(H.a)({},t.target.name,t.target.value))):z(Object(b.a)(Object(b.a)({},I),{},Object(H.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(u.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:999!=n.target.value&&((null===a||void 0===a?void 0:a.student_id)?(g(Object(b.a)(Object(b.a)({},x),{},Object(H.a)({},n.target.name,n.target.value))),e.push("/admin/student-management/select-school/".concat(n.target.value,"/").concat(null===a||void 0===a?void 0:a.class_id,"/").concat(null===a||void 0===a?void 0:a.student_id))):(z(Object(b.a)(Object(b.a)({},I),{},Object(H.a)({},"school_id",n.target.value))),a.class_id?e.push("/admin/student-management/select-school/".concat(n.target.value,"/").concat(null===a||void 0===a?void 0:a.class_id)):e.push("/admin/student-management/select-school/".concat(n.target.value))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(){return(J=Object(u.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:999!=n.target.value&&((null===a||void 0===a?void 0:a.student_id)?(g(Object(b.a)(Object(b.a)({},x),{},Object(H.a)({},n.target.name,n.target.value))),e.push("/admin/student-management/select-school/".concat(null===a||void 0===a?void 0:a.school_id,"/").concat(n.target.value,"/").concat(null===a||void 0===a?void 0:a.student_id))):(z(Object(b.a)(Object(b.a)({},I),{},Object(H.a)({},"class_id",n.target.value))),e.push("/admin/student-management/select-school/".concat(a.school_id,"/").concat(n.target.value))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Student"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:q,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){return Y.apply(this,arguments)},value:a.school_id?a.school_id:999,children:[Object(p.jsx)("option",{value:"999",children:"Select School"}),!y&&(null===N||void 0===N?void 0:N.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.name},e._id)})))]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"class_id",onChange:function(e){return J.apply(this,arguments)},value:a.class_id?a.class_id:999,children:[Object(p.jsx)("option",{value:"999",children:"Select Class"}),!C&&(null===w||void 0===w?void 0:w.map((function(e){return Object(p.jsxs)("option",{value:e._id,children:[e.class_name,"-",e.section]},e._id)})))]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"first_name",value:(null===a||void 0===a?void 0:a.student_id)?null===x||void 0===x?void 0:x.first_name:null===I||void 0===I?void 0:I.first_name,onChange:R,placeholder:"First Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"last_name",value:(null===a||void 0===a?void 0:a.student_id)?null===x||void 0===x?void 0:x.last_name:null===I||void 0===I?void 0:I.last_name,onChange:R,placeholder:"Last Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"guardian_name",value:(null===a||void 0===a?void 0:a.student_id)?null===x||void 0===x?void 0:x.guardian_name:null===I||void 0===I?void 0:I.guardian_name,onChange:R,placeholder:"Guardian Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"guardian_phone_no",value:(null===a||void 0===a?void 0:a.student_id)?null===x||void 0===x?void 0:x.guardian_phone_no:null===I||void 0===I?void 0:I.guardian_phone_no,onChange:R,placeholder:"Guardian Phone"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",children:r?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:(null===a||void 0===a?void 0:a.student_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Update Student"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Save Student"]})})}),((null===a||void 0===a?void 0:a.student_id)||(null===a||void 0===a?void 0:a.school_id))&&Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(a){a.preventDefault(),e.push("/admin/students-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function ye(){var e=Object(n.useState)(!1),a=Object(j.a)(e,2),t=a[0],s=a[1],c=Object(n.useState)(!0),o=Object(j.a)(c,2),i=o[0],r=o[1],m=Object(l.i)(),v=Object(n.useContext)(S).state,h=Object(M.useToasts)().addToast,O=Object(n.useState)(null),f=Object(j.a)(O,2),x=f[0],g=f[1],_=Object(n.useState)(null),N=Object(j.a)(_,2),y=N[0],k=N[1],w=Object(n.useState)(null),C=Object(j.a)(w,2),D=C[0],T=C[1],A=Object(l.g)(),F=Object(W.b)(),I={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+v.access_token}},z=new FormData,P=ee(),E=P.data,U=P.schoolIsLoading,Q=he(),q=Q.data,R=Q.classesIsLoading;function G(){return(G=Object(u.a)(d.a.mark((function e(a){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.files[0].name,console.log("file onchange ",t),n=t.split(".")[1],console.log(n),"csv"===n?(r(!1),g(a.target.files[0]),z.append("file",a.target.files[0]),z.append("test","testdata")):(r(!0),h("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=Object($.a)((function(e){return console.log(e.file),L.a.post("".concat(B,"v1/student/upload"),e,I)}),{onSuccess:function(){null===m||void 0===m||m.school_id,null===m||void 0===m||m.class_id;F.invalidateQueries("students"),s(!1),h("Student added successfully",{appearance:"success",autoDismiss:!0})}}),J=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),z.append("file",x),z.append("school_id",y),z.append("class_id",D),y){e.next=8;break}h("Please Select a School",{appearance:"error",autoDismiss:!0}),e.next=17;break;case 8:if(D){e.next=12;break}h("Please Select a Class",{appearance:"error",autoDismiss:!0}),e.next=17;break;case 12:return console.log(z.get("file")),console.log(z.get("school_id")),console.log(z.get("class_id")),e.next=17,Y.mutate(z);case 17:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function Z(){return(Z=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===m||void 0===m?void 0:m.student_id)?setSingleStudent(Object(b.a)(Object(b.a)({},SingleStudent),{},Object(H.a)({},a.target.name,a.target.value))):(z.append(["school_id"],a.target.value),m.class_id?A.push("/admin/student-management/upload/".concat(a.target.value,"/").concat(null===m||void 0===m?void 0:m.class_id)):A.push("/admin/student-management/upload/".concat(a.target.value))),k(a.target.value);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===m||void 0===m?void 0:m.student_id)?setSingleStudent(Object(b.a)(Object(b.a)({},SingleStudent),{},Object(H.a)({},a.target.name,a.target.value))):(z.append(["class_id"],a.target.value),A.push("/admin/student-management/upload/".concat(m.school_id,"/").concat(a.target.value))),T(a.target.value);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Upload Students"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsx)("a",{href:"/sampledata/students.csv",download:!0,children:"Download Sample File"}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:J,method:"POST",encType:"multipart/form-data",children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){return Z.apply(this,arguments)},value:m.school_id,children:[Object(p.jsx)("option",{children:"Select School"}),!U&&(null===E||void 0===E?void 0:E.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.name},e._id)})))]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"class_id",onChange:function(e){return K.apply(this,arguments)},children:[Object(p.jsx)("option",{children:"Select Class"}),!R&&(null===q||void 0===q?void 0:q.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.class_name},e._id)})))]})}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return G.apply(this,arguments)},placeholder:"Upload .csv"}),Object(p.jsx)("small",{id:"passwordHelpInline",class:"text-muted",children:"Upload Classes File in .csv format only."})]}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",disabled:i,children:t?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Upload"]})})}),Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(e){e.preventDefault(),A.push("/admin/students-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function ke(){var e,a,t=Object(l.g)(),s=Object(M.useToasts)().addToast,c=Object(n.useContext)(S).state,o=Object(W.b)(),i=Object(l.i)(),r=function(){var e=Object(n.useContext)(S).state,a=Object(l.i)(),t=a.school_id&&a.class_id?"students-".concat(a.school_id,"-").concat(a.class_id):"students";return Object(A.a)(t,Object(u.a)(d.a.mark((function t(){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token){t.next=12;break}if(a.school_id||a.class_id){t.next=8;break}return t.next=4,L.a.get("".concat(B,"v1/student/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 4:return n=t.sent,t.abrupt("return",n.data.data);case 8:return t.next=10,L.a.get("".concat(B,"v1/student/student-by-school-id-class-id/").concat(a.school_id,"/").concat(a.class_id),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 10:return s=t.sent,t.abrupt("return",s.data.data);case 12:case"end":return t.stop()}}),t)}))))}(),j=r.data,m=r.isLoading,b=ee(),v=b.data,h=(b.schoolIsLoading,he()),O=h.data,f=(h.classIsLoading,null===v||void 0===v?void 0:v.filter((function(e){return(null===e||void 0===e?void 0:e._id)==(null===i||void 0===i?void 0:i.school_id)}))),x=null===O||void 0===O?void 0:O.filter((function(e){return(null===e||void 0===e?void 0:e._id)==(null===i||void 0===i?void 0:i.class_id)})),g={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},_=Object($.a)((function(e){return L.a.delete("".concat(B,"v1/student/delete/").concat(e),g)}),{onSuccess:function(){var e=i.school_id&&i.class_id?"students-".concat(i.school_id,"-").concat(i.class_id):"students";o.invalidateQueries(e),s("Student Deleted successfully",{appearance:"success",autoDismiss:!0})}}),N=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.mutate(a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),f&&(null===(e=f[0])||void 0===e?void 0:e.name)?"School: "+f[0].name+" - Class: "+(x&&(null===(a=x[0])||void 0===a?void 0:a.class_name)?x[0].class_name:""):"All Students"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsx)(z,{isLoading:m}),Object(p.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:Object(p.jsxs)("table",{className:"table table-hover",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"#"}),Object(p.jsx)("th",{scope:"col",children:"First Name"}),Object(p.jsx)("th",{scope:"col",children:"Last Name"}),Object(p.jsx)("th",{scope:"col",children:"Guardian Name"}),Object(p.jsx)("th",{scope:"col",children:"Guardian Phone"})]})}),Object(p.jsx)("tbody",{children:null===j||void 0===j?void 0:j.map((function(e,a){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:a}),Object(p.jsx)("td",{children:e.first_name}),Object(p.jsx)("td",{children:e.last_name}),Object(p.jsx)("td",{children:e.guardian_name}),Object(p.jsx)("td",{children:e.guardian_phone_no}),Object(p.jsxs)("td",{children:[Object(p.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(a){t.push("/admin/student-management/modify-student/".concat(e.school_id,"/").concat(e.class_id,"/").concat(null===e||void 0===e?void 0:e._id))},children:Object(p.jsx)("span",{className:"fa fa-edit"})}),Object(p.jsx)("button",{className:"btn bg-danger text-white btn-sm",onClick:function(){return N(null===e||void 0===e?void 0:e._id)},children:Object(p.jsx)("span",{className:"fa fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)}))})]})})]})}function we(){var e=Object(l.i)(),a=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"Student List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsxs)("div",{className:"col-md-12 row",children:[Object(p.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){a.push("/admin/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})}),Object(p.jsxs)("button",{className:"btn btn-sm dark",onClick:function(t){void 0==e.page_type?a.push("/admin/student-management/upload"):"upload"==e.page_type&&a.push("/admin/student-management")},children:[Object(p.jsx)("span",{className:"fa fa-upload"}),"   Upload Students"]})]})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:"upload"==e.page_type?Object(p.jsx)(ye,{}):Object(p.jsx)(Ne,{})}),Object(p.jsx)("div",{className:"col-md-9 ",children:Object(p.jsx)(ke,{})})]})})]})})})}function Ce(){var e=Object(l.i)(),a=null===e||void 0===e?void 0:e.teacher_id,t=Object(n.useContext)(S).state;return Object(A.a)("single-module-".concat(a),Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,L.a.get("".concat(B,"v1/teacher/view/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}function Se(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(l.h)().pathname,s=Object(M.useToasts)().addToast,c=Object(n.useContext)(S).state,o=Object(n.useState)(!1),i=Object(j.a)(o,2),r=i[0],m=i[1],v=Ce().data,h=Object(n.useState)({}),O=Object(j.a)(h,2),f=O[0],x=O[1],g=ee(),_=g.data,N=g.isLoading,y=/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/,k={first_name:"",last_name:"",phone_no:""},w=Object(n.useState)(k),C=Object(j.a)(w,2),D=C[0],T=C[1];Object(n.useEffect)((function(){x(v)}),[v]);var A=Object(W.b)(),F={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},I=Object($.a)((function(e){return L.a.post("".concat(B,"v1/teacher/create"),e,F)}),{onSuccess:function(){var n=null===a||void 0===a?void 0:a.school_id;A.invalidateQueries("teachers-".concat(n)),m(!1),T(k),e.push("".concat(t)),s("Teacher added successfully",{appearance:"success",autoDismiss:!0})}}),z=Object($.a)((function(e){var t=null===a||void 0===a?void 0:a.teacher_id;return L.a.patch("".concat(B,"v1/teacher/update/").concat(t),e,F)}),{onSuccess:function(){var n=null===a||void 0===a?void 0:a.school_id;A.invalidateQueries("teachers-".concat(n)),m(!1),T(k),e.push("".concat(t)),s("Teacher Updated successfully",{appearance:"success",autoDismiss:!0})}}),P=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),m(!0),!(null===a||void 0===a?void 0:a.teacher_id)){e.next=7;break}return e.next=5,z.mutate(f);case 5:e.next=20;break;case 7:if(D.school_id=a.school_id?a.school_id:"",""!=D.school_id){e.next=13;break}m(!1),s("Please Select a School",{appearance:"error",autoDismiss:!0}),e.next=20;break;case 13:if(y.test(D.phone_no)){e.next=18;break}m(!1),s("Please Enter a valid 10 digit phone no",{appearance:"error",autoDismiss:!0}),e.next=20;break;case 18:return e.next=20,I.mutate(D);case 20:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function E(e){return U.apply(this,arguments)}function U(){return(U=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===a||void 0===a?void 0:a.teacher_id)?x(Object(b.a)(Object(b.a)({},f),{},Object(H.a)({},t.target.name,t.target.value))):T(Object(b.a)(Object(b.a)({},D),{},Object(H.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(u.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:999!=n.target.value&&((null===a||void 0===a?void 0:a.teacher_id)?(x(Object(b.a)(Object(b.a)({},f),{},Object(H.a)({},n.target.name,n.target.value))),e.push("/admin/teachers-management/select-school/".concat(n.target.value,"/").concat(a.teacher_id))):(T(Object(b.a)(Object(b.a)({},D),{},Object(H.a)({},"school_id",n.target.value))),e.push("/admin/teachers-management/select-school/".concat(n.target.value))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Teacher"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:P,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){return Q.apply(this,arguments)},value:a.school_id?a.school_id:999,children:[Object(p.jsx)("option",{value:"999",children:"Select School"}),!N&&(null===_||void 0===_?void 0:_.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.name},e._id)})))]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"first_name",value:(null===a||void 0===a?void 0:a.teacher_id)?null===f||void 0===f?void 0:f.first_name:null===D||void 0===D?void 0:D.first_name,onChange:E,placeholder:"First Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"last_name",value:(null===a||void 0===a?void 0:a.teacher_id)?null===f||void 0===f?void 0:f.last_name:null===D||void 0===D?void 0:D.last_name,onChange:E,placeholder:"Last Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"phone_no",value:(null===a||void 0===a?void 0:a.teacher_id)?null===f||void 0===f?void 0:f.phone_no:null===D||void 0===D?void 0:D.phone_no,onChange:E,placeholder:"Phone no"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",children:r?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:(null===a||void 0===a?void 0:a.teacher_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Update Teacher"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Save Teacher"]})})}),((null===a||void 0===a?void 0:a.teacher_id)||a.school_id)&&Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(a){a.preventDefault(),e.push("/admin/teachers-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function De(){var e=Object(n.useState)(!1),a=Object(j.a)(e,2),t=a[0],s=a[1],c=Object(n.useState)(!0),o=Object(j.a)(c,2),i=o[0],r=o[1],m=Object(n.useContext)(S).state,b=Object(M.useToasts)().addToast,v=Object(n.useState)(null),h=Object(j.a)(v,2),O=h[0],f=h[1],x=Object(n.useState)(),g=Object(j.a)(x,2),_=g[0],N=g[1],y=Object(n.useState)(!1),k=Object(j.a)(y,2),w=k[0],C=k[1],D=Object(l.g)(),T=ee(),A=T.data,F=T.isLoading,I=Object(W.b)(),z={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+m.access_token}},P=new FormData;function E(){return(E=Object(u.a)(d.a.mark((function e(a){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.files[0].name,console.log("file onchange ",t),n=t.split(".")[1],console.log(n),"csv"===n?(r(!1),f(a.target.files[0]),P.append("file",a.target.files[0]),P.append("test","testdata")):(r(!0),b("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=Object($.a)((function(e){return L.a.post("".concat(B,"v1/teacher/upload"),e,z)}),{onSuccess:function(){I.invalidateQueries("teachers"),s(!1),b("Teacher added successfully",{appearance:"success",autoDismiss:!0})}}),Q=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),w){e.next=4;break}return b("Please Select a School",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 4:return P.append("file",O),P.append("school_id",_),e.next=8,U.mutate(P);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Upload Teachers"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsx)("a",{href:"/sampledata/teachers.csv",download:!0,children:"Download Sample File"}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:Q,method:"POST",encType:"multipart/form-data",children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){N(e.target.value),C(!0)},children:[Object(p.jsx)("option",{children:"Select School"}),!F&&(null===A||void 0===A?void 0:A.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.name},e._id)})))]})}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return E.apply(this,arguments)},placeholder:"Upload .csv"}),Object(p.jsx)("small",{id:"passwordHelpInline",class:"text-muted",children:"Upload Classes File in .csv format only."})]}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",disabled:i,children:t?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Upload"]})})}),Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(e){e.preventDefault(),D.push("/admin/teachers-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function Te(){var e=Object(n.useContext)(S).state,a=Object(l.i)(),t=a.school_id?"teachers-".concat(a.school_id):"teachers";return Object(A.a)(t,Object(u.a)(d.a.mark((function t(){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token){t.next=12;break}if(a.school_id){t.next=8;break}return t.next=4,L.a.get("".concat(B,"v1/teacher/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 4:return n=t.sent,t.abrupt("return",n.data.data);case 8:return t.next=10,L.a.get("".concat(B,"v1/teacher/teacher-by-school-id/").concat(a.school_id),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 10:return s=t.sent,t.abrupt("return",s.data.data);case 12:case"end":return t.stop()}}),t)}))))}function Ae(){var e,a=Object(l.g)(),t=Object(M.useToasts)().addToast,s=Object(n.useContext)(S).state,c=Object(l.i)(),o=Object(W.b)(),i=Te(),r=i.data,j=i.isLoading,m=ee(),b=m.data,v=(m.schoolIsLoading,null===b||void 0===b?void 0:b.filter((function(e){return(null===e||void 0===e?void 0:e._id)==(null===c||void 0===c?void 0:c.school_id)}))),h={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+s.access_token}},O=Object($.a)((function(e){return L.a.delete("".concat(B,"v1/teacher/delete/").concat(e),h)}),{onSuccess:function(){var e=(null===c||void 0===c?void 0:c.school_id)?"teachers-".concat(c.school_id):"teachers";o.invalidateQueries(e),t("Teacher Deleted successfully",{appearance:"success",autoDismiss:!0})}}),f=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.mutate(a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),v&&(null===(e=v[0])||void 0===e?void 0:e.name)?"School: "+v[0].name:"All Teachers"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsx)(z,{isLoading:j}),Object(p.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:Object(p.jsxs)("table",{className:"table table-hover",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"#"}),Object(p.jsx)("th",{scope:"col",children:"First Name"}),Object(p.jsx)("th",{scope:"col",children:"Last Name"}),Object(p.jsx)("th",{scope:"col",children:"Phone no"})]})}),Object(p.jsx)("tbody",{children:null===r||void 0===r?void 0:r.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:t}),Object(p.jsx)("td",{children:e.first_name}),Object(p.jsx)("td",{children:e.last_name}),Object(p.jsx)("td",{children:e.phone_no}),Object(p.jsxs)("td",{children:[Object(p.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(t){c.school_id?a.push("/admin/teachers-management/modify-subject/".concat(null===c||void 0===c?void 0:c.school_id,"/").concat(null===e||void 0===e?void 0:e._id)):a.push("/admin/teachers-management/modify-subject/".concat(e.school_id,"/").concat(null===e||void 0===e?void 0:e._id))},children:Object(p.jsx)("span",{className:"fa fa-edit"})}),Object(p.jsx)("button",{className:"btn bg-danger text-white btn-sm",onClick:function(){return f(null===e||void 0===e?void 0:e._id)},children:Object(p.jsx)("span",{className:"fa fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)}))})]})})]})}function Fe(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(l.h)().pathname,s=Object(M.useToasts)().addToast,c=Object(n.useContext)(S).state,o=Object(n.useState)(!1),i=Object(j.a)(o,2),r=i[0],m=i[1],v=Ce().data,h=Object(n.useState)({}),O=Object(j.a)(h,2),f=O[0],x=O[1],g=Te(),_=g.data,N=g.teacherIsLoading,y=ge(),k=y.data,w=(y.subjectIsLoading,/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/),C={first_name:"",last_name:"",phone_no:""},D=Object(n.useState)(C),T=Object(j.a)(D,2),A=T[0],F=T[1];Object(n.useEffect)((function(){x(v)}),[v]);var I=Object(W.b)(),z={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},P=Object($.a)((function(e){return L.a.post("".concat(B,"v1/teacher/create"),e,z)}),{onSuccess:function(){var n=null===a||void 0===a?void 0:a.school_id;I.invalidateQueries("teachers-".concat(n)),m(!1),F(C),e.push("".concat(t)),s("Teacher added successfully",{appearance:"success",autoDismiss:!0})}}),E=Object($.a)((function(e){var t=null===a||void 0===a?void 0:a.teacher_id;return L.a.patch("".concat(B,"v1/teacher/update/").concat(t),e,z)}),{onSuccess:function(){var n=null===a||void 0===a?void 0:a.school_id;I.invalidateQueries("teachers-".concat(n)),m(!1),F(C),e.push("".concat(t)),s("Teacher Updated successfully",{appearance:"success",autoDismiss:!0})}}),U=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),m(!0),!(null===a||void 0===a?void 0:a.teacher_id)){e.next=7;break}return e.next=5,E.mutate(f);case 5:e.next=20;break;case 7:if(A.school_id=a.school_id?a.school_id:"",""!=A.school_id){e.next=13;break}m(!1),s("Please Select a School",{appearance:"error",autoDismiss:!0}),e.next=20;break;case 13:if(w.test(A.phone_no)){e.next=18;break}m(!1),s("Please Enter a valid 10 digit phone no",{appearance:"error",autoDismiss:!0}),e.next=20;break;case 18:return e.next=20,P.mutate(A);case 20:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function Q(){return(Q=Object(u.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:999!=n.target.value&&((null===a||void 0===a?void 0:a.teacher_id)?(x(Object(b.a)(Object(b.a)({},f),{},Object(H.a)({},n.target.name,n.target.value))),e.push("/admin/teachers-management/select-school/".concat(n.target.value,"/").concat(a.teacher_id))):(F(Object(b.a)(Object(b.a)({},A),{},Object(H.a)({},"school_id",n.target.value))),e.push("/admin/teachers-management/select-school/".concat(n.target.value))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(e){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t.target.value,console.log(n),document.getElementById("".concat(module_id)).style.checked=!0,AppModules.push({role_id:null===a||void 0===a?void 0:a.role_id,role_slug:null===a||void 0===a?void 0:a.role_slug,school_id:null===a||void 0===a?void 0:a.school_id,school_slug:null===a||void 0===a?void 0:a.school_slug,module_id:module_id,module_slug:module_slug});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Teacher"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:U,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"teacher_id",onChange:function(e){return Q.apply(this,arguments)},value:(null===a||void 0===a?void 0:a.teacher_id)?null===a||void 0===a?void 0:a.teacher_id:999,children:[Object(p.jsx)("option",{value:"999",children:"Select Teacher"}),!N&&(null===_||void 0===_?void 0:_.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.first_name+" "+e.last_name},e._id)})))]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("div",{className:"col-md-12 pl-0 pr-2",style:{minHeight:"280px",maxHeight:"280px",overflow:"scroll"},children:null===k||void 0===k?void 0:k.map((function(e){return Object(p.jsx)("div",{className:"card pl-2 pt-0 pb-0 mb-2",children:Object(p.jsxs)("label",{className:"pb-0 mb-0",children:[Object(p.jsx)("input",{className:"mr-2",type:"checkbox",name:null===e||void 0===e?void 0:e.subject_name,value:"".concat(null===e||void 0===e?void 0:e._id,"_").concat(null===e||void 0===e?void 0:e.module_slug),onChange:q}),null===e||void 0===e?void 0:e.subject_name]})},null===e||void 0===e?void 0:e._id)}))})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",children:r?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:(null===a||void 0===a?void 0:a.teacher_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Update Teacher"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Save Teacher"]})})}),((null===a||void 0===a?void 0:a.teacher_id)||a.school_id)&&Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(a){a.preventDefault(),e.push("/admin/teachers-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}var Le=[{path:"/",component:q},{path:"/admin/login",component:q},{path:"/403",component:function(){var e=Object(n.useContext)(S).state;return Object(p.jsx)(p.Fragment,{children:e.isLoggedIn&&Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container pt-5 text-center",children:[Object(p.jsx)("img",{src:"/403.jpg",alt:"Not authorized"}),Object(p.jsx)("p",{children:"You are not authorized to access this resource"}),Object(p.jsxs)(i.b,{to:"/dashboard",children:[Object(p.jsx)("span",{className:"fa fa-home"}),Object(p.jsx)("span",{className:"ml-3",children:"Go to Dashboard"})]})]})})})})}}],Be=[{path:"/admin/dashboard",component:R},{path:"/admin",component:R},{path:"/admin/class-management/:page_type?/:school_id?/:class_id?",component:function(){var e=Object(l.i)(),a=Object(l.g)();return Object(l.h)(),Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"Class List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsxs)("div",{className:"col-md-12 row",children:[Object(p.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){a.push("/admin/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})}),Object(p.jsxs)("button",{className:"btn btn-sm dark",onClick:function(t){void 0==e.page_type?a.push("/admin/class-management/upload"):"upload"==e.page_type&&a.push("/admin/class-management")},children:[Object(p.jsx)("span",{className:"fa fa-upload"}),"   Upload Classes"]})]})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:"upload"==e.page_type?Object(p.jsx)(ve,{}):Object(p.jsx)(pe,{})}),Object(p.jsx)("div",{className:"col-md-9 ",children:Object(p.jsx)(Oe,{})})]})})]})})})}},{path:"/admin/student-management/:page_type?/:school_id?/:class_id?/:student_id?",component:we},{path:"/admin/students-management/:page_type?/:student_id?",component:we},{path:"/admin/subject-management/:page_type?/:school_id?/:subject_id?",component:function(){var e=Object(l.i)(),a=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"Subjects List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsxs)("div",{className:"col-md-12 row",children:[Object(p.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){a.push("/admin/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})}),Object(p.jsxs)("button",{className:"btn btn-sm dark",onClick:function(t){void 0==e.page_type?a.push("/admin/subject-management/upload"):"upload"==e.page_type&&a.push("/admin/subject-management")},children:[Object(p.jsx)("span",{className:"fa fa-upload"}),"   Upload Subjects"]})]})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:"upload"==e.page_type?Object(p.jsx)(xe,{}):Object(p.jsx)(fe,{})}),Object(p.jsx)("div",{className:"col-md-9 ",children:Object(p.jsx)(_e,{})})]})})]})})})}},{path:"/admin/teachers-management/:page_type?/:school_id?/:teacher_id?",component:function(){var e=Object(l.i)(),a=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"Teacher List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsxs)("div",{className:"col-md-12 row",children:[Object(p.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){a.push("/admin/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})}),Object(p.jsxs)("button",{className:"btn btn-sm dark",onClick:function(t){void 0==e.page_type?a.push("/admin/teachers-management/upload"):"upload"==e.page_type&&a.push("/admin/teachers-management")},children:[Object(p.jsx)("span",{className:"fa fa-upload"}),"   Upload Teachers"]})]})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:"upload"==e.page_type?Object(p.jsx)(De,{}):Object(p.jsx)(Se,{})}),Object(p.jsx)("div",{className:"col-md-9 ",children:Object(p.jsx)(Ae,{})})]})})]})})})}},{path:"/admin/mapping-teacher-subjects/:page_type?/:school_id?/:teacher_id?",component:function(){Object(l.i)();var e=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"Teacher List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsx)("div",{className:"col-md-12 row",children:Object(p.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(a){e.push("/admin/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)(Fe,{})}),Object(p.jsx)("div",{className:"col-md-9 "})]})})]})})})}}],Ie=[{path:"/admin/app-module/:module_id?",component:function(){Object(l.i)();var e=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"App Modules List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsx)("div",{className:"col-md-12 row",children:Object(p.jsx)("button",{className:"btn btn-sm dark",onClick:function(a){e.push("/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)(te,{})}),Object(p.jsx)("div",{className:"col-md-9",children:Object(p.jsx)(ce,{})})]})})]})})})}},{path:"/admin/app-roles/:role_id?",component:function(){var e=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"App Roles List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsx)("div",{className:"col-md-12 row",children:Object(p.jsx)("button",{className:"btn btn-sm dark",onClick:function(a){e.push("/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)(oe,{})}),Object(p.jsx)("div",{className:"col-md-9",children:Object(p.jsx)(re,{})})]})})]})})})}},{path:"/admin/app-permissions/:role_id?/:role_slug?/:school_id?/:school_slug?/:permission_id?",component:function(){var e=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsxs)("h2",{children:[Object(p.jsx)("span",{className:"bi bi-gear-wide-connected text-warning mr-2"}),"App Permissions"]})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsx)("div",{className:"col-md-12 row",children:Object(p.jsx)("button",{className:"btn btn-sm dark",onClick:function(a){e.push("/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)(ue,{})}),Object(p.jsx)("div",{className:"col-md-8",children:Object(p.jsx)(be,{})})]})})]})})})}},{path:"/admin/school-management/:page_type?/:school_id?",component:function(){Object(l.i)();var e=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"School List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsx)("div",{className:"col-md-12 row",children:Object(p.jsx)("button",{className:"btn btn-sm dark",onClick:function(a){e.push("/admin/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)(X,{})}),Object(p.jsx)("div",{className:"col-md-9 ",children:Object(p.jsx)(ae,{})})]})})]})})})}},{path:"/admin/manage-sub-admin/:page_type?/:admin_id?",component:function(){Object(l.i)();var e=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"Sub Admin List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsx)("div",{className:"col-md-12 row",children:Object(p.jsx)("button",{className:"btn btn-sm dark",onClick:function(a){e.push("/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)(J,{})}),Object(p.jsx)("div",{className:"col-md-9",children:Object(p.jsx)(V,{})})]})})]})})})}}],ze=new(t(106).a)({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function Pe(){return Object(p.jsx)(i.a,{children:Object(p.jsx)("div",{className:"wrapper",children:Object(p.jsx)("div",{className:"row no-gutters",children:Object(p.jsx)(W.a,{client:ze,children:Object(p.jsx)(T,{children:Object(p.jsxs)(M.ToastProvider,{children:[Object(p.jsx)(P,{}),Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsxs)(l.d,{children:[null===Le||void 0===Le?void 0:Le.map((function(e){return Object(p.jsx)(l.b,{exact:!0,path:e.path,component:e.component},e.path)})),null===Be||void 0===Be?void 0:Be.map((function(e){return Object(p.jsx)(U,{exact:!0,path:e.path,component:e.component},e.path)})),null===Ie||void 0===Ie?void 0:Ie.map((function(e){return Object(p.jsx)(Q,{exact:!0,path:e.path,component:e.component},e.path)}))]})})]})})})})})})}o.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(Pe,{})}),document.getElementById("root"))},59:function(e,a,t){},61:function(e,a,t){},90:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){},99:function(e,a,t){}},[[102,1,2]]]);
//# sourceMappingURL=main.fd2371c3.chunk.js.map