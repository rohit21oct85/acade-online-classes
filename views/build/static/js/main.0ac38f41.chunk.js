(this.webpackJsonpresources=this.webpackJsonpresources||[]).push([[0],{100:function(e,a,t){},101:function(e,a,t){},102:function(e,a,t){},103:function(e,a,t){},104:function(e,a,t){"use strict";t.r(a);var s=t(1),n=t.n(s),c=t(23),o=t.n(c),r=(t(61),t(8)),l=t(15),i=t(2),d=t.n(i),u=t(3),m=t(7),j=(t(63),t(107)),b=t(9),p=t(0),h=localStorage.getItem("fullname"),v=localStorage.getItem("email"),O=localStorage.getItem("role"),f=localStorage.getItem("user_type"),x=localStorage.getItem("school_id"),g=localStorage.getItem("school_slug"),N=localStorage.getItem("school_logo"),_=localStorage.getItem("created_at"),y=localStorage.getItem("isLoggedIn"),w=localStorage.getItem("access_token"),k=localStorage.getItem("refresh_token"),S={isLoggedIn:y||!1,fullname:h||null,email:v||null,role:O||null,user_type:f||null,school_id:x||null,school_slug:g||null,school_logo:N||null,created_at:_||null,access_token:w||null,refresh_token:k||null},C=n.a.createContext(S),T=function(e,a){switch(a.type){case"LOGIN":return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:a.payload.isLoggedIn,fullname:a.payload.fullname,email:a.payload.email,role:a.payload.role,user_type:a.payload.user_type,school_id:a.payload.school_id,school_slug:a.payload.school_slug,school_logo:a.payload.school_logo,created_at:a.payload.created_at,access_token:a.payload.access_token,refresh_token:a.payload.refresh_token});case"LOGOUT":return localStorage.clear(),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("fullname"),localStorage.removeItem("email"),localStorage.removeItem("role"),localStorage.removeItem("school_id"),localStorage.removeItem("school_slug"),localStorage.removeItem("school_logo"),Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!1,fullname:null,email:null,access_token:null,refresh_token:null});default:return e}};var A=function(e){var a=e.children,t=Object(s.useReducer)(T,S),n=Object(m.a)(t,2),c=n[0],o=n[1];return Object(p.jsx)(C.Provider,{value:{state:c,dispatch:o},children:a})},D=t(109),L=t(5),I=t.n(L),F="https://acade-online-classes.herokuapp.com/api/";function z(){var e=Object(s.useContext)(C).state;return Object(D.a)("app-modules",Object(u.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.access_token){a.next=5;break}return a.next=3,I.a.get("".concat(F,"v1/module/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return t=a.sent,a.abrupt("return",t.data.data);case 5:case"end":return a.stop()}}),a)}))))}function B(e){var a=e.isLoading;return Object(p.jsx)("div",{children:a&&Object(p.jsx)("div",{className:"spinner-border",style:{width:"16px",height:"16px"},role:"status",children:Object(p.jsx)("span",{className:"sr-only",children:"Loading..."})})})}function P(){var e,a=Object(l.g)(),t=(Object(l.h)(),Object(l.i)()),n=Object(s.useContext)(C),c=n.state,o=n.dispatch,i=z(),b=i.data,h=i.isLoading,v=Object(s.useState)([]),O=Object(m.a)(v,2),f=(O[0],O[1]),x=Object(s.useState)(""),g=Object(m.a)(x,2),N=g[0],_=g[1],y=Object(s.useState)(""),w=Object(m.a)(y,2),k=w[0],S=w[1];Object(s.useEffect)((function(){return D.apply(this,arguments)}),[c,null===t||void 0===t?void 0:t.school_slug]);var T="",A="";function D(){return(D=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"true"===(null===c||void 0===c?void 0:c.isLoggedIn)&&("master_admin"===(null===c||void 0===c?void 0:c.user_type)?(A="/profile.jpg",T="/admin/dashboard"):"school_admin"===(null===c||void 0===c?void 0:c.user_type)&&(A="https://drive.google.com/uc?export=view&id=".concat(null===c||void 0===c?void 0:c.school_logo),T="/school/".concat(null===c||void 0===c?void 0:c.school_slug,"/admin/dashboard")),_(A),S(T),f(b));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsx)(p.Fragment,{children:c.isLoggedIn&&Object(p.jsxs)("div",{className:"login_menu col-lg-2 col-md-2 col-12",bg:"dark",variant:"dark",expand:"lg",children:[Object(p.jsx)("div",{className:"webLogo",children:Object(p.jsx)("img",{src:"/logo.png",style:{width:"62%"},alt:"User"})}),Object(p.jsxs)("div",{className:"user_area",children:[Object(p.jsx)("div",{className:"col-md-12 user_icon",children:Object(p.jsx)("div",{className:"col-md-12 p-0",children:Object(p.jsx)("img",{src:"".concat(N),className:"profileImage"})})}),Object(p.jsxs)("div",{className:"user_options mt-1",children:[Object(p.jsx)("div",{className:"col-md-12 p-0 user_details",children:Object(p.jsx)("span",{className:"user_name",children:null===c||void 0===c?void 0:c.email})}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{as:r.b,children:Object(p.jsxs)("button",{className:"bg-warning dark br-10 pl-2 pr-2",children:[Object(p.jsx)("span",{className:"fa fa-lock mr-2"})," ",null===c||void 0===c||null===(e=c.user_type)||void 0===e?void 0:e.replace("_"," ")]})}),Object(p.jsx)("li",{as:r.b,onClick:function(){o({type:"LOGOUT"}),"master_admin"===(null===c||void 0===c?void 0:c.user_type)?a.push("/"):"school_admin"===(null===c||void 0===c?void 0:c.user_type)?a.push("/school/admin/login"):"school_teacher"===(null===c||void 0===c?void 0:c.user_type)?a.push("/school/teacher/login"):"school_student"===(null===c||void 0===c?void 0:c.user_type)&&a.push("/school/student/login")},alt:"Logout",children:Object(p.jsxs)("button",{className:"bg-danger dark br-10  pl-2 pr-2",children:[Object(p.jsx)("span",{className:"fa fa-power-off mr-2"}),"Logout"]})})]})]})]}),Object(p.jsx)("div",{className:"navbar_menus",children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)(j.a,{className:"ml-auto",children:Object(p.jsxs)(r.c,{to:k,children:[" ",Object(p.jsx)("span",{className:"fa fa-dashboard"})," Dashboard"]})})}),"master_admin"===(null===c||void 0===c?void 0:c.user_type)&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("li",{children:Object(p.jsx)(j.a,{className:"ml-auto",children:Object(p.jsxs)(r.c,{to:"/admin/app-module",children:[" ",Object(p.jsx)("span",{className:"bi bi-list-ol text-warning"})," App Module "]})})}),Object(p.jsx)("li",{children:Object(p.jsx)(j.a,{className:"ml-auto",children:Object(p.jsxs)(r.c,{to:"/admin/app-roles",children:[" ",Object(p.jsx)("span",{className:"bi bi-person-circle text-warning"})," App Roles "]})})}),Object(p.jsx)("li",{children:Object(p.jsx)(j.a,{className:"ml-auto",children:Object(p.jsxs)(r.c,{to:"/admin/app-permissions",children:[" ",Object(p.jsx)("span",{className:"bi bi-gear-wide-connected text-warning"})," App Permissions "]})})})]}),h&&Object(p.jsx)(B,{isLoading:h}),null===b||void 0===b?void 0:b.map((function(e){return Object(p.jsx)("li",{id:null===e||void 0===e?void 0:e.module_slug,children:Object(p.jsx)(j.a,{className:"ml-auto",children:Object(p.jsxs)(r.c,{to:"/admin/".concat(null===e||void 0===e?void 0:e.module_slug),children:[" ",Object(p.jsx)("span",{className:"bi ".concat(null===e||void 0===e?void 0:e.module_icon)})," ",null===e||void 0===e?void 0:e.module_name," "]})})},null===e||void 0===e?void 0:e._id)}))]})})]})})}t(91);var E=t(28),U=function(e){var a=e.component,t=Object(E.a)(e,["component"]),n=Object(s.useContext)(C).state;return Object(p.jsx)(l.b,Object(b.a)(Object(b.a)({},t),{},{render:function(e){return n.isLoggedIn?Object(p.jsx)(a,Object(b.a)({},e)):Object(p.jsx)(l.a,{to:{pathname:"/admin/login"}})}}))},Q=function(e){var a=e.component,t=Object(E.a)(e,["component"]),n=Object(s.useContext)(C).state;return Object(p.jsx)(l.b,Object(b.a)(Object(b.a)({},t),{},{render:function(e){return"1"==n.role?Object(p.jsx)(a,Object(b.a)({},e)):Object(p.jsx)(l.a,{to:{pathname:"/403"}})}}))},M=function(e){var a=e.component,t=Object(E.a)(e,["component"]),n=Object(s.useContext)(C).state;return Object(p.jsx)(l.b,Object(b.a)(Object(b.a)({},t),{},{render:function(e){return"1"==n.role?Object(p.jsx)(a,Object(b.a)({},e)):Object(p.jsx)(l.a,{to:{pathname:"/403"}})}}))},G=(t(92),t(10));function R(){var e=Object(l.g)(),a=(Object(l.h)(),Object(G.useToasts)().addToast),t=Object(s.useRef)(),n=Object(s.useRef)(),c=Object(s.useState)(null),o=Object(m.a)(c,2),i=(o[0],o[1],Object(s.useContext)(C)),j=i.dispatch,b=i.state,h=Object(s.useState)(!1),v=Object(m.a)(h,2),O=v[0],f=v[1],x=function(){var s=Object(u.a)(d.a.mark((function s(c){var o,r,l,i,u,m,b,p,h,v,O,x,g,N,_,y,w,k,S,C,T,A,D,L;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(c.preventDefault(),o=t.current.value,r=n.current.value,""!==o){s.next=8;break}return a("Please enter email address",{appearance:"error",autoDismiss:!0}),s.abrupt("return",!1);case 8:if(""!==r){s.next=14;break}return a("Please enter password",{appearance:"error",autoDismiss:!0}),n.current.focus(),s.abrupt("return",!1);case 14:return f(!0),i={email:t.current.value,password:n.current.value},s.next=18,I.a.post("".concat(F,"v1/admin/login"),i);case 18:203===(null===(u=s.sent)||void 0===u||null===(l=u.data)||void 0===l?void 0:l.status)?(a("".concat(null===u||void 0===u||null===(m=u.data)||void 0===m?void 0:m.message),{appearance:"error",autoDismiss:!0}),f(!1)):(w=null===u||void 0===u||null===(b=u.data)||void 0===b?void 0:b.accessToken,k=null===u||void 0===u||null===(p=u.data)||void 0===p?void 0:p.refreshToken,S=null===u||void 0===u||null===(h=u.data)||void 0===h||null===(v=h.admin)||void 0===v?void 0:v.fullname,C=null===u||void 0===u||null===(O=u.data)||void 0===O||null===(x=O.admin)||void 0===x?void 0:x.email,T=null===u||void 0===u||null===(g=u.data)||void 0===g||null===(N=g.admin)||void 0===N?void 0:N.role,A="master_admin",D=null===u||void 0===u||null===(_=u.data)||void 0===_||null===(y=_.admin)||void 0===y?void 0:y.created_at,L=!0,localStorage.setItem("access_token",w),localStorage.setItem("refresh_token",k),localStorage.setItem("fullname",S),localStorage.setItem("email",C),localStorage.setItem("role",T),localStorage.setItem("user_type",A),localStorage.setItem("created_at",D),localStorage.setItem("isLoggedIn",L),j({type:"LOGIN",payload:{isLoggedIn:L,fullname:S,email:C,role:T,user_type:A,created_at:D,access_token:w,refresh_token:k}}),e.push("/admin/dashboard"));case 20:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();function g(){return(g=Object(u.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:!0===(null===b||void 0===b?void 0:b.isLoggedIn)?"1"===(null===b||void 0===b?void 0:b.role)?e.push("/admin/dashboard"):e.push("/dashboard"):e.push("/admin/login");case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(s.useEffect)((function(){return g.apply(this,arguments)}),[b]),Object(p.jsxs)("div",{className:"container-fluid p-0 m-0 text-center LoginBg",style:{background:"url('/bg.jpg')"},children:[Object(p.jsx)("div",{className:"col-md-12",children:Object(p.jsx)(r.c,{to:"/",children:Object(p.jsx)("img",{className:"logo",alt:"company Logo",src:"/logo.png"})})}),Object(p.jsx)("div",{className:"row no-gutter",children:Object(p.jsxs)("div",{className:"col-md-3 adminLoginDiv",children:[Object(p.jsx)("h4",{children:"Administrator Login "}),Object(p.jsx)("hr",{}),Object(p.jsxs)("form",{autoComplete:"Off",onSubmit:x,children:[Object(p.jsxs)("div",{className:"form-group text-left",children:[Object(p.jsxs)("label",{children:[" ",Object(p.jsx)("span",{className:"fa fa-send mr-2"})," Email address"]}),Object(p.jsx)("input",{className:"form-control",type:"email",autoComplete:"off",ref:t,placeholder:"Enter email"}),Object(p.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your email with anyone else."})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{className:"form-group text-left",children:[Object(p.jsxs)("label",{children:[" ",Object(p.jsx)("span",{className:"fa fa-lock mr-2"})," Password"]}),Object(p.jsx)("input",{className:"form-control",type:"password",autoComplete:"Off",ref:n,placeholder:"Password"}),Object(p.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your password with anyone else."})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("button",{className:"btn btn-md btn-block btn-success dark w-100",type:"submit",children:O?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2",children:" "})," Authenticating..."]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-lock mr-2",children:" "})," Login Your Account"]})}),Object(p.jsx)("hr",{}),Object(p.jsx)("p",{children:"Do you have an Account details provided by your Schools ?"}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(p.jsxs)("button",{className:"btn btn-sm dark mb-2",onClick:function(a){return e.push("/school/admin/login")},children:[Object(p.jsx)("span",{className:"fa fa-lock text-warning mr-2"}),"Login As School Admin"]}),Object(p.jsxs)("button",{className:"btn btn-sm dark mb-2",onClick:function(a){return e.push("/school/teacher/login")},children:[Object(p.jsx)("span",{className:"fa fa-lock text-warning mr-2"}),"Login As School Teacher"]}),Object(p.jsxs)("button",{className:"btn btn-sm dark",onClick:function(a){return e.push("/school/student/login")},children:[Object(p.jsx)("span",{className:"fa fa-lock text-warning mr-2"}),"Login As School Student"]})]})]})]})})]})}t(99);function W(){var e=Object(l.g)(),a=Object(l.h)(),t=null===a||void 0===a?void 0:a.pathname,n=Object(s.useContext)(C).state;function c(){return(c=Object(u.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:"/admin/"===t&&e.push("/admin/dashboard");case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(s.useEffect)((function(){return c.apply(this,arguments)}),[n]),Object(p.jsx)(p.Fragment,{children:n.isLoggedIn&&Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"Dashboard"})}),Object(p.jsx)("div",{className:"dash_over_view",children:Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-12 pl-0",children:1===n.role&&Object(p.jsx)("div",{className:"col-md-3 card ml-3  pt-2 pb-2 main-box gradient-ibiza",children:Object(p.jsxs)("div",{className:"card-body pt-0 pb-0 pl-0",children:[Object(p.jsxs)("div",{className:"box-head",children:[Object(p.jsx)("h4",{children:"Admin"}),Object(p.jsx)("div",{className:"box-icon",children:Object(p.jsx)("span",{className:"fa fa-users"})})]}),Object(p.jsx)("div",{className:"main-box-text",children:Object(p.jsx)("b",{children:"Total: 1 "})})]})})})})})]})})})})}var H=t(16),Y=(t(53),function(e){var a,t,s;return null===e||void 0===e||null===(a=e.trim())||void 0===a||null===(t=a.toLowerCase())||void 0===t||null===(s=t.replace(/[^\w ]+/g,""))||void 0===s?void 0:s.replace(/ +/g,"-")});var Z=t(31),q=t(110);function J(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(G.useToasts)().addToast,n=function(e){Object(l.i)();var a=Object(s.useContext)(C).state;return Object(D.a)("single-module-".concat(e),Object(u.a)(d.a.mark((function t(){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e){t.next=5;break}return t.next=3,I.a.get("".concat(F,"v1/school/view/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return s=t.sent,t.abrupt("return",s.data.data);case 5:case"end":return t.stop()}}),t)}))))}(null===a||void 0===a?void 0:a.school_id).data,c=Object(s.useState)({}),o=Object(m.a)(c,2),r=o[0],i=o[1],j={name:"",address:"",logo:"",zip_code:"",admin_email:"",admin_mobile:""},h=Object(s.useState)({}),v=Object(m.a)(h,2),O=v[0],f=v[1];Object(s.useEffect)((function(){f(j),i(j)}),[null===a||void 0===a?void 0:a.page_type]),Object(s.useEffect)((function(){void 0!==n&&i(n)}),[n]);var x=function(e){var a=Object(Z.b)(),t=Object(s.useContext)(C).state,n=(Object(l.i)(),Object(l.h)().pathname,Object(l.g)()),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},o=Object(G.useToasts)().addToast;return Object(q.a)((function(e){return I.a.post("".concat(F,"v1/school/create"),e,c)}),{onSuccess:function(){a.invalidateQueries("schools"),o("School added successfully",{appearance:"success",autoDismiss:!0}),n.push("/admin/school-management")}})}(),g=function(e){var a=Object(l.i)(),t=(Object(l.h)().pathname,Object(l.g)()),n=Object(Z.b)(),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(s.useContext)(C).state.access_token}},o=Object(G.useToasts)().addToast;return Object(q.a)((function(e){var t=null===a||void 0===a?void 0:a.school_id;return I.a.patch("".concat(F,"v1/school/update/").concat(t),e,c)}),{onSuccess:function(){n.invalidateQueries("schools"),o("Category Updated successfully",{appearance:"success",autoDismiss:!0}),t.push("/admin/school-management")}})}(),N=function(){Object(l.h)().pathname;var e=Object(l.g)(),a=Object(Z.b)(),t={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(s.useContext)(C).state.access_token}},n=Object(G.useToasts)().addToast;return Object(q.a)((function(e){return I.a.post("".concat(F,"v1/school/delete"),e,t)}),{onSuccess:function(){a.invalidateQueries("schools"),e.push("/admin/school-management"),n("School deleted successfully",{appearance:"success",autoDismiss:!0})}})}(),_=function(){var e=Object(u.a)(d.a.mark((function e(s){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),O.name=(null===a||void 0===a?void 0:a.school_id)?null===r||void 0===r?void 0:r.name:null===O||void 0===O?void 0:O.name,O.slug=Y((null===a||void 0===a?void 0:a.school_id)?null===r||void 0===r?void 0:r.name:null===O||void 0===O?void 0:O.name),!(null===a||void 0===a?void 0:a.school_id)){e.next=8;break}return e.next=6,g.mutate(r);case 6:e.next=34;break;case 8:if(""!=(null===O||void 0===O?void 0:O.name)){e.next=12;break}t("Please Enter school name",{appearance:"error",autoDismiss:!0}),e.next=34;break;case 12:if(""!=(null===O||void 0===O?void 0:O.admin_email)){e.next=16;break}t("Please provide admin email",{appearance:"error",autoDismiss:!0}),e.next=34;break;case 16:if(!1!==S(null===O||void 0===O?void 0:O.zip_code)){e.next=20;break}t("Please enter numbers only",{appearance:"error",autoDismiss:!0}),e.next=34;break;case 20:if(!((null===O||void 0===O||null===(n=O.zip_code)||void 0===n?void 0:n.length)<6)){e.next=24;break}t("Please provide valid zip code",{appearance:"error",autoDismiss:!0}),e.next=34;break;case 24:if(!((null===O||void 0===O||null===(c=O.mobile)||void 0===c?void 0:c.length)<10)){e.next=28;break}t("Please enter valid mobile number",{appearance:"error",autoDismiss:!0}),e.next=34;break;case 28:if(!1!==S(null===O||void 0===O?void 0:O.mobile)){e.next=32;break}t("Please enter valid mobile number",{appearance:"error",autoDismiss:!0}),e.next=34;break;case 32:return e.next=34,x.mutate(O);case 34:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function y(){return(y=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===a||void 0===a?void 0:a.school_id)){e.next=4;break}return O.school_id=null===a||void 0===a?void 0:a.school_id,e.next=4,N.mutate(O);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===a||void 0===a?void 0:a.school_id)?i(Object(b.a)(Object(b.a)({},r),{},Object(H.a)({},t.target.name,t.target.value))):f(Object(b.a)(Object(b.a)({},O),{},Object(H.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){var a=(e=e||window.event).which?e.which:e.keyCode;return!(a>31&&(a<48||a>57))}function T(e){return A.apply(this,arguments)}function A(){return(A=Object(u.a)(d.a.mark((function e(a){var s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===S(a.target.value)?(t("Please provide valid ".concat(a.target.name),{appearance:"error",autoDismiss:!0}),document.getElementsByName("".concat(a.target.name))[0].innerText="",document.getElementsByName("".concat(a.target.name))[0].focus()):("mobile"===a.target.name&&(null===(s=a.target.value)||void 0===s?void 0:s.length)<10||"zip_code"===a.target.name&&(null===(n=a.target.value)||void 0===n?void 0:n.length)<6)&&(t("Please provide valid ".concat(a.target.name),{appearance:"error",autoDismiss:!0}),document.getElementsByName("".concat(a.target.name))[0].innerHTML=null,document.getElementsByName("".concat(a.target.name))[0].focus());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a.target.value).toLowerCase())&&(t("Please provide valid ".concat(a.target.name),{appearance:"error",autoDismiss:!0}),document.getElementsByName("".concat(a.target.name))[0].innerHTML=null,document.getElementsByName("".concat(a.target.name))[0].focus());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(u.a)(d.a.mark((function e(t){var s,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),s=t.target.value,n=s.split("/"),c=n[5],s.length>0&&((null===a||void 0===a?void 0:a.school_id)?i(Object(b.a)(Object(b.a)({},r),{},{logo:c})):f(Object(b.a)(Object(b.a)({},O),{},{logo:c})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New School"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:_,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"name",value:(null===a||void 0===a?void 0:a.school_id)?null===r||void 0===r?void 0:r.name:null===O||void 0===O?void 0:O.name,onChange:w,autoComplete:"no-password",placeholder:"School Name"})}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("input",{type:"text",className:"form-control",name:"logo",value:(null===a||void 0===a?void 0:a.school_id)?null===r||void 0===r?void 0:r.logo:null===O||void 0===O?void 0:O.logo,onChange:w,onBlur:function(e){return z.apply(this,arguments)},autoComplete:"no-password",placeholder:"School logo image urls"}),Object(p.jsx)("span",{style:{fontSize:"0.7rem"},children:"Note: Please copy public image url."})]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"address",value:(null===a||void 0===a?void 0:a.school_id)?null===r||void 0===r?void 0:r.address:null===O||void 0===O?void 0:O.address,onChange:w,autoComplete:"no-password",placeholder:"address"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"zip_code",maxLength:6,value:(null===a||void 0===a?void 0:a.school_id)?null===r||void 0===r?void 0:r.zip_code:null===O||void 0===O?void 0:O.zip_code,onChange:w,autoComplete:"no-password",onBlur:T,placeholder:"zip_code"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"admin_email",value:(null===a||void 0===a?void 0:a.school_id)?null===r||void 0===r?void 0:r.admin_email:null===O||void 0===O?void 0:O.admin_email,onChange:w,onBlur:function(e){return L.apply(this,arguments)},autoComplete:"no-password",placeholder:"admin_email"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"admin_mobile",value:(null===a||void 0===a?void 0:a.school_id)?null===r||void 0===r?void 0:r.admin_mobile:null===O||void 0===O?void 0:O.admin_mobile,onChange:w,maxLength:10,onBlur:T,autoComplete:"no-password",placeholder:"admin_mobile"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark br-5",children:x.isLoading||g.isLoading?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("span",{className:"fa fa-spinner mr-2"})}):Object(p.jsx)(p.Fragment,{children:(null===a||void 0===a?void 0:a.school_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"}),"Update"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"}),"Save"]})})}),(null===a||void 0===a?void 0:a.school_id)&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("button",{className:"btn btn-sm bg-danger br-5 text-white ml-2",onClick:function(a){a.preventDefault(),f({}),i({}),e.push("/admin/school-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]}),Object(p.jsxs)("button",{className:"btn btn-sm bg-warning br-5 text-white ml-2",onClick:function(e){return y.apply(this,arguments)},children:[N.isLoading?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("span",{className:"fa fa-spinner mr-2"})}):Object(p.jsx)("span",{className:"fa fa-trash mr-2"}),"Delete"]})]})]})]})]})}function $(){var e=Object(s.useContext)(C).state;return Object(D.a)("schools",Object(u.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.access_token){a.next=5;break}return a.next=3,I.a.get("".concat(F,"v1/school/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return t=a.sent,a.abrupt("return",t.data.data);case 5:case"end":return a.stop()}}),a)}))))}function K(){var e=$(),a=e.data,t=e.isLoading,s=Object(l.g)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New School"]}),Object(p.jsx)("hr",{className:"mt-1"}),t&&Object(p.jsx)(B,{isLoading:t}),Object(p.jsx)("div",{className:"col-md-12 row",style:{height:"auto !important",maxHeight:"400px",overflow:"scroll"},children:!t&&(null===a||void 0===a?void 0:a.map((function(e){return Object(p.jsx)("div",{className:"card mb-2 pl-3 pr-3 col-md-6 no-gutter",style:{display:"flex",justifyContent:"space-between"},children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3 pl-2 pt-2",children:Object(p.jsx)("img",{src:"https://drive.google.com/uc?export=view&id=".concat(null===e||void 0===e?void 0:e.logo),style:{width:"90px",height:"90px"},className:"img-responsive"})}),Object(p.jsxs)("div",{className:"col-md-9 pr-3 pl-3",children:[Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label",children:"School Name:"}),Object(p.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.name})]}),Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label",children:"Zipcode:"}),Object(p.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.zip_code})]}),Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label",children:"Admin Email:"}),Object(p.jsx)("div",{className:"name-main text-lower",children:null===e||void 0===e?void 0:e.admin_email})]}),Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label",children:"Admin Mobile:"}),Object(p.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.admin_mobile})]})]}),Object(p.jsxs)("div",{className:"col-md-12 pl-0 pr-0 pb-2",children:[Object(p.jsx)("hr",{className:"mb-1"}),Object(p.jsx)("div",{className:"pl-2 pr-2",children:Object(p.jsx)("span",{className:"fa fa-pencil text-warning mr-2 pointer",onClick:function(a){s.push("/admin/school-management/modify-school/".concat(null===e||void 0===e?void 0:e._id))}})})]})]})},null===e||void 0===e?void 0:e._id)})))})]})}function V(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(G.useToasts)().addToast,n={first_name:"",last_name:"",admin_email:"",password:""},c=$().data,o=function(e){Object(l.i)();var a=Object(s.useContext)(C).state;return Object(D.a)("single-school-admin-".concat(e),Object(u.a)(d.a.mark((function t(){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e){t.next=5;break}return t.next=3,I.a.get("".concat(F,"v1/school-admin/view/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return s=t.sent,t.abrupt("return",s.data.data);case 5:case"end":return t.stop()}}),t)}))))}(null===a||void 0===a?void 0:a.school_admin_id).data,r=Object(s.useState)({}),i=Object(m.a)(r,2),j=i[0],h=i[1],v=Object(s.useState)(""),O=Object(m.a)(v,2),f=(O[0],O[1],function(e){var a=Object(Z.b)(),t=Object(s.useContext)(C).state,n=(Object(l.i)(),Object(l.h)().pathname,Object(l.g)()),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},o=Object(G.useToasts)().addToast;return Object(q.a)((function(e){return I.a.post("".concat(F,"v1/school-admin/create"),e,c)}),{onSuccess:function(){a.invalidateQueries("school-admins"),o("School admin created successfully",{appearance:"success",autoDismiss:!0}),n.push("/admin/auth-management")}})}()),x=function(e){var a=Object(l.i)(),t=(Object(l.h)().pathname,Object(l.g)()),n=Object(Z.b)(),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(s.useContext)(C).state.access_token}},o=Object(G.useToasts)().addToast;return Object(q.a)((function(e){var t=null===a||void 0===a?void 0:a.school_admin_id;return I.a.patch("".concat(F,"v1/school-admin/update/").concat(t),e,c)}),{onSuccess:function(){n.invalidateQueries("school-admins"),o("School Admin Updated successfully",{appearance:"success",autoDismiss:!0}),t.push("/admin/auth-management")}})}(),g=function(){Object(l.h)().pathname;var e=Object(l.g)(),a=Object(Z.b)(),t={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(s.useContext)(C).state.access_token}},n=Object(G.useToasts)().addToast;return Object(q.a)((function(e){return I.a.post("".concat(F,"v1/school-admin/delete"),e,t)}),{onSuccess:function(){a.invalidateQueries("school-admins"),e.push("/admin/school-admin-management"),n("School deleted successfully",{appearance:"success",autoDismiss:!0})}})}(),N=function(){var e=Object(u.a)(d.a.mark((function e(s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),(null===a||void 0===a?void 0:a.school_admin_id)?(null===o||void 0===o?void 0:o.first_name)===(null===j||void 0===j?void 0:j.first_name)?j.first_name=null===o||void 0===o?void 0:o.first_name:(null===o||void 0===o?void 0:o.first_name)!==(null===j||void 0===j?void 0:j.first_name)&&(j.first_name=null===j||void 0===j?void 0:j.first_name):j.first_name=null===j||void 0===j?void 0:j.first_name,(null===a||void 0===a?void 0:a.school_admin_id)?(null===o||void 0===o?void 0:o.last_name)===(null===j||void 0===j?void 0:j.last_name)?j.last_name=null===o||void 0===o?void 0:o.last_name:(null===o||void 0===o?void 0:o.last_name)!==(null===j||void 0===j?void 0:j.last_name)&&(j.last_name=null===j||void 0===j?void 0:j.last_name):j.last_name=null===j||void 0===j?void 0:j.last_name,(null===a||void 0===a?void 0:a.school_admin_id)?(null===o||void 0===o?void 0:o.plain_password)===(null===j||void 0===j?void 0:j.password)?j.plain_password=null===o||void 0===o?void 0:o.plain_password:(null===o||void 0===o?void 0:o.plain_password)!==(null===j||void 0===j?void 0:j.password)&&(j.plain_password=null===j||void 0===j?void 0:j.password):j.plain_password=null===j||void 0===j?void 0:j.password,(null===a||void 0===a?void 0:a.school_admin_id)?(null===o||void 0===o?void 0:o.plain_password)===(null===j||void 0===j?void 0:j.password)?j.password=null===o||void 0===o?void 0:o.plain_password:(null===o||void 0===o?void 0:o.plain_password)!==(null===j||void 0===j?void 0:j.password)&&(j.password=null===o||void 0===o?void 0:o.password):j.password=null===j||void 0===j?void 0:j.password,j.email=(null===a||void 0===a?void 0:a.school_admin_id)?null===o||void 0===o?void 0:o.email:null===a||void 0===a?void 0:a.school_admin_email,j.school_id=null===a||void 0===a?void 0:a.school_id,j.role=1,console.log(j),!(null===a||void 0===a?void 0:a.school_admin_id)){e.next=14;break}return e.next=12,x.mutate(j);case 12:e.next=28;break;case 14:if(""!=(null===j||void 0===j?void 0:j.first_name)){e.next=18;break}t("Please Enter admin first name",{appearance:"error",autoDismiss:!0}),e.next=28;break;case 18:if(""!=(null===j||void 0===j?void 0:j.last_name)){e.next=22;break}t("Please provide last name",{appearance:"error",autoDismiss:!0}),e.next=28;break;case 22:if(""!=(null===j||void 0===j?void 0:j.email)){e.next=26;break}t("Please provide admin email",{appearance:"error",autoDismiss:!0}),e.next=28;break;case 26:return e.next=28,f.mutate(j);case 28:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function _(){return(_=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===a||void 0===a?void 0:a.school_admin_id)){e.next=5;break}return j.school_admin_id=null===a||void 0===a?void 0:a.school_admin_id,j.school_admin_email=null===a||void 0===a?void 0:a.school_admin_email,e.next=5,g.mutate(j);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(Object(b.a)(Object(b.a)({},j),{},Object(H.a)({},a.target.name,a.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a.target.value).toLowerCase())&&(t("Please provide valid ".concat(a.target.name),{appearance:"error",autoDismiss:!0}),document.getElementsByName("".concat(a.target.name))[0].innerHTML=null,document.getElementsByName("".concat(a.target.name))[0].focus());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return(T=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(n);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)(S,[null===a||void 0===a?void 0:a.page_type]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Create School Admin"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:N,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control",value:"".concat(null===a||void 0===a?void 0:a.school_id,"_").concat(null===a||void 0===a?void 0:a.school_admin_email),onChange:function(a){if("-"!=a.target.value){var t=a.target.value.split("_"),s=t[0],n=t[1];e.push("/admin/auth-management/add-password/".concat(s,"/").concat(n))}else e.push("/admin/auth-management")},children:[Object(p.jsx)("option",{value:"-",children:"Select School"}),null===c||void 0===c?void 0:c.map((function(e){return Object(p.jsx)("option",{value:"".concat(null===e||void 0===e?void 0:e._id,"_").concat(null===e||void 0===e?void 0:e.admin_email),children:null===e||void 0===e?void 0:e.name})}))]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"email",value:(null===a||void 0===a?void 0:a.school_admin_id)?null===o||void 0===o?void 0:o.email:null===a||void 0===a?void 0:a.school_admin_email,onChange:y,onBlur:function(e){return k.apply(this,arguments)},autoComplete:"no-password",placeholder:"admin_email",disabled:null===a||void 0===a?void 0:a.school_admin_id})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"first_name",value:(null===a||void 0===a?void 0:a.school_admin_id)?null===o||void 0===o?void 0:o.first_name:null===j||void 0===j?void 0:j.first_name,onChange:y,autoComplete:"no-password",placeholder:"first name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"last_name",value:(null===a||void 0===a?void 0:a.school_admin_id)?null===o||void 0===o?void 0:o.last_name:null===j||void 0===j?void 0:j.last_name,onChange:y,autoComplete:"no-password",placeholder:"last name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"password",onChange:y,autoComplete:"no-password",placeholder:"enter password"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark br-5",disabled:f.isLoading||x.isLoading,children:f.isLoading||x.isLoading?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("span",{className:"fa fa-spinner mr-2"})}):Object(p.jsx)(p.Fragment,{children:(null===a||void 0===a?void 0:a.school_admin_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"}),"Update"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"}),"Save"]})})}),((null===a||void 0===a?void 0:a.school_admin_id)||(null===a||void 0===a?void 0:a.school_id))&&Object(p.jsxs)("button",{className:"btn btn-sm bg-danger br-5 text-white ml-2",onClick:function(a){a.preventDefault(),h(Object(b.a)({},j)),S(),e.push("/admin/auth-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]}),(null===a||void 0===a?void 0:a.school_admin_id)&&Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("button",{className:"btn btn-sm bg-warning br-5 text-white ml-2",onClick:function(e){return _.apply(this,arguments)},children:[g.isLoading?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("span",{className:"fa fa-spinner mr-2"})}):Object(p.jsx)("span",{className:"fa fa-trash mr-2"}),"Delete"]})})]})]})]})}var X=t(54);function ee(){var e=function(){var e=Object(s.useContext)(C).state;return Object(D.a)("school-admins",Object(u.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.access_token){a.next=5;break}return a.next=3,I.a.get("".concat(F,"v1/school-admin/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return t=a.sent,a.abrupt("return",t.data.data);case 5:case"end":return a.stop()}}),a)}))))}(),a=e.data,t=e.isLoading,n=$().data,c=Object(l.g)(),o=Object(s.useState)([]),r=Object(m.a)(o,2),i=r[0],j=r[1];function b(){return(b=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}a.map(function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(null===a||void 0===a?void 0:a.school_id);case 2:a.school_name=e.sent,j((function(e){return[].concat(Object(X.a)(e),[a])}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(d.a.mark((function e(a){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null===n||void 0===n?void 0:n.filter((function(e){return(null===e||void 0===e?void 0:e._id)===a})),e.abrupt("return",s&&(null===(t=s[0])||void 0===t?void 0:t.name));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){return b.apply(this,arguments)}),[a]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"School Admins"]}),Object(p.jsx)("hr",{className:"mt-1"}),t&&Object(p.jsx)(B,{isLoading:t}),Object(p.jsx)("div",{className:"col-md-12 row",style:{height:"auto !important",maxHeight:"400px",overflow:"scroll"},children:!t&&(null===i||void 0===i?void 0:i.map((function(e){return Object(p.jsx)("div",{className:"card mb-2 pl-3 pr-3 col-md-6 no-gutter",style:{display:"flex",justifyContent:"space-between"},children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-md-12 pr-3 pl-3",children:[Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label",children:"School Name:"}),Object(p.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.school_name})]}),Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label",children:"First Name:"}),Object(p.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.first_name})]}),Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label",children:"Last Name:"}),Object(p.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.last_name})]}),Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsx)("div",{className:"name-label",children:"Admin Email:"}),Object(p.jsx)("div",{className:"name-main text-lower",children:null===e||void 0===e?void 0:e.email})]})]}),Object(p.jsxs)("div",{className:"col-md-12 pl-0 pr-0 pb-2",children:[Object(p.jsx)("hr",{className:"mb-1"}),Object(p.jsx)("div",{className:"pl-2 pr-2",children:Object(p.jsx)("span",{className:"fa fa-pencil text-warning mr-2 pointer",onClick:function(a){c.push("/admin/auth-management/modify-admin/".concat(null===e||void 0===e?void 0:e.school_id,"/").concat(null===e||void 0===e?void 0:e.email,"/").concat(null===e||void 0===e?void 0:e._id))}})})]})]})},null===e||void 0===e?void 0:e._id)})))})]})}t(100);t(101);t(102);function ae(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(l.h)().pathname,n=Object(G.useToasts)().addToast,c=Object(s.useContext)(C).state,o=Object(s.useState)(""),r=Object(m.a)(o,2),i=r[0],j=r[1],h=Object(s.useState)(""),v=Object(m.a)(h,2),O=v[0],f=v[1],x=Object(s.useState)(!1),g=Object(m.a)(x,2),N=g[0],_=g[1],y=function(){var e=Object(l.i)(),a=null===e||void 0===e?void 0:e.module_id,t=Object(s.useContext)(C).state;return Object(D.a)("single-module-".concat(a),Object(u.a)(d.a.mark((function e(){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,I.a.get("".concat(F,"v1/module/view/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return s=e.sent,e.abrupt("return",s.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,w=Object(s.useState)(),k=Object(m.a)(w,2),S=k[0],T=k[1],A=Object(s.useState)({}),L=Object(m.a)(A,2),z=L[0];L[1];function B(){j(""),f(""),T({})}Object(s.useEffect)((function(){T(y)}),[y]);var P=Object(Z.b)(),E={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},U=Object(q.a)((function(e){return I.a.post("".concat(F,"v1/module/create"),e,E)}),{onSuccess:function(){P.invalidateQueries("app-modules"),_(!1),B(),e.push("".concat(t)),n("App Module added successfully",{appearance:"success",autoDismiss:!0})}}),Q=Object(q.a)((function(e){var t=null===a||void 0===a?void 0:a.module_id;return I.a.patch("".concat(F,"v1/module/update/").concat(t),e,E)}),{onSuccess:function(){P.invalidateQueries("app-modules"),_(!1),B(),e.push("".concat(t)),n("App Module Updated successfully",{appearance:"success",autoDismiss:!0}),e.push("/admin/app-module")}}),M=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),_(!0),z.module_name=(null===a||void 0===a?void 0:a.module_id)?null===S||void 0===S?void 0:S.module_name:i,z.module_slug=Y((null===a||void 0===a?void 0:a.module_id)?null===S||void 0===S?void 0:S.module_name:i),z.module_icon=(null===a||void 0===a?void 0:a.module_id)?null===S||void 0===S?void 0:S.module_icon:O,!(null===a||void 0===a?void 0:a.module_id)){e.next=10;break}return e.next=8,Q.mutate(z);case 8:e.next=12;break;case 10:return e.next=12,U.mutate(z);case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Create App Module"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:M,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",value:(null===a||void 0===a?void 0:a.module_id)?null===S||void 0===S?void 0:S.module_name:i,onChange:function(e){(null===a||void 0===a?void 0:a.module_id)?T(Object(b.a)(Object(b.a)({},S),{},{module_name:e.target.value})):j(e.target.value)},placeholder:"Module Name"})}),Object(p.jsxs)("div",{className:"form-group p-rel",children:[Object(p.jsx)("input",{type:"text",className:"form-control ".concat((null===a||void 0===a?void 0:a.module_id)?"pl6x":""),value:(null===a||void 0===a?void 0:a.module_id)?null===S||void 0===S?void 0:S.module_icon:O,placeholder:"Module Icon",onChange:function(e){(null===a||void 0===a?void 0:a.module_id)?T(Object(b.a)(Object(b.a)({},S),{},{module_icon:e.target.value})):f(e.target.value)}}),Object(p.jsx)("span",{className:"fa p-abs tl10 ".concat(null===S||void 0===S?void 0:S.module_icon)})]}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",children:N?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:(null===a||void 0===a?void 0:a.module_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Update Module"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Save Module"]})})}),(null===a||void 0===a?void 0:a.module_id)&&Object(p.jsxs)("button",{className:"btn btn-sm dark ml-2",onClick:function(a){a.preventDefault(),B(),T({}),e.push("/admin/app-module")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function te(e){var a=e.module,t=Object(l.g)();return Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",flexDirection:"row-reverse"},children:[Object(p.jsx)("span",{className:"fa fa-minus-square pointer text-danger"}),Object(p.jsx)("span",{className:"fa fa-pencil-square mr-2 text-success pointer",onClick:function(e){e.preventDefault(),t.push("/admin/app-module/".concat(null===a||void 0===a?void 0:a._id))}}),Object(p.jsx)("span",{className:"fa fa-eye mr-2 pointer text-danger",onClick:function(e){return t.push("/admin/".concat(null===a||void 0===a?void 0:a.module_slug))}})]})}function se(e){var a=e.module;return Object(p.jsx)("div",{className:"lg-card",children:Object(p.jsxs)("div",{className:"admin-name",children:[Object(p.jsxs)("div",{className:"name-main",children:[Object(p.jsx)("span",{className:"fa ".concat(null===a||void 0===a?void 0:a.module_icon," mt-1 mr-2")}),null===a||void 0===a?void 0:a.module_name]}),Object(p.jsx)(te,{module:a})]})})}function ne(){var e=z(),a=e.data,t=e.isLoading;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"App Modules"]}),Object(p.jsx)("hr",{className:"mt-1"}),t&&Object(p.jsx)(B,{isLoading:t}),Object(p.jsx)("div",{className:"col-md-12 row no-gutter data-container",children:null===a||void 0===a?void 0:a.map((function(e){return Object(p.jsx)(se,{module:e},null===e||void 0===e?void 0:e._id)}))})]})}t(103);function ce(){Object(l.i)();var e=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"App Modules List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsx)("div",{className:"col-md-12 row",children:Object(p.jsx)("button",{className:"btn btn-sm dark",onClick:function(a){e.push("/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)(ae,{})}),Object(p.jsx)("div",{className:"col-md-9",children:Object(p.jsx)(ne,{})})]})})]})})})}function oe(){var e=Object(s.useContext)(C).state;return Object(D.a)("teachers",Object(u.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.access_token){a.next=5;break}return a.next=3,I.a.get("".concat(F,"v1/teacher/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return t=a.sent,a.abrupt("return",t.data.data);case 5:case"end":return a.stop()}}),a)}))))}function re(){var e=Object(s.useContext)(C).state,a=Object(l.i)();return Object(D.a)("classes",Object(u.a)(d.a.mark((function t(){var s,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.access_token){t.next=13;break}if(console.log(a),a.school_id){t.next=9;break}return t.next=5,I.a.get("".concat(F,"v1/class/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 5:return s=t.sent,t.abrupt("return",s.data.data);case 9:return t.next=11,I.a.get("".concat(F,"v1/class/class-by-school-id/").concat(a.school_id),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 11:return n=t.sent,t.abrupt("return",n.data.data);case 13:case"end":return t.stop()}}),t)}))))}function le(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(l.h)().pathname,n=Object(G.useToasts)().addToast,c=Object(s.useContext)(C).state,o=Object(s.useState)(!1),r=Object(m.a)(o,2),i=r[0],j=r[1],h=Object(s.useState)("admin"),v=Object(m.a)(h,2),O=v[0],f=(v[1],function(){var e=Object(l.i)(),a=null===e||void 0===e?void 0:e.class_id,t=Object(s.useContext)(C).state;return Object(D.a)("single-module-".concat(a),Object(u.a)(d.a.mark((function e(){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,I.a.get("".concat(F,"v1/class/view/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return s=e.sent,e.abrupt("return",s.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data),x=$(),g=x.data,N=x.isLoading,_=oe(),y=_.data,w=_.teachersIsLoading,k=re(),S=(k.data,k.classIsLoading,Object(s.useState)({})),T=Object(m.a)(S,2),A=T[0],L=T[1],z={class_name:"",section:"",capacity:"",class_teacher:"",school_id:"",teacher_id:""},B=Object(s.useState)(z),P=Object(m.a)(B,2),E=P[0],U=P[1];Object(s.useEffect)((function(){L(f)}),[f]);var Q=Object(Z.b)(),M={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},R=Object(q.a)((function(e){return I.a.post("".concat(F,"v1/class/create"),e,M)}),{onSuccess:function(){Q.invalidateQueries("classes"),j(!1),U(z),e.push("".concat(t)),n("Class added successfully",{appearance:"success",autoDismiss:!0})}}),W=Object(q.a)((function(e){var t=null===a||void 0===a?void 0:a.class_id;return I.a.patch("".concat(F,"v1/class/update/").concat(t),e,M)}),{onSuccess:function(){Q.invalidateQueries("classes"),j(!1),U(z),e.push("".concat(t)),n("Class Updated successfully",{appearance:"success",autoDismiss:!0})}}),Y=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),j(!0),!(null===a||void 0===a?void 0:a.class_id)){e.next=7;break}return e.next=5,W.mutate(A);case 5:e.next=19;break;case 7:if(""!=E.school_id){e.next=12;break}j(!1),n("Please Select a School",{appearance:"error",autoDismiss:!0}),e.next=19;break;case 12:if(""!=E.teacher_id){e.next=17;break}j(!1),n("Please Select a Teacher",{appearance:"error",autoDismiss:!0}),e.next=19;break;case 17:return e.next=19,R.mutate(E);case 19:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function J(e){return K.apply(this,arguments)}function K(){return(K=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===a||void 0===a?void 0:a.class_id)?L(Object(b.a)(Object(b.a)({},A),{},Object(H.a)({},t.target.name,t.target.value))):U(Object(b.a)(Object(b.a)({},E),{},Object(H.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(u.a)(d.a.mark((function t(s){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===a||void 0===a?void 0:a.class_id)?L(Object(b.a)(Object(b.a)({},A),{},Object(H.a)({},s.target.name,s.target.value))):(U(Object(b.a)(Object(b.a)({},E),{},Object(H.a)({},"school_id",s.target.value))),e.push("/admin/class-management/select-school/".concat(s.target.value)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Class"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:Y,children:["admin"==O&&Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){return V.apply(this,arguments)},children:[Object(p.jsx)("option",{children:"Select School"}),!N&&(null===g||void 0===g?void 0:g.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.name},e._id)})))]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"teacher_id",onChange:J,children:[Object(p.jsx)("option",{children:"Select Teacher"}),!w&&(null===y||void 0===y?void 0:y.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.first_name+" "+e.last_name},e._id)})))]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"class_name",value:(null===a||void 0===a?void 0:a.class_id)?null===A||void 0===A?void 0:A.class_name:null===E||void 0===E?void 0:E.class_name,onChange:J,placeholder:"Class Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"section",value:(null===a||void 0===a?void 0:a.class_id)?null===A||void 0===A?void 0:A.section:null===E||void 0===E?void 0:E.section,onChange:J,placeholder:"Section"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"number",className:"form-control",name:"capacity",value:(null===a||void 0===a?void 0:a.class_id)?null===A||void 0===A?void 0:A.capacity:null===E||void 0===E?void 0:E.capacity,onChange:J,placeholder:"Class Capacity"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"class_teacher",value:(null===a||void 0===a?void 0:a.class_id)?null===A||void 0===A?void 0:A.class_teacher:null===E||void 0===E?void 0:E.class_teacher,onChange:J,placeholder:"Class Teacher"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",children:i?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:(null===a||void 0===a?void 0:a.class_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Update Class"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Save Class"]})})}),((null===a||void 0===a?void 0:a.class_id)||(null===a||void 0===a?void 0:a.school_id))&&Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(a){a.preventDefault(),e.push("/admin/class-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function ie(){var e=new FormData,a=Object(s.useState)(!1),t=Object(m.a)(a,2),n=t[0],c=t[1],o=Object(s.useState)(!0),r=Object(m.a)(o,2),i=r[0],j=r[1],b=Object(s.useContext)(C).state,h=Object(G.useToasts)().addToast,v=Object(s.useState)(null),O=Object(m.a)(v,2),f=O[0],x=O[1],g=Object(s.useState)(),N=Object(m.a)(g,2),_=N[0],y=N[1],w=Object(s.useState)(!1),k=Object(m.a)(w,2),S=k[0],T=k[1],A=Object(s.useState)("admin"),D=Object(m.a)(A,2),L=D[0],z=(D[1],Object(l.g)()),B=$(),P=B.data,E=B.isLoading,U=Object(Z.b)(),Q={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+b.access_token}};function M(){return(M=Object(u.a)(d.a.mark((function a(t){var s,n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s=t.target.files[0].name,console.log("file onchange ",s),n=s.split(".")[1],console.log(n),"csv"===n?(j(!1),x(t.target.files[0]),e.append("test","testdata")):(j(!0),h("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var R=Object(q.a)((function(e){return I.a.post("".concat(F,"v1/class/upload"),e,Q)}),{onSuccess:function(){U.invalidateQueries("classes"),c(!1),z.push("".concat(path)),h("Classes added successfully",{appearance:"success",autoDismiss:!0})}}),W=function(){var a=Object(u.a)(d.a.mark((function a(t){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),S){a.next=4;break}return h("Please Select a School",{appearance:"error",autoDismiss:!0}),a.abrupt("return");case 4:return e.append("file",f),e.append("school_id",_),a.next=8,R.mutate(e);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Upload Classes"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:W,method:"POST",encType:"multipart/form-data",children:["admin"==L&&Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control","aria-label":"Default select example",name:"school_id",onChange:function(e){y(e.target.value),T(!0)},children:[Object(p.jsx)("option",{children:"Select School"}),!E&&(null===P||void 0===P?void 0:P.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.name},e._id)})))]})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return M.apply(this,arguments)},placeholder:"Upload .csv"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",disabled:i,children:n?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Upload"]})})}),Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(e){e.preventDefault(),z.push("/admin/class-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function de(){var e=Object(l.i)(),a=re(),t=a.data,n=(a.isLoading,Object(s.useState)("admin")),c=Object(m.a)(n,2),o=(c[0],c[1],Object(l.g)()),r=Object(G.useToasts)().addToast,i=Object(s.useContext)(C).state,j=Object(Z.b)(),b={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+i.access_token}},h=Object(q.a)((function(e){return I.a.delete("".concat(F,"v1/class/delete/").concat(e),b)}),{onSuccess:function(){j.invalidateQueries("classes"),r("Class Deleted successfully",{appearance:"success",autoDismiss:!0})}}),v=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.mutate(a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"All Classes"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:Object(p.jsxs)("table",{className:"table table-hover",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"#"}),Object(p.jsx)("th",{scope:"col",children:"Class Name"}),Object(p.jsx)("th",{scope:"col",children:"Section"}),Object(p.jsx)("th",{scope:"col",children:"Capacity"}),Object(p.jsx)("th",{scope:"col",children:"Action"})]})}),Object(p.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((function(a,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:t}),Object(p.jsx)("td",{children:a.class_name}),Object(p.jsx)("td",{children:a.section}),Object(p.jsx)("td",{children:a.capacity}),Object(p.jsxs)("td",{children:[Object(p.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(t){e.school_id?o.push("/admin/class-management/modify-class/".concat(null===e||void 0===e?void 0:e.school_id,"/").concat(null===a||void 0===a?void 0:a._id)):o.push("/admin/class-management/modify-class/".concat(null===a||void 0===a?void 0:a._id))},children:Object(p.jsx)("span",{className:"fa fa-edit"})}),Object(p.jsx)("button",{className:"btn bg-danger text-white btn-sm",onClick:function(){return v(null===a||void 0===a?void 0:a._id)},children:Object(p.jsx)("span",{className:"fa fa-trash"})})]})]},null===a||void 0===a?void 0:a._id)}))})]})})]})}function ue(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(l.h)().pathname,n=Object(G.useToasts)().addToast,c=Object(s.useContext)(C).state,o=Object(s.useState)(!1),r=Object(m.a)(o,2),i=r[0],j=r[1],h=function(){var e=Object(l.i)(),a=null===e||void 0===e?void 0:e.subject_id,t=Object(s.useContext)(C).state;return Object(D.a)("single-module-".concat(a),Object(u.a)(d.a.mark((function e(){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,I.a.get("".concat(F,"v1/subject/view/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return s=e.sent,e.abrupt("return",s.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,v=Object(s.useState)({}),O=Object(m.a)(v,2),f=O[0],x=O[1],g={subject_name:"",subject_slug:""},N=Object(s.useState)(g),_=Object(m.a)(N,2),y=_[0],w=_[1];Object(s.useEffect)((function(){x(h)}),[h]);var k=Object(Z.b)(),S={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},T=Object(q.a)((function(e){return I.a.post("".concat(F,"v1/subject/create"),e,S)}),{onSuccess:function(){k.invalidateQueries("subjects"),j(!1),w(g),e.push("".concat(t)),n("Subject added successfully",{appearance:"success",autoDismiss:!0})}}),A=Object(q.a)((function(e){var t=null===a||void 0===a?void 0:a.subject_id;return I.a.patch("".concat(F,"v1/subject/update/").concat(t),e,S)}),{onSuccess:function(){k.invalidateQueries("subjects"),j(!1),w(g),e.push("".concat(t)),n("Subject Updated successfully",{appearance:"success",autoDismiss:!0})}}),L=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),j(!0),!(null===a||void 0===a?void 0:a.subject_id)){e.next=7;break}return e.next=5,A.mutate(f);case 5:e.next=9;break;case 7:return e.next=9,T.mutate(y);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function z(){return(z=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===a||void 0===a?void 0:a.subject_id)?x(Object(b.a)(Object(b.a)({},f),{},Object(H.a)({},t.target.name,t.target.value))):w(Object(b.a)(Object(b.a)({},y),{},Object(H.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Subejct"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:L,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"subject_name",value:(null===a||void 0===a?void 0:a.subject_id)?null===f||void 0===f?void 0:f.subject_name:null===y||void 0===y?void 0:y.subject_name,onChange:function(e){return z.apply(this,arguments)},placeholder:"Subject Name"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",children:i?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:(null===a||void 0===a?void 0:a.subject_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Update Subject"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Save Subject"]})})}),(null===a||void 0===a?void 0:a.subject_id)&&Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(a){a.preventDefault(),e.push("/admin/subject-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function me(){var e=Object(s.useState)(!1),a=Object(m.a)(e,2),t=a[0],n=a[1],c=Object(s.useState)(!0),o=Object(m.a)(c,2),r=o[0],i=o[1],j=Object(s.useContext)(C).state,b=Object(G.useToasts)().addToast,h=Object(s.useState)(null),v=Object(m.a)(h,2),O=(v[0],v[1]),f=Object(l.g)(),x=Object(Z.b)(),g={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+j.access_token}},N=new FormData;function _(){return(_=Object(u.a)(d.a.mark((function e(a){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.files[0].name,console.log("file onchange ",t),s=t.split(".")[1],console.log(s),"csv"===s?(i(!1),O(a.target.files[0]),N.append("file",a.target.files[0]),N.append("test","testdata")):(i(!0),b("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=Object(q.a)((function(e){return console.log(e.file),I.a.post("".concat(F,"v1/subject/upload"),e,g)}),{onSuccess:function(){x.invalidateQueries("subjects"),n(!1),f.push("".concat(path)),b("Subjects added successfully",{appearance:"success",autoDismiss:!0})}}),w=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,y.mutate(N);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Upload Subjects"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:w,method:"POST",encType:"multipart/form-data",children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return _.apply(this,arguments)},placeholder:"Upload .csv"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",disabled:r,children:t?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Upload"]})})}),Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(e){e.preventDefault(),f.push("/admin/subject-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function je(){var e=function(){var e=Object(s.useContext)(C).state;return Object(D.a)("subjects",Object(u.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.access_token){a.next=5;break}return a.next=3,I.a.get("".concat(F,"v1/subject/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return t=a.sent,a.abrupt("return",t.data.data);case 5:case"end":return a.stop()}}),a)}))))}(),a=e.data,t=e.isLoading,n=Object(l.g)(),c=Object(G.useToasts)().addToast,o=Object(s.useContext)(C).state,r=Object(Z.b)(),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+o.access_token}},m=Object(q.a)((function(e){return I.a.delete("".concat(F,"v1/subject/delete/").concat(e),i)}),{onSuccess:function(){r.invalidateQueries("subjects"),c("Subject Deleted successfully",{appearance:"success",autoDismiss:!0})}}),j=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.mutate(a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"All Classes"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsx)(B,{isLoading:t}),Object(p.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:Object(p.jsxs)("table",{className:"table table-hover",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"#"}),Object(p.jsx)("th",{scope:"col",children:"Subject Name"}),Object(p.jsx)("th",{scope:"col",children:"Action"})]})}),Object(p.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map((function(e,a){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:a}),Object(p.jsx)("td",{children:e.subject_name}),Object(p.jsxs)("td",{children:[Object(p.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(a){n.push("/admin/subject-management/modify-subject/".concat(null===e||void 0===e?void 0:e._id))},children:Object(p.jsx)("span",{className:"fa fa-edit"})}),Object(p.jsx)("button",{className:"btn bg-danger text-white btn-sm",onClick:function(){return j(null===e||void 0===e?void 0:e._id)},children:Object(p.jsx)("span",{className:"fa fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)}))})]})})]})}function be(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(l.h)().pathname,n=Object(G.useToasts)().addToast,c=Object(s.useContext)(C).state,o=Object(s.useState)(!1),r=Object(m.a)(o,2),i=r[0],j=r[1],h=function(){var e=Object(l.i)(),a=null===e||void 0===e?void 0:e.student_id,t=Object(s.useContext)(C).state;return Object(D.a)("single-module-".concat(a),Object(u.a)(d.a.mark((function e(){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,I.a.get("".concat(F,"v1/student/view/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return s=e.sent,e.abrupt("return",s.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,v=Object(s.useState)({}),O=Object(m.a)(v,2),f=O[0],x=O[1],g={first_name:"",last_name:"",class_id:"",class_name:"",guardian_name:"",guardian_phone:""},N=Object(s.useState)(g),_=Object(m.a)(N,2),y=_[0],w=_[1];Object(s.useEffect)((function(){x(h)}),[h]);var k=Object(Z.b)(),S={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},T=Object(q.a)((function(e){return I.a.post("".concat(F,"v1/student/create"),e,S)}),{onSuccess:function(){k.invalidateQueries("students"),j(!1),w(g),e.push("".concat(t)),n("Student added successfully",{appearance:"success",autoDismiss:!0})}}),A=Object(q.a)((function(e){var t=null===a||void 0===a?void 0:a.student_id;return I.a.patch("".concat(F,"v1/student/update/").concat(t),e,S)}),{onSuccess:function(){k.invalidateQueries("students"),j(!1),w(g),e.push("".concat(t)),n("Student Updated successfully",{appearance:"success",autoDismiss:!0})}}),L=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),j(!0),!(null===a||void 0===a?void 0:a.student_id)){e.next=7;break}return e.next=5,A.mutate(f);case 5:e.next=9;break;case 7:return e.next=9,T.mutate(y);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function z(e){return B.apply(this,arguments)}function B(){return(B=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===a||void 0===a?void 0:a.student_id)?x(Object(b.a)(Object(b.a)({},f),{},Object(H.a)({},t.target.name,t.target.value))):w(Object(b.a)(Object(b.a)({},y),{},Object(H.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Student"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:L,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"first_name",value:(null===a||void 0===a?void 0:a.student_id)?null===f||void 0===f?void 0:f.first_name:null===y||void 0===y?void 0:y.first_name,onChange:z,placeholder:"First Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"last_name",value:(null===a||void 0===a?void 0:a.student_id)?null===f||void 0===f?void 0:f.last_name:null===y||void 0===y?void 0:y.last_name,onChange:z,placeholder:"Last Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"guardian_name",value:(null===a||void 0===a?void 0:a.student_id)?null===f||void 0===f?void 0:f.guardian_name:null===y||void 0===y?void 0:y.guardian_name,onChange:z,placeholder:"Guardian Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"guardian_phone_no",value:(null===a||void 0===a?void 0:a.student_id)?null===f||void 0===f?void 0:f.guardian_phone_no:null===y||void 0===y?void 0:y.guardian_phone_no,onChange:z,placeholder:"Guardian Phone"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",children:i?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:(null===a||void 0===a?void 0:a.student_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Update Student"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Save Student"]})})}),(null===a||void 0===a?void 0:a.student_id)&&Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(a){a.preventDefault(),e.push("/admin/students-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function pe(){var e=Object(s.useState)(!1),a=Object(m.a)(e,2),t=a[0],n=a[1],c=Object(s.useState)(!0),o=Object(m.a)(c,2),r=o[0],i=o[1],j=Object(s.useContext)(C).state,b=Object(G.useToasts)().addToast,h=Object(s.useState)(null),v=Object(m.a)(h,2),O=(v[0],v[1]),f=Object(l.g)(),x=Object(Z.b)(),g={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+j.access_token}},N=new FormData;function _(){return(_=Object(u.a)(d.a.mark((function e(a){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.files[0].name,console.log("file onchange ",t),s=t.split(".")[1],console.log(s),"csv"===s?(i(!1),O(a.target.files[0]),N.append("file",a.target.files[0]),N.append("test","testdata")):(i(!0),b("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=Object(q.a)((function(e){return console.log(e.file),I.a.post("".concat(F,"v1/student/upload"),e,g)}),{onSuccess:function(){x.invalidateQueries("students"),n(!1),f.push("".concat(path)),b("Student added successfully",{appearance:"success",autoDismiss:!0})}}),w=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,y.mutate(N);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Upload Students"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:w,method:"POST",encType:"multipart/form-data",children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return _.apply(this,arguments)},placeholder:"Upload .csv"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",disabled:r,children:t?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Upload"]})})}),Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(e){e.preventDefault(),f.push("/admin/students-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function he(){var e=function(){var e=Object(s.useContext)(C).state;return Object(D.a)("students",Object(u.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.access_token){a.next=5;break}return a.next=3,I.a.get("".concat(F,"v1/student/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return t=a.sent,a.abrupt("return",t.data.data);case 5:case"end":return a.stop()}}),a)}))))}(),a=e.data,t=e.isLoading,n=Object(l.g)(),c=Object(G.useToasts)().addToast,o=Object(s.useContext)(C).state,r=Object(Z.b)(),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+o.access_token}},m=Object(q.a)((function(e){return I.a.delete("".concat(F,"v1/student/delete/").concat(e),i)}),{onSuccess:function(){r.invalidateQueries("students"),c("Student Deleted successfully",{appearance:"success",autoDismiss:!0})}}),j=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.mutate(a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"All Students"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsx)(B,{isLoading:t}),Object(p.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:Object(p.jsxs)("table",{className:"table table-hover",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"#"}),Object(p.jsx)("th",{scope:"col",children:"First Name"}),Object(p.jsx)("th",{scope:"col",children:"Last Name"}),Object(p.jsx)("th",{scope:"col",children:"Guardian Name"}),Object(p.jsx)("th",{scope:"col",children:"Guardian Phone"})]})}),Object(p.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map((function(e,a){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:a}),Object(p.jsx)("td",{children:e.first_name}),Object(p.jsx)("td",{children:e.last_name}),Object(p.jsx)("td",{children:e.guardian_name}),Object(p.jsx)("td",{children:e.guardian_phone_no}),Object(p.jsxs)("td",{children:[Object(p.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(a){n.push("/admin/students-management/modify-student/".concat(null===e||void 0===e?void 0:e._id))},children:Object(p.jsx)("span",{className:"fa fa-edit"})}),Object(p.jsx)("button",{className:"btn bg-danger text-white btn-sm",onClick:function(){return j(null===e||void 0===e?void 0:e._id)},children:Object(p.jsx)("span",{className:"fa fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)}))})]})})]})}function ve(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(l.h)().pathname,n=Object(G.useToasts)().addToast,c=Object(s.useContext)(C).state,o=Object(s.useState)(!1),r=Object(m.a)(o,2),i=r[0],j=r[1],h=function(){var e=Object(l.i)(),a=null===e||void 0===e?void 0:e.teacher_id,t=Object(s.useContext)(C).state;return Object(D.a)("single-module-".concat(a),Object(u.a)(d.a.mark((function e(){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,I.a.get("".concat(F,"v1/teacher/view/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return s=e.sent,e.abrupt("return",s.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,v=Object(s.useState)({}),O=Object(m.a)(v,2),f=O[0],x=O[1],g={first_name:"",last_name:"",class_assigned:"",phone_no:""},N=Object(s.useState)(g),_=Object(m.a)(N,2),y=_[0],w=_[1];Object(s.useEffect)((function(){x(h)}),[h]);var k=Object(Z.b)(),S={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}},T=Object(q.a)((function(e){return I.a.post("".concat(F,"v1/teacher/create"),e,S)}),{onSuccess:function(){k.invalidateQueries("teachers"),j(!1),w(g),e.push("".concat(t)),n("Teacher added successfully",{appearance:"success",autoDismiss:!0})}}),A=Object(q.a)((function(e){var t=null===a||void 0===a?void 0:a.teacher_id;return I.a.patch("".concat(F,"v1/teacher/update/").concat(t),e,S)}),{onSuccess:function(){k.invalidateQueries("teachers"),j(!1),w(g),e.push("".concat(t)),n("Teacher Updated successfully",{appearance:"success",autoDismiss:!0})}}),L=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),j(!0),!(null===a||void 0===a?void 0:a.teacher_id)){e.next=7;break}return e.next=5,A.mutate(f);case 5:e.next=9;break;case 7:return e.next=9,T.mutate(y);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function z(e){return B.apply(this,arguments)}function B(){return(B=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===a||void 0===a?void 0:a.teacher_id)?x(Object(b.a)(Object(b.a)({},f),{},Object(H.a)({},t.target.name,t.target.value))):w(Object(b.a)(Object(b.a)({},y),{},Object(H.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Add New Teacher"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:L,children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"first_name",value:(null===a||void 0===a?void 0:a.teacher_id)?null===f||void 0===f?void 0:f.first_name:null===y||void 0===y?void 0:y.first_name,onChange:z,placeholder:"First Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"last_name",value:(null===a||void 0===a?void 0:a.teacher_id)?null===f||void 0===f?void 0:f.last_name:null===y||void 0===y?void 0:y.last_name,onChange:z,placeholder:"Last Name"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"class_assigned",value:(null===a||void 0===a?void 0:a.teacher_id)?null===f||void 0===f?void 0:f.class_assigned:null===y||void 0===y?void 0:y.class_assigned,onChange:z,placeholder:"Class Assigned"})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",name:"phone_no",value:(null===a||void 0===a?void 0:a.teacher_id)?null===f||void 0===f?void 0:f.phone_no:null===y||void 0===y?void 0:y.phone_no,onChange:z,placeholder:"Phone no"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",children:i?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:(null===a||void 0===a?void 0:a.teacher_id)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Update Teacher"]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Save Teacher"]})})}),(null===a||void 0===a?void 0:a.teacher_id)&&Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(a){a.preventDefault(),e.push("/admin/teachers-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function Oe(){var e=Object(s.useState)(!1),a=Object(m.a)(e,2),t=a[0],n=a[1],c=Object(s.useState)(!0),o=Object(m.a)(c,2),r=o[0],i=o[1],j=Object(s.useContext)(C).state,b=Object(G.useToasts)().addToast,h=Object(s.useState)(null),v=Object(m.a)(h,2),O=(v[0],v[1]),f=Object(l.g)(),x=Object(Z.b)(),g={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+j.access_token}},N=new FormData;function _(){return(_=Object(u.a)(d.a.mark((function e(a){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.files[0].name,console.log("file onchange ",t),s=t.split(".")[1],console.log(s),"csv"===s?(i(!1),O(a.target.files[0]),N.append("file",a.target.files[0]),N.append("test","testdata")):(i(!0),b("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=Object(q.a)((function(e){return console.log(e.file),I.a.post("".concat(F,"v1/teacher/upload"),e,g)}),{onSuccess:function(){x.invalidateQueries("teachers"),n(!1),f.push("".concat(path)),b("Teacher added successfully",{appearance:"success",autoDismiss:!0})}}),w=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,y.mutate(N);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"Upload Teachers"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsxs)("form",{onSubmit:w,method:"POST",encType:"multipart/form-data",children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"file",className:"form-control",name:"file",onChange:function(e){return _.apply(this,arguments)},placeholder:"Upload .csv"})}),Object(p.jsxs)("div",{className:"form-group flex",children:[Object(p.jsx)("button",{className:"btn btn-sm dark",disabled:r,children:t?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2"}),"processing ...."]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-save mr-2"})," Upload"]})})}),Object(p.jsxs)("button",{className:"btn btn-sm red ml-2",onClick:function(e){e.preventDefault(),f.push("/admin/teachers-management")},children:[Object(p.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})]})}function fe(){var e=oe(),a=e.data,t=e.isLoading,n=Object(l.g)(),c=Object(G.useToasts)().addToast,o=Object(s.useContext)(C).state,r=Object(Z.b)(),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+o.access_token}},m=Object(q.a)((function(e){return I.a.delete("".concat(F,"v1/teacher/delete/").concat(e),i)}),{onSuccess:function(){r.invalidateQueries("teachers"),c("Teacher Deleted successfully",{appearance:"success",autoDismiss:!0})}}),j=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.mutate(a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"form-heading",children:[Object(p.jsx)("span",{className:"fa fa-plus-circle mr-2"}),"All Teachers"]}),Object(p.jsx)("hr",{className:"mt-1"}),Object(p.jsx)(B,{isLoading:t}),Object(p.jsx)("div",{className:"col-md-12 row no-gutter data-container-category",children:Object(p.jsxs)("table",{className:"table table-hover",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"#"}),Object(p.jsx)("th",{scope:"col",children:"First Name"}),Object(p.jsx)("th",{scope:"col",children:"Last Name"}),Object(p.jsx)("th",{scope:"col",children:"Class Assigned"}),Object(p.jsx)("th",{scope:"col",children:"Phone no"})]})}),Object(p.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map((function(e,a){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:a}),Object(p.jsx)("td",{children:e.first_name}),Object(p.jsx)("td",{children:e.last_name}),Object(p.jsx)("td",{children:e.class_assigned}),Object(p.jsx)("td",{children:e.phone_no}),Object(p.jsxs)("td",{children:[Object(p.jsx)("button",{className:"btn bg-primary text-white btn-sm mr-2",onClick:function(a){n.push("/admin/teachers-management/modify-teacher/".concat(null===e||void 0===e?void 0:e._id))},children:Object(p.jsx)("span",{className:"fa fa-edit"})}),Object(p.jsx)("button",{className:"btn bg-danger text-white btn-sm",onClick:function(){return j(null===e||void 0===e?void 0:e._id)},children:Object(p.jsx)("span",{className:"fa fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)}))})]})})]})}var xe=[{path:"/",component:R},{path:"/admin/login",component:R},{path:"/403",component:function(){var e=Object(s.useContext)(C).state;return Object(p.jsx)(p.Fragment,{children:e.isLoggedIn&&Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container pt-5 text-center",children:[Object(p.jsx)("img",{src:"/403.jpg",alt:"Not authorized"}),Object(p.jsx)("p",{children:"You are not authorized to access this resource"}),Object(p.jsxs)(r.b,{to:"/dashboard",children:[Object(p.jsx)("span",{className:"fa fa-home"}),Object(p.jsx)("span",{className:"ml-3",children:"Go to Dashboard"})]})]})})})})}},{path:"/school/admin/login",component:function(){var e=Object(l.g)(),a=Object(l.h)(),t=Object(G.useToasts)().addToast,n=Object(s.useRef)(),c=Object(s.useRef)(),o=Object(s.useState)(null),i=Object(m.a)(o,2),j=(i[0],i[1],Object(s.useContext)(C)),b=j.dispatch,h=j.state,v=Object(s.useState)(!1),O=Object(m.a)(v,2),f=O[0],x=O[1],g=function(){var a=Object(u.a)(d.a.mark((function a(s){var o,r,l,i,u,m,j,p,h,v,O,f,g,N,_,y,w;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),o=n.current.value,r=c.current.value,""!==o){a.next=8;break}return t("Please enter email address",{appearance:"error",autoDismiss:!0}),a.abrupt("return",!1);case 8:if(""!==r){a.next=14;break}return t("Please enter password",{appearance:"error",autoDismiss:!0}),c.current.focus(),a.abrupt("return",!1);case 14:return x(!0),l={email:n.current.value,password:c.current.value},a.next=18,I.a.post("".concat(F,"v1/school-admin-auth/login"),l);case 18:203===(null===(i=a.sent)||void 0===i?void 0:i.status)?(t("".concat(null===i||void 0===i||null===(u=i.data)||void 0===u?void 0:u.message),{appearance:"error",autoDismiss:!0}),x(!1)):(m=i.data.accessToken,j=i.data.refreshToken,p=i.data.admin.first_name+" "+i.data.admin.last_name,h=i.data.admin.email,v=i.data.admin.role,O="school_admin",f=i.data.admin._id,g=i.data.school.name,N=Y(g),_=i.data.school.logo,y=i.data.admin.created_at,w=!0,localStorage.setItem("access_token",m),localStorage.setItem("refresh_token",j),localStorage.setItem("fullname",p),localStorage.setItem("email",h),localStorage.setItem("role",v),localStorage.setItem("user_type",O),localStorage.setItem("school_id",f),localStorage.setItem("school_slug",N),localStorage.setItem("school_logo",_),localStorage.setItem("created_at",y),localStorage.setItem("isLoggedIn",w),b({type:"LOGIN",payload:{isLoggedIn:w,fullname:p,email:h,role:v,user_type:O,school_id:f,school_slug:N,school_logo:_,created_at:y,access_token:m,refresh_token:j}}),e.push("/school/".concat(N,"/admin/dashboard")));case 20:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();function N(){return(N=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!0===(null===h||void 0===h?void 0:h.isLoggedIn)?"1"===(null===h||void 0===h?void 0:h.role)&&e.push("/school/admin/dashboard"):"/school/admin/login"===(null===a||void 0===a?void 0:a.pathname)&&e.push("/school/admin/login");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){return N.apply(this,arguments)}),[h]),Object(p.jsxs)("div",{className:"container-fluid p-0 m-0 text-center SchoolAdminLoginBg",style:{background:"url('/bg.jpg')"},children:[Object(p.jsx)("div",{className:"col-md-12",children:Object(p.jsx)(r.c,{to:"/",children:Object(p.jsx)("img",{className:"logo",alt:"company Logo",src:"/logo.png"})})}),Object(p.jsx)("div",{className:"row no-gutter",children:Object(p.jsxs)("div",{className:"col-md-3 schoolAdminLoginDiv",children:[Object(p.jsx)("h4",{children:"School Admin Login "}),Object(p.jsx)("hr",{}),Object(p.jsxs)("form",{autoComplete:"Off",onSubmit:g,children:[Object(p.jsxs)("div",{className:"form-group text-left",children:[Object(p.jsxs)("label",{children:[" ",Object(p.jsx)("span",{className:"fa fa-send mr-2"})," Email address"]}),Object(p.jsx)("input",{className:"form-control",type:"email",autoComplete:"off",ref:n,placeholder:"Enter email"}),Object(p.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your email with anyone else."})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{className:"form-group text-left",children:[Object(p.jsxs)("label",{children:[" ",Object(p.jsx)("span",{className:"fa fa-lock mr-2"})," Password"]}),Object(p.jsx)("input",{className:"form-control",type:"password",autoComplete:"Off",ref:c,placeholder:"Password"}),Object(p.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your password with anyone else."})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("button",{className:"btn btn-md btn-block btn-success dark w-100",type:"submit",children:f?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2",children:" "})," Authenticating..."]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-lock mr-2",children:" "})," Login Your Account"]})})]})]})})]})}},{path:"/school/teacher/login",component:function(){var e=Object(l.g)(),a=Object(l.h)(),t=Object(G.useToasts)().addToast,n=Object(s.useRef)(),c=Object(s.useRef)(),o=Object(s.useState)(null),i=Object(m.a)(o,2),j=(i[0],i[1],Object(s.useContext)(C)),b=j.dispatch,h=j.state,v=Object(s.useState)(!1),O=Object(m.a)(v,2),f=O[0],x=O[1],g=function(){var a=Object(u.a)(d.a.mark((function a(s){var o,r,l,i,u,m,j,p,h,v,O,f;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),o=n.current.value,r=c.current.value,""!==o){a.next=8;break}return t("Please enter email address",{appearance:"error",autoDismiss:!0}),a.abrupt("return",!1);case 8:if(""!==r){a.next=14;break}return t("Please enter password",{appearance:"error",autoDismiss:!0}),c.current.focus(),a.abrupt("return",!1);case 14:return x(!0),l={email:n.current.value,password:c.current.value},a.next=18,I.a.post("".concat(F,"v1/admin/login"),l);case 18:(i=a.sent).response&&i.response.status?(t("Please enter valid email or password",{appearance:"error",autoDismiss:!0}),x(!1)):(u=i.data.accessToken,m=i.data.refreshToken,j=i.data.admin.fullname,p=i.data.admin.email,h=i.data.admin.role,v="teacher",O=i.data.admin.created_at,f=!0,localStorage.setItem("access_token",u),localStorage.setItem("refresh_token",m),localStorage.setItem("fullname",j),localStorage.setItem("email",p),localStorage.setItem("role",h),localStorage.setItem("user_type",v),localStorage.setItem("created_at",O),localStorage.setItem("isLoggedIn",f),b({type:"LOGIN",payload:{isLoggedIn:f,fullname:j,email:p,role:h,user_type:v,created_at:O,access_token:u,refresh_token:m}}),"1"===h?e.push("/school/admin/dashboard"):"2"===h?e.push("/school/teachers/dashboard"):"3"===h&&e.push("/school/students/dashboard"));case 20:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();function N(){return(N=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!0===(null===h||void 0===h?void 0:h.isLoggedIn)?"2"===(null===h||void 0===h?void 0:h.role)&&e.push("/school/teachers/dashboard"):"/school/teacher/login"==(null===a||void 0===a?void 0:a.pathname)&&e.push("/school/teacher/login");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){return N.apply(this,arguments)}),[h]),Object(p.jsxs)("div",{className:"container-fluid p-0 m-0 text-center SchoolTeacherLoginBg",style:{background:"url('/bg.jpg')"},children:[Object(p.jsx)("div",{className:"col-md-12",children:Object(p.jsx)(r.c,{to:"/",children:Object(p.jsx)("img",{className:"logo",alt:"company Logo",src:"/logo.png"})})}),Object(p.jsx)("div",{className:"row no-gutter",children:Object(p.jsxs)("div",{className:"col-md-3 schoolTeacherLoginDiv",children:[Object(p.jsx)("h4",{children:"School Teacher Login "}),Object(p.jsx)("hr",{}),Object(p.jsxs)("form",{autoComplete:"Off",onSubmit:g,children:[Object(p.jsxs)("div",{className:"form-group text-left",children:[Object(p.jsxs)("label",{children:[" ",Object(p.jsx)("span",{className:"fa fa-send mr-2"})," Email address"]}),Object(p.jsx)("input",{className:"form-control",type:"email",autoComplete:"off",ref:n,placeholder:"Enter email"}),Object(p.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your email with anyone else."})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{className:"form-group text-left",children:[Object(p.jsxs)("label",{children:[" ",Object(p.jsx)("span",{className:"fa fa-lock mr-2"})," Password"]}),Object(p.jsx)("input",{className:"form-control",type:"password",autoComplete:"Off",ref:c,placeholder:"Password"}),Object(p.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your password with anyone else."})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("button",{className:"btn btn-md btn-block btn-success dark w-100",type:"submit",children:f?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2",children:" "})," Authenticating..."]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-lock mr-2",children:" "})," Login Your Account"]})})]})]})})]})}},{path:"/school/student/login",component:function(){var e=Object(l.g)(),a=Object(l.h)(),t=Object(G.useToasts)().addToast,n=Object(s.useRef)(),c=Object(s.useRef)(),o=Object(s.useState)(null),i=Object(m.a)(o,2),j=(i[0],i[1],Object(s.useContext)(C)),b=j.dispatch,h=j.state,v=Object(s.useState)(!1),O=Object(m.a)(v,2),f=O[0],x=O[1],g=function(){var a=Object(u.a)(d.a.mark((function a(s){var o,r,l,i,u,m,j,p,h,v,O,f;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),o=n.current.value,r=c.current.value,""!==o){a.next=8;break}return t("Please enter email address",{appearance:"error",autoDismiss:!0}),a.abrupt("return",!1);case 8:if(""!==r){a.next=14;break}return t("Please enter password",{appearance:"error",autoDismiss:!0}),c.current.focus(),a.abrupt("return",!1);case 14:return x(!0),l={email:n.current.value,password:c.current.value},a.next=18,I.a.post("".concat(F,"v1/admin/login"),l);case 18:(i=a.sent).response&&i.response.status?(t("Please enter valid email or password",{appearance:"error",autoDismiss:!0}),x(!1)):(u=i.data.accessToken,m=i.data.refreshToken,j=i.data.admin.fullname,p=i.data.admin.email,h=i.data.admin.role,v="student",O=i.data.admin.created_at,f=!0,localStorage.setItem("access_token",u),localStorage.setItem("refresh_token",m),localStorage.setItem("fullname",j),localStorage.setItem("email",p),localStorage.setItem("role",h),localStorage.setItem("user_type",v),localStorage.setItem("created_at",O),localStorage.setItem("isLoggedIn",f),b({type:"LOGIN",payload:{isLoggedIn:f,fullname:j,email:p,role:h,user_type:v,created_at:O,access_token:u,refresh_token:m}}),"1"===h?e.push("/school/admin/dashboard"):"2"===h?e.push("/school/teachers/dashboard"):"3"===h&&e.push("/school/students/dashboard"));case 20:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();function N(){return(N=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!0===(null===h||void 0===h?void 0:h.isLoggedIn)?"3"===(null===h||void 0===h?void 0:h.role)&&e.push("/school/students/dashboard"):"/school/student/login"==(null===a||void 0===a?void 0:a.pathname)&&e.push("/school/student/login");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){return N.apply(this,arguments)}),[h]),Object(p.jsxs)("div",{className:"container-fluid p-0 m-0 text-center StudentLoginBg",style:{background:"url('/bg.jpg')"},children:[Object(p.jsx)("div",{className:"col-md-4",style:{position:"absolute"},children:Object(p.jsx)(r.c,{to:"/",children:Object(p.jsx)("img",{className:"logo",alt:"company Logo",src:"/logo.png"})})}),Object(p.jsx)("div",{className:"row no-gutter",children:Object(p.jsxs)("div",{className:"col-md-3 StudentLoginDiv",children:[Object(p.jsx)("h4",{children:"School Student Login "}),Object(p.jsx)("hr",{}),Object(p.jsxs)("form",{autoComplete:"Off",onSubmit:g,children:[Object(p.jsxs)("div",{className:"form-group text-left",children:[Object(p.jsxs)("label",{children:[" ",Object(p.jsx)("span",{className:"fa fa-send mr-2"})," Email address"]}),Object(p.jsx)("input",{className:"form-control",type:"email",autoComplete:"off",ref:n,placeholder:"Enter email"}),Object(p.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your email with anyone else."})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{className:"form-group text-left",children:[Object(p.jsxs)("label",{children:[" ",Object(p.jsx)("span",{className:"fa fa-lock mr-2"})," Password"]}),Object(p.jsx)("input",{className:"form-control",type:"password",autoComplete:"Off",ref:c,placeholder:"Password"}),Object(p.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your password with anyone else."})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("button",{className:"btn btn-md btn-block btn-success dark w-100",type:"submit",children:f?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-spinner mr-2",children:" "})," Authenticating..."]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"fa fa-lock mr-2",children:" "})," Login Your Account"]})}),Object(p.jsx)("hr",{})]})]})})]})}}],ge=[{path:"/admin/dashboard",component:W},{path:"/admin",component:W},{path:"/admin/school-management/:page_type?/:school_id?",component:function(){Object(l.i)();var e=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"School List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsx)("div",{className:"col-md-12 row",children:Object(p.jsx)("button",{className:"btn btn-sm dark",onClick:function(a){e.push("/admin/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)(J,{})}),Object(p.jsx)("div",{className:"col-md-9 ",children:Object(p.jsx)(K,{})})]})})]})})})}},{path:"/admin/class-management/:page_type?/:school_id?/:class_id?",component:function(){var e=Object(l.i)(),a=Object(l.g)();return Object(l.h)(),Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"Class List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsxs)("div",{className:"col-md-12 row",children:[Object(p.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){a.push("/admin/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})}),Object(p.jsxs)("button",{className:"btn btn-sm dark",onClick:function(e){a.push("/admin/class-management/upload")},children:[Object(p.jsx)("span",{className:"fa fa-upload"}),"   Upload Classes"]})]})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:"upload"==e.page_type?Object(p.jsx)(ie,{}):Object(p.jsx)(le,{})}),Object(p.jsx)("div",{className:"col-md-9 ",children:Object(p.jsx)(de,{})})]})})]})})})}},{path:"/admin/subject-management/:page_type?/:subject_id?",component:function(){var e=Object(l.i)(),a=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"Subjects List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsxs)("div",{className:"col-md-12 row",children:[Object(p.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){a.push("/admin/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})}),Object(p.jsxs)("button",{className:"btn btn-sm dark",onClick:function(e){a.push("/admin/subject-management/upload")},children:[Object(p.jsx)("span",{className:"fa fa-upload"}),"   Upload Subjects"]})]})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:"upload"==e.page_type?Object(p.jsx)(me,{}):Object(p.jsx)(ue,{})}),Object(p.jsx)("div",{className:"col-md-9 ",children:Object(p.jsx)(je,{})})]})})]})})})}},{path:"/admin/students-management/:page_type?/:student_id?",component:function(){var e=Object(l.i)(),a=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"Student List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsxs)("div",{className:"col-md-12 row",children:[Object(p.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){a.push("/admin/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})}),Object(p.jsxs)("button",{className:"btn btn-sm dark",onClick:function(e){a.push("/admin/students-management/upload")},children:[Object(p.jsx)("span",{className:"fa fa-upload"}),"   Upload Students"]})]})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:"upload"==e.page_type?Object(p.jsx)(pe,{}):Object(p.jsx)(be,{})}),Object(p.jsx)("div",{className:"col-md-9 ",children:Object(p.jsx)(he,{})})]})})]})})})}},{path:"/admin/auth-management/:page_type?/:school_id?/:school_admin_email?/:school_admin_id?",component:function(){var e=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"School Admins"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsx)("div",{className:"col-md-12 row",children:Object(p.jsx)("button",{className:"btn btn-sm dark",onClick:function(a){e.push("/admin/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})})})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)(V,{})}),Object(p.jsx)("div",{className:"col-md-9 ",children:Object(p.jsx)(ee,{})})]})})]})})})}},{path:"/admin/teachers-management/:page_type?/:teacher_id?",component:function(){var e=Object(l.i)(),a=Object(l.g)();return Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"dash-main-head",children:Object(p.jsx)("h2",{children:"Teacher List"})}),Object(p.jsx)("div",{className:"dash-con-heading",children:Object(p.jsxs)("div",{className:"col-md-12 row",children:[Object(p.jsx)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){a.push("/admin/dashboard")},children:Object(p.jsx)("span",{className:"fa fa-dashboard"})}),Object(p.jsxs)("button",{className:"btn btn-sm dark",onClick:function(e){a.push("/admin/teachers-management/upload")},children:[Object(p.jsx)("span",{className:"fa fa-upload"}),"   Upload Teachers"]})]})}),Object(p.jsx)("div",{className:"clearfix"}),Object(p.jsx)("div",{className:"dash-cont-start",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:"upload"==e.page_type?Object(p.jsx)(Oe,{}):Object(p.jsx)(ve,{})}),Object(p.jsx)("div",{className:"col-md-9 ",children:Object(p.jsx)(fe,{})})]})})]})})})}}],Ne=[{path:"/admin/app-module/:module_id?",component:ce},{path:"/admin/app-roles/:role_id?",component:ce},{path:"/admin/app-permissions/:permission_id?",component:ce}],_e=[{path:"/school/:school_slug/admin/dashboard",component:function(){var e,a=Object(s.useContext)(C).state;return Object(p.jsx)(p.Fragment,{children:a.isLoggedIn&&Object(p.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(p.jsx)("div",{className:"main-area-all",children:Object(p.jsxs)("div",{className:"dashboard_main-container",children:[Object(p.jsx)("div",{className:"",children:Object(p.jsx)("div",{className:"dash-main-head row",children:Object(p.jsx)("div",{className:"col-md-12 pt-0",children:Object(p.jsxs)("h2",{style:{padding:"7px 15px"},children:["Welcome, ",null===a||void 0===a||null===(e=a.school_slug)||void 0===e?void 0:e.replaceAll("-"," "),Object(p.jsx)("img",{className:"img-responsive ml-2",src:"https://drive.google.com/uc?export=view&id=".concat(null===a||void 0===a?void 0:a.school_logo),style:{width:"50px"}})]})})})}),Object(p.jsx)("div",{className:"dash_over_view",children:Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-12 pl-0"})})})]})})})})}}],ye=new(t(108).a)({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function we(){return Object(p.jsx)(r.a,{children:Object(p.jsx)("div",{className:"wrapper",children:Object(p.jsx)("div",{className:"row no-gutters",children:Object(p.jsx)(Z.a,{client:ye,children:Object(p.jsx)(A,{children:Object(p.jsxs)(G.ToastProvider,{children:[Object(p.jsx)(P,{}),Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsxs)(l.d,{children:[null===xe||void 0===xe?void 0:xe.map((function(e){return Object(p.jsx)(l.b,{exact:!0,path:e.path,component:e.component},e.path)})),null===ge||void 0===ge?void 0:ge.map((function(e){return Object(p.jsx)(U,{exact:!0,path:e.path,component:e.component},e.path)})),null===Ne||void 0===Ne?void 0:Ne.map((function(e){return Object(p.jsx)(Q,{exact:!0,path:e.path,component:e.component},e.path)})),null===_e||void 0===_e?void 0:_e.map((function(e){return Object(p.jsx)(M,{exact:!0,path:e.path,component:e.component},e.path)}))]})})]})})})})})})}o.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(we,{})}),document.getElementById("root"))},61:function(e,a,t){},63:function(e,a,t){},92:function(e,a,t){},99:function(e,a,t){}},[[104,1,2]]]);
//# sourceMappingURL=main.0ac38f41.chunk.js.map